import{_ as o,o as e,c as s,a,e as t,d as n}from"./app.205a3d76.js";var i="/assets/image-20220304103507370.68217c90.png",c="/assets/image-20220304142816042.01b96d19.png";const l={},r=t('<h2 id="tomcat" tabindex="-1"><a class="header-anchor" href="#tomcat" aria-hidden="true">#</a> Tomcat</h2><p>Tomcat\u662Fapache\u63D0\u4F9B\u7684\uFF0C\u9488\u5BF9java\u7684\u5B9A\u5236\u670D\u52A1\u5668\uFF0C\u5B9E\u73B0\u4E86java ee\u6700\u91CD\u8981\u7684\u4E24\u5927\u9879\uFF1Aseverlet\u3001jsp\u3002</p><p>\u4F18\u70B9\u561B\uFF0C\u4E0D\u8981\u94B1\uFF01\u4E5F\u56E0\u6B64\u5728java\u7684\u5386\u53F2\u4E0A\u626E\u6F14\u4E86\u6700\u91CD\u8981\u7684\u89D2\u8272\u3002</p><p>\u5728springboot\u5185\u7F6Etomcat\u6210\u4E3A\u4E3B\u6D41\u90E8\u7F72\u65B9\u5F0F\u540E\uFF0C\u6211\u4EEC\u5F88\u5C11\u4F1A\u5728\u7528\u5230tomcat\u4E86\u3002\u4F7F\u7528tomcat\u4F1A\u5BFC\u81F4\u4E00\u90E8\u5206\u914D\u7F6E\u5206\u6563\u4E8E\u9879\u76EE\u4E4B\u5916\u3002</p><h3 id="\u4E3A\u4EC0\u4E48\u6211\u4EEC\u8FD8\u8981\u7528\u5B83" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48\u6211\u4EEC\u8FD8\u8981\u7528\u5B83" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48\u6211\u4EEC\u8FD8\u8981\u7528\u5B83\uFF1F</h3><ol><li><p>\u8001\u9879\u76EE\u8FD0\u7EF4\u3001\u8001\u9879\u76EE\u4E8C\u5F00\u6240\u4EA7\u751F\u7684\u201C\u65B0\u9879\u76EE\u201D\u3002</p></li><li><p>\u5728\u540C\u4E00\u4E2A\u7AEF\u53E3\u4E0B\u8FD0\u884C\u591A\u4E2A\u9879\u76EE\uFF0C\u4EE5tomcat\u90E8\u7F72\uFF0C\u53EF\u4EE5\u5B9E\u73B0ip+\u7AEF\u53E3+\u9879\u76EE\u540D\u7684\u65B9\u5F0F\u542F\u52A8\u3002\u800C\u4E00\u4E2Aspringboot app\u5BF9\u5E94\u4E00\u4E2A\u5185\u7F6Etomcat\u5BF9\u5E94\u4E00\u4E2A\u7AEF\u53E3\u7684\u65B9\u5F0F\u65E0\u6CD5\u5B9E\u73B0\u3002</p></li><li><p>\u56E0\u4E3A\u9879\u76EE\u7BA1\u7406\u7684\u8981\u6C42\u9700\u8981\u5BF9class\u6587\u4EF6\u8FDB\u884C\u589E\u91CF\u90E8\u7F72\uFF08\u6211\u8BA4\u4E3A\u8FD9\u79CD\u65B9\u5F0F\u662F\u611A\u8822\u7684\uFF0C\u5B83\u589E\u52A0\u4E86\u5404\u73AF\u5883\u4EE3\u7801\u4E0D\u4E00\u81F4\u7684\u98CE\u9669\uFF0C\u5C06\u590D\u6742\u7E41\u7410\u7684\u64CD\u4F5C\u64CD\u4F5C\u5BC4\u5E0C\u671B\u4E8E\u4EBA\u5DE5\u5C0F\u5FC3\u8C28\u614E\u5904\u7406\uFF0C\u4E0E\u81EA\u52A8\u5316\u90E8\u7F72\u601D\u7EF4\u80CC\u9053\u800C\u9A70\uFF09\u3002</p></li></ol><h2 id="\u5B89\u88C5tomcat" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5tomcat" aria-hidden="true">#</a> \u5B89\u88C5Tomcat</h2><p>\u5F53\u524D\u6700\u65B0\u7248\u672C\u4E0B\u8F7D\u5730\u5740\uFF1A</p><p><a href="https://tomcat.apache.org/" target="_blank" rel="noopener noreferrer">https://tomcat.apache.org/</a></p><p>\u5386\u53F2\u7248\u672C\u4E0B\u8F7D\u5730\u5740\uFF1A</p><p><a href="https://archive.apache.org/dist/tomcat/" target="_blank" rel="noopener noreferrer">https://archive.apache.org/dist/tomcat/</a></p><p>\u4E0B\u8F7D\u5386\u53F2\u7248\u672C\u65F6\uFF0C\u5B89\u88C5\u5305\u5728bin\u76EE\u5F55\u4E0B\uFF1A</p><p><img src="'+i+'" alt="image-20220304103507370"></p><p>\u4E0B\u8F7D\u4EE5tar.gz\u4E3A\u540E\u7F00\u7684\u7248\u672C\uFF1A</p><p><img src="'+c+`" alt="image-20220304142816042"></p><h3 id="\u89E3\u538B" tabindex="-1"><a class="header-anchor" href="#\u89E3\u538B" aria-hidden="true">#</a> \u89E3\u538B</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">tar</span> -zxvf apache-tomcat-7.0.99.tar.gz -C /usr/local/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u914D\u7F6E\u5F00\u673A\u81EA\u542F" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u5F00\u673A\u81EA\u542F" aria-hidden="true">#</a> \u914D\u7F6E\u5F00\u673A\u81EA\u542F</h3><p>\u5728 <code>/etc/rc.d/rc.local</code> \u6587\u4EF6\u6700\u540E\u52A0\u4E0A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>export JAVA_HOME=/usr/local/java/jdk1.7.0_80
/usr/local/apache-tomcat-7.0.99/bin/startup.sh start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BF4\u660E\uFF1A</p><ul><li><code>/usr/local/java/jdk1.7.0_80</code> \u662Fjdk\u5B89\u88C5\u76EE\u5F55</li><li><code>/usr/local/apache-tomcat-7.0.99</code> \u662Ftomcat\u5B89\u88C5\u7684\u76EE\u5F55</li></ul><p>\u4FEE\u6539rc.local\u6587\u4EF6\u4E3A\u53EF\u6267\u884C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> +x  rc.local  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,24),p={class:"custom-container tip"},d={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},u=a("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),h=a("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),m=[u,h],v=a("p",{class:"custom-container-title"},"TIP",-1),g=a("p",null,[n("\u91CD\u542F\u670D\u52A1\u5668\u547D\u4EE4\u662F "),a("code",null,"reboot"),n(" \u3002")],-1),b=t(`<p>\u5B8C\u6BD5\uFF0C\u6492\u82B1\uFF01\u{1F389}</p><h2 id="\u5E38\u6539\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u5E38\u6539\u914D\u7F6E" aria-hidden="true">#</a> \u5E38\u6539\u914D\u7F6E</h2><h3 id="\u4FEE\u6539-uriencoding" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539-uriencoding" aria-hidden="true">#</a> \u4FEE\u6539 <code>URIEncoding</code></h3><p>\u5728 <code>get</code> \u8BF7\u6C42\u8FDB\u5165\u6211\u4EEC\u7684\u5E94\u7528\u524D\uFF0Ctomcat\u4F1A\u6839\u636E <code>URIEncoding</code> \u5BF9URI\u8FDB\u884C\u89E3\u7801\uFF0C\u9ED8\u8BA4\u5B57\u7B26\u7F16\u7801\u662FISO-8859-1\u3002\u8FD9\u4E2A\u4E0D\u6539\u4F1A\u6CA1\u6CD5\u6B63\u5E38\u4F7F\u7528\u5E26\u4E2D\u6587\u7684 <code>get</code> \u8BF7\u6C42\u3002</p><p>\u4FEE\u6539 <code>server.xml</code> \uFF1A</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Connector</span> <span class="token attr-name">port</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8080<span class="token punctuation">&quot;</span></span> <span class="token attr-name">protocol</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>HTTP/1.1<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">connectionTimeout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20000<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">redirectPort</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>8443<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">URIEncoding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line">\xA0</div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4FEE\u6539\u542F\u52A8\u65F6\u7684jvm\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u542F\u52A8\u65F6\u7684jvm\u914D\u7F6E" aria-hidden="true">#</a> \u4FEE\u6539\u542F\u52A8\u65F6\u7684jvm\u914D\u7F6E</h3><p>\u5982\u679C\u662Fwindows\u7CFB\u7EDF\uFF0C\u5E76\u4E14\u4EE5bat\u6587\u4EF6\u542F\u52A8\uFF0C\u53EF\u4EE5\u4FEE\u6539 <code>tomcat\\bin\\catalina.bat</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>setlocal
<span class="token builtin class-name">set</span> JAVA_OPTS <span class="token operator">=</span> -Xms256m -Xmx512m -XX:PermSize<span class="token operator">=</span>128M -XX:MaxNewSize<span class="token operator">=</span>256m -XX:MaxPermSize<span class="token operator">=</span>256m
rem Suppress Terminate batch job on CTRL+C
</code></pre><div class="highlight-lines"><br><div class="highlight-line">\xA0</div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="windows\u73AF\u5883\u4FEE\u6539tomcat\u63A7\u5236\u53F0\u5B57\u7B26\u7F16\u7801" tabindex="-1"><a class="header-anchor" href="#windows\u73AF\u5883\u4FEE\u6539tomcat\u63A7\u5236\u53F0\u5B57\u7B26\u7F16\u7801" aria-hidden="true">#</a> windows\u73AF\u5883\u4FEE\u6539tomcat\u63A7\u5236\u53F0\u5B57\u7B26\u7F16\u7801</h3><p>\u8FD9\u4E2A\u95EE\u9898\u7684\u539F\u56E0\u662Fwindows\u5728\u4E2D\u6587\u73AF\u5883\u4E2D\uFF0Ccmd\u7684\u9ED8\u8BA4\u7F16\u7801\u96C6\u4E3AGBK\uFF0C\u4E0Etomcat\u7684\u5B57\u7B26\u7F16\u7801\u4E0D\u4E00\u81F4\uFF0C\u6240\u4EE5\u5BFC\u81F4\u4E71\u7801\u3002\u6240\u4EE5tomcat\u7684\u547D\u4EE4\u6846\u548C\u8F93\u51FA\u65E5\u5FD7\u90FD\u662F\u4E71\u7801\u3002\u8FD9\u662Fwindows\u7684\u9505\uFF0C\u51C6\u786E\u8BF4\u548Ctomcat\u6CA1\u4EC0\u4E48\u5173\u7CFB\uFF0C\u4F46\u4E3A\u4E86\u4E0D\u5F71\u54CD\u5176\u5B83\u7CFB\u7EDF\u8FD0\u884C\uFF0C\u76F8\u5BF9\u4E8E\u4FEE\u6539windows\u914D\u7F6E\uFF0C\u6700\u4FDD\u5B88\u7684\u89E3\u51B3\u529E\u6CD5\u662F\u4FEE\u6539\u6211\u4EEC\u81EA\u5DF1tomcat\u3002</p><p>\u4FEE\u6539 <code>tomcat\\conf\\logging.properties</code> \uFF1A</p><div class="language-properties ext-properties line-numbers-mode"><pre class="language-properties"><code><span class="token key attr-name">java.util.logging.ConsoleHandler.level</span> <span class="token punctuation">=</span> <span class="token value attr-value">FINE</span>
<span class="token key attr-name">java.util.logging.ConsoleHandler.formatter</span> <span class="token punctuation">=</span> <span class="token value attr-value">org.apache.juli.OneLineFormatter</span>
<span class="token key attr-name">java.util.logging.ConsoleHandler.encoding</span> <span class="token punctuation">=</span> <span class="token value attr-value">GBK</span>
</code></pre><div class="highlight-lines"><br><br><div class="highlight-line">\xA0</div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u636E\u8BF4\u5728jvm\u53C2\u6570\u589E\u52A0 <code>-Dfile.encoding=UTF-8</code> \u4E5F\u662F\u53EF\u4EE5\u7684\u3002</p>`,14);function k(_,x){return e(),s("div",null,[r,a("div",p,[(e(),s("svg",d,m)),v,g]),b])}var w=o(l,[["render",k],["__file","tomcat.html.vue"]]);export{w as default};
