import{_ as o,r as c,o as i,c as l,a as s,b as e,w as p,e as a,d as n}from"./app.205a3d76.js";const u={},d=a(`<p>[TOC]</p><h1 id="\u7B2C\u5341\u516B\u7AE0-\u5B57\u7B26\u4E32" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u5341\u516B\u7AE0-\u5B57\u7B26\u4E32" aria-hidden="true">#</a> \u7B2C\u5341\u516B\u7AE0 \u5B57\u7B26\u4E32</h1><blockquote><p>\u5B57\u7B26\u4E32\u64CD\u4F5C\u6BEB\u65E0\u7591\u95EE\u662F\u8BA1\u7B97\u673A\u7A0B\u5E8F\u8BBE\u8BA1\u4E2D\u6700\u5E38\u89C1\u7684\u884C\u4E3A\u4E4B\u4E00\u3002</p></blockquote><p>\u5728 Java \u5927\u5C55\u62F3\u811A\u7684 Web \u7CFB\u7EDF\u4E2D\u66F4\u662F\u5982\u6B64\u3002\u5728\u672C\u7AE0\u4E2D\uFF0C\u6211\u4EEC\u5C06\u6DF1\u5165\u5B66\u4E60\u5728 Java \u8BED\u8A00\u4E2D\u5E94\u7528\u6700\u5E7F\u6CDB\u7684 <code>String</code> \u7C7B\uFF0C\u5E76\u7814\u7A76\u4E0E\u4E4B\u76F8\u5173\u7684\u7C7B\u53CA\u5DE5\u5177\u3002</p><h2 id="\u5B57\u7B26\u4E32\u7684\u4E0D\u53EF\u53D8" tabindex="-1"><a class="header-anchor" href="#\u5B57\u7B26\u4E32\u7684\u4E0D\u53EF\u53D8" aria-hidden="true">#</a> \u5B57\u7B26\u4E32\u7684\u4E0D\u53EF\u53D8</h2><p><code>String</code> \u5BF9\u8C61\u662F\u4E0D\u53EF\u53D8\u7684\u3002\u67E5\u770B JDK \u6587\u6863\u4F60\u5C31\u4F1A\u53D1\u73B0\uFF0C<code>String</code> \u7C7B\u4E2D\u6BCF\u4E00\u4E2A\u770B\u8D77\u6765\u4F1A\u4FEE\u6539 <code>String</code> \u503C\u7684\u65B9\u6CD5\uFF0C\u5B9E\u9645\u4E0A\u90FD\u662F\u521B\u5EFA\u4E86\u4E00\u4E2A\u5168\u65B0\u7684 <code>String</code> \u5BF9\u8C61\uFF0C\u4EE5\u5305\u542B\u4FEE\u6539\u540E\u7684\u5B57\u7B26\u4E32\u5185\u5BB9\u3002\u800C\u6700\u521D\u7684 <code>String</code> \u5BF9\u8C61\u5219\u4E1D\u6BEB\u672A\u52A8\u3002</p><p>\u770B\u770B\u4E0B\u9762\u7684\u4EE3\u7801\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/Immutable.java</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Immutable</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">upcase</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">String</span> q <span class="token operator">=</span> <span class="token string">&quot;howdy&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// howdy </span>
        <span class="token class-name">String</span> qq <span class="token operator">=</span> <span class="token function">upcase</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>qq<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// HOWDY </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// howdy </span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
howdy
HOWDY 
howdy
*/</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F53\u628A <code>q</code> \u4F20\u9012\u7ED9 <code>upcase()</code> \u65B9\u6CD5\u65F6\uFF0C\u5B9E\u9645\u4F20\u9012\u7684\u662F\u5F15\u7528\u7684\u4E00\u4E2A\u62F7\u8D1D\u3002\u5176\u5B9E\uFF0C\u6BCF\u5F53\u628A String \u5BF9\u8C61\u4F5C\u4E3A\u65B9\u6CD5\u7684\u53C2\u6570\u65F6\uFF0C\u90FD\u4F1A\u590D\u5236\u4E00\u4EFD\u5F15\u7528\uFF0C\u800C\u8BE5\u5F15\u7528\u6240\u6307\u5411\u7684\u5BF9\u8C61\u5176\u5B9E\u4E00\u76F4\u5F85\u5728\u5355\u4E00\u7684\u7269\u7406\u4F4D\u7F6E\u4E0A\uFF0C\u4ECE\u672A\u52A8\u8FC7\u3002</p><p>\u56DE\u5230 <code>upcase()</code> \u7684\u5B9A\u4E49\uFF0C\u4F20\u5165\u5176\u4E2D\u7684\u5F15\u7528\u6709\u4E86\u540D\u5B57 <code>s</code>\uFF0C\u53EA\u6709 <code>upcase()</code> \u8FD0\u884C\u7684\u65F6\u5019\uFF0C\u5C40\u90E8\u5F15\u7528 <code>s</code> \u624D\u5B58\u5728\u3002\u4E00\u65E6 <code>upcase()</code> \u8FD0\u884C\u7ED3\u675F\uFF0C<code>s</code> \u5C31\u6D88\u5931\u4E86\u3002\u5F53\u7136\u4E86\uFF0C<code>upcase()</code> \u7684\u8FD4\u56DE\u503C\uFF0C\u5176\u5B9E\u662F\u6700\u7EC8\u7ED3\u679C\u7684\u5F15\u7528\u3002\u8FD9\u8DB3\u4EE5\u8BF4\u660E\uFF0C<code>upcase()</code> \u8FD4\u56DE\u7684\u5F15\u7528\u5DF2\u7ECF\u6307\u5411\u4E86\u4E00\u4E2A\u65B0\u7684\u5BF9\u8C61\uFF0C\u800C <code>q</code> \u4ECD\u7136\u5728\u539F\u6765\u7684\u4F4D\u7F6E\u3002</p><p><code>String</code> \u7684\u8FD9\u79CD\u884C\u4E3A\u6B63\u662F\u6211\u4EEC\u60F3\u8981\u7684\u3002\u4F8B\u5982\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;asdf&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> x <span class="token operator">=</span> <span class="token class-name">Immutable</span><span class="token punctuation">.</span><span class="token function">upcase</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u96BE\u9053\u4F60\u771F\u7684\u5E0C\u671B <code>upcase()</code> \u65B9\u6CD5\u6539\u53D8\u5176\u53C2\u6570\u5417\uFF1F\u5BF9\u4E8E\u4E00\u4E2A\u65B9\u6CD5\u800C\u8A00\uFF0C\u53C2\u6570\u662F\u4E3A\u8BE5\u65B9\u6CD5\u63D0\u4F9B\u4FE1\u606F\u7684\uFF0C\u800C\u4E0D\u662F\u60F3\u8BA9\u8BE5\u65B9\u6CD5\u6539\u53D8\u81EA\u5DF1\u7684\u3002\u5728\u9605\u8BFB\u8FD9\u6BB5\u4EE3\u7801\u65F6\uFF0C\u8BFB\u8005\u81EA\u7136\u4F1A\u6709\u8FD9\u6837\u7684\u611F\u89C9\u3002\u8FD9\u4E00\u70B9\u5F88\u91CD\u8981\uFF0C\u6B63\u662F\u6709\u4E86\u8FD9\u79CD\u4FDD\u969C\uFF0C\u624D\u4F7F\u5F97\u4EE3\u7801\u6613\u4E8E\u7F16\u5199\u548C\u9605\u8BFB\u3002</p><h2 id="\u7684\u91CD\u8F7D\u4E0E-stringbuilder" tabindex="-1"><a class="header-anchor" href="#\u7684\u91CD\u8F7D\u4E0E-stringbuilder" aria-hidden="true">#</a> + \u7684\u91CD\u8F7D\u4E0E StringBuilder</h2><p><code>String</code> \u5BF9\u8C61\u662F\u4E0D\u53EF\u53D8\u7684\uFF0C\u4F60\u53EF\u4EE5\u7ED9\u4E00\u4E2A <code>String</code> \u5BF9\u8C61\u6DFB\u52A0\u4EFB\u610F\u591A\u7684\u522B\u540D\u3002\u56E0\u4E3A <code>String</code> \u662F\u53EA\u8BFB\u7684\uFF0C\u6240\u4EE5\u6307\u5411\u5B83\u7684\u4EFB\u4F55\u5F15\u7528\u90FD\u4E0D\u53EF\u80FD\u4FEE\u6539\u5B83\u7684\u503C\uFF0C\u56E0\u6B64\uFF0C\u4E5F\u5C31\u4E0D\u4F1A\u5F71\u54CD\u5230\u5176\u4ED6\u5F15\u7528\u3002</p><p>\u4E0D\u53EF\u53D8\u6027\u4F1A\u5E26\u6765\u4E00\u5B9A\u7684\u6548\u7387\u95EE\u9898\u3002\u4E3A <code>String</code> \u5BF9\u8C61\u91CD\u8F7D\u7684 <code>+</code> \u64CD\u4F5C\u7B26\u5C31\u662F\u4E00\u4E2A\u4F8B\u5B50\u3002\u91CD\u8F7D\u7684\u610F\u601D\u662F\uFF0C\u4E00\u4E2A\u64CD\u4F5C\u7B26\u5728\u7528\u4E8E\u7279\u5B9A\u7684\u7C7B\u65F6\uFF0C\u88AB\u8D4B\u4E88\u4E86\u7279\u6B8A\u7684\u610F\u4E49\uFF08\u7528\u4E8E <code>String</code> \u7684 <code>+</code> \u4E0E <code>+=</code> \u662F Java \u4E2D\u4EC5\u6709\u7684\u4E24\u4E2A\u91CD\u8F7D\u8FC7\u7684\u64CD\u4F5C\u7B26\uFF0CJava \u4E0D\u5141\u8BB8\u7A0B\u5E8F\u5458\u91CD\u8F7D\u4EFB\u4F55\u5176\u4ED6\u7684\u64CD\u4F5C\u7B26 [^1]\uFF09\u3002</p><p>\u64CD\u4F5C\u7B26 <code>+</code> \u53EF\u4EE5\u7528\u6765\u8FDE\u63A5 <code>String</code>\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/Concatenation.java</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Concatenation</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">String</span> mango <span class="token operator">=</span> <span class="token string">&quot;mango&quot;</span><span class="token punctuation">;</span> 
        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span> <span class="token operator">+</span> mango <span class="token operator">+</span> <span class="token string">&quot;def&quot;</span> <span class="token operator">+</span> <span class="token number">47</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
abcmangodef47 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u60F3\u8C61\u4E00\u4E0B\uFF0C\u8FD9\u6BB5\u4EE3\u7801\u662F\u8FD9\u6837\u5DE5\u4F5C\u7684\uFF1A<code>String</code> \u53EF\u80FD\u6709\u4E00\u4E2A <code>append()</code> \u65B9\u6CD5\uFF0C\u5B83\u4F1A\u751F\u6210\u4E00\u4E2A\u65B0\u7684 <code>String</code> \u5BF9\u8C61\uFF0C\u4EE5\u5305\u542B\u201Cabc\u201D\u4E0E <code>mango</code> \u8FDE\u63A5\u540E\u7684\u5B57\u7B26\u4E32\u3002\u8BE5\u5BF9\u8C61\u4F1A\u518D\u521B\u5EFA\u53E6\u4E00\u4E2A\u65B0\u7684 <code>String</code> \u5BF9\u8C61\uFF0C\u7136\u540E\u4E0E\u201Cdef\u201D\u76F8\u8FDE\uFF0C\u751F\u6210\u53E6\u4E00\u4E2A\u65B0\u7684\u5BF9\u8C61\uFF0C\u4F9D\u6B64\u7C7B\u63A8\u3002</p><p>\u8FD9\u79CD\u65B9\u5F0F\u5F53\u7136\u662F\u53EF\u884C\u7684\uFF0C\u4F46\u662F\u4E3A\u4E86\u751F\u6210\u6700\u7EC8\u7684 <code>String</code> \u5BF9\u8C61\uFF0C\u4F1A\u4EA7\u751F\u4E00\u5927\u5806\u9700\u8981\u5783\u573E\u56DE\u6536\u7684\u4E2D\u95F4\u5BF9\u8C61\u3002\u6211\u731C\u60F3\uFF0CJava \u8BBE\u8BA1\u8005\u4E00\u5F00\u59CB\u5C31\u662F\u8FD9\u4E48\u505A\u7684\uFF08\u8FD9\u4E5F\u662F\u8F6F\u4EF6\u8BBE\u8BA1\u4E2D\u7684\u4E00\u4E2A\u6559\u8BAD\uFF1A\u9664\u975E\u4F60\u7528\u4EE3\u7801\u5C06\u7CFB\u7EDF\u5B9E\u73B0\uFF0C\u5E76\u8BA9\u5B83\u8FD0\u884C\u8D77\u6765\uFF0C\u5426\u5219\u4F60\u65E0\u6CD5\u771F\u6B63\u4E86\u89E3\u5B83\u4F1A\u6709\u4EC0\u4E48\u95EE\u9898\uFF09\uFF0C\u7136\u540E\u4ED6\u4EEC\u53D1\u73B0\u5176\u6027\u80FD\u76F8\u5F53\u7CDF\u7CD5\u3002</p><p>\u60F3\u770B\u770B\u4EE5\u4E0A\u4EE3\u7801\u5230\u5E95\u662F\u5982\u4F55\u5DE5\u4F5C\u7684\u5417\uFF1F\u53EF\u4EE5\u7528 JDK \u81EA\u5E26\u7684 <code>javap</code> \u5DE5\u5177\u6765\u53CD\u7F16\u8BD1\u4EE5\u4E0A\u4EE3\u7801\u3002\u547D\u4EE4\u5982\u4E0B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>javap <span class="token operator">-</span>c <span class="token class-name">Concatenation</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8FD9\u91CC\u7684 <code>-c</code> \u6807\u5FD7\u8868\u793A\u5C06\u751F\u6210 JVM \u5B57\u8282\u7801\u3002\u6211\u4EEC\u5254\u9664\u4E0D\u611F\u5174\u8DA3\u7684\u90E8\u5206\uFF0C\u7136\u540E\u505A\u7EC6\u5FAE\u7684\u4FEE\u6539\uFF0C\u4E8E\u662F\u6709\u4E86\u4EE5\u4E0B\u7684\u5B57\u8282\u7801\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>public static void main(java.lang.String[]); 
 Code:
  Stack=2, Locals=3, Args_size=1
  0: ldc #2; //String mango 
  2: astore_1 
  3: new #3; //class StringBuilder 
  6: dup 
  7: invokespecial #4; //StringBuilder.&quot;&lt;init&gt;&quot;:() 
  10: ldc #5; //String abc 
  12: invokevirtual #6; //StringBuilder.append:(String) 
  15: aload_1 
  16: invokevirtual #6; //StringBuilder.append:(String) 
  19: ldc #7; //String def 
  21: invokevirtual #6; //StringBuilder.append:(String) 
  24: bipush 47 
  26: invokevirtual #8; //StringBuilder.append:(I) 
  29: invokevirtual #9; //StringBuilder.toString:() 
  32: astore_2 
  33: getstatic #10; //Field System.out:PrintStream;
  36: aload_2 
  37: invokevirtual #11; //PrintStream.println:(String) 
  40: return
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u4F60\u6709\u6C47\u7F16\u8BED\u8A00\u7684\u7ECF\u9A8C\uFF0C\u4EE5\u4E0A\u4EE3\u7801\u5E94\u8BE5\u5F88\u773C\u719F(\u5176\u4E2D\u7684 <code>dup</code> \u548C <code>invokevirtual</code> \u8BED\u53E5\u76F8\u5F53\u4E8EJava\u865A\u62DF\u673A\u4E0A\u7684\u6C47\u7F16\u8BED\u53E5\u3002\u5373\u4F7F\u4F60\u5B8C\u5168\u4E0D\u4E86\u89E3\u6C47\u7F16\u8BED\u8A00\u4E5F\u65E0\u9700\u62C5\u5FC3)\u3002\u9700\u8981\u91CD\u70B9\u6CE8\u610F\u7684\u662F\uFF1A\u7F16\u8BD1\u5668\u81EA\u52A8\u5F15\u5165\u4E86 <code>java.lang.StringBuilder</code> \u7C7B\u3002\u867D\u7136\u6E90\u4EE3\u7801\u4E2D\u5E76\u6CA1\u6709\u4F7F\u7528 <code>StringBuilder</code> \u7C7B\uFF0C\u4F46\u662F\u7F16\u8BD1\u5668\u5374\u81EA\u4F5C\u4E3B\u5F20\u5730\u4F7F\u7528\u4E86\u5B83\uFF0C\u5C31\u56E0\u4E3A\u5B83\u66F4\u9AD8\u6548\u3002</p><p>\u5728\u8FD9\u91CC\uFF0C\u7F16\u8BD1\u5668\u521B\u5EFA\u4E86\u4E00\u4E2A <code>StringBuilder</code> \u5BF9\u8C61\uFF0C\u7528\u4E8E\u6784\u5EFA\u6700\u7EC8\u7684 <code>String</code>\uFF0C\u5E76\u5BF9\u6BCF\u4E2A\u5B57\u7B26\u4E32\u8C03\u7528\u4E86\u4E00\u6B21 <code>append()</code> \u65B9\u6CD5\uFF0C\u5171\u8BA1 4 \u6B21\u3002\u6700\u540E\u8C03\u7528 <code>toString()</code> \u751F\u6210\u7ED3\u679C\uFF0C\u5E76\u5B58\u4E3A <code>s</code> (\u4F7F\u7528\u7684\u547D\u4EE4\u4E3A <code>astore_2</code>)\u3002</p><p>\u73B0\u5728\uFF0C\u4E5F\u8BB8\u4F60\u4F1A\u89C9\u5F97\u53EF\u4EE5\u968F\u610F\u4F7F\u7528 <code>String</code> \u5BF9\u8C61\uFF0C\u53CD\u6B63\u7F16\u8BD1\u5668\u4F1A\u81EA\u52A8\u4E3A\u4F60\u505A\u6027\u80FD\u4F18\u5316\u3002\u53EF\u662F\u5728\u8FD9\u4E4B\u524D\uFF0C\u8BA9\u6211\u4EEC\u66F4\u6DF1\u5165\u5730\u770B\u770B\u7F16\u8BD1\u5668\u80FD\u4E3A\u6211\u4EEC\u4F18\u5316\u5230\u4EC0\u4E48\u7A0B\u5EA6\u3002\u4E0B\u9762\u7684\u4F8B\u5B50\u91C7\u7528\u4E24\u79CD\u65B9\u5F0F\u751F\u6210\u4E00\u4E2A <code>String</code>\uFF1A\u65B9\u6CD5\u4E00\u4F7F\u7528\u4E86\u591A\u4E2A <code>String</code> \u5BF9\u8C61\uFF1B\u65B9\u6CD5\u4E8C\u5728\u4EE3\u7801\u4E2D\u4F7F\u7528\u4E86 <code>StringBuilder</code>\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/WhitherStringBuilder.java</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WhitherStringBuilder</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">implicit</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> 
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> field <span class="token operator">:</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            result <span class="token operator">+=</span> field<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">explicit</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> field <span class="token operator">:</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u73B0\u5728\u8FD0\u884C <code>javap -c WhitherStringBuilder</code>\uFF0C\u53EF\u4EE5\u770B\u5230\u4E24\u79CD\u4E0D\u540C\u65B9\u6CD5\uFF08\u6211\u5DF2\u7ECF\u53BB\u6389\u4E0D\u76F8\u5173\u7684\u7EC6\u8282\uFF09\u5BF9\u5E94\u7684\u5B57\u8282\u7801\u3002\u9996\u5148\u662F <code>implicit()</code> \u65B9\u6CD5\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>public java.lang.String implicit(java.lang.String[]); 
0: ldc #2 // String 
2: astore_2
3: aload_1 
4: astore_3 
5: aload_3 
6: arraylength 
7: istore 4 
9: iconst_0 
10: istore 5 
12: iload 5 
14: iload 4 
16: if_icmpge 51 
19: aload_3 
20: iload 5 
22: aaload 
23: astore 6 
25: new #3 // StringBuilder 
28: dup 
29: invokespecial #4 // StringBuilder.&quot;&lt;init&gt;&quot;
32: aload_2 
33: invokevirtual #5 // StringBuilder.append:(String) 
36: aload 6 
38: invokevirtual #5 // StringBuilder.append:(String;) 
41: invokevirtual #6 // StringBuilder.toString:() 
44: astore_2 
45: iinc 5, 1 
48: goto 12 
51: aload_2 
52: areturn
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\u4ECE\u7B2C 16 \u884C\u5230\u7B2C 48 \u884C\u6784\u6210\u4E86\u4E00\u4E2A\u5FAA\u73AF\u4F53\u3002\u7B2C 16 \u884C\uFF1A\u5BF9\u5806\u6808\u4E2D\u7684\u64CD\u4F5C\u6570\u8FDB\u884C\u201C\u5927\u4E8E\u6216\u7B49\u4E8E\u7684\u6574\u6570\u6BD4\u8F83\u8FD0\u7B97\u201D\uFF0C\u5FAA\u73AF\u7ED3\u675F\u65F6\u8DF3\u8F6C\u5230\u7B2C 51 \u884C\u3002\u7B2C 48 \u884C\uFF1A\u91CD\u65B0\u56DE\u5230\u5FAA\u73AF\u4F53\u7684\u8D77\u59CB\u4F4D\u7F6E\uFF08\u7B2C 12 \u884C\uFF09\u3002\u6CE8\u610F\uFF1A<code>StringBuilder</code> \u662F\u5728\u5FAA\u73AF\u5185\u6784\u9020\u7684\uFF0C\u8FD9\u610F\u5473\u7740\u6BCF\u8FDB\u884C\u4E00\u6B21\u5FAA\u73AF\uFF0C\u4F1A\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684 <code>StringBuilder</code> \u5BF9\u8C61\u3002</p><p>\u4E0B\u9762\u662F <code>explicit()</code> \u65B9\u6CD5\u5BF9\u5E94\u7684\u5B57\u8282\u7801\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>public java.lang.String explicit(java.lang.String[]); 
0: new #3 // StringBuilder 
3: dup
4: invokespecial #4 // StringBuilder.&quot;&lt;init&gt;&quot; 
7: astore_2 
8: aload_1 
9: astore_3 
10: aload_3 
11: arraylength 
12: istore 4 
14: iconst_0 
15: istore 5 
17: iload 5 
19: iload 4 
21: if_icmpge 43 
24: aload_3 
25: iload 5 
27: aaload 
28: astore 6 
30: aload_2 
31: aload 6 
33: invokevirtual #5 // StringBuilder.append:(String) 
36: pop
37: iinc 5, 1 
40: goto 17 
43: aload_2 
44: invokevirtual #6 // StringBuilder.toString:() 
47: areturn
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u770B\u5230\uFF0C\u4E0D\u4EC5\u5FAA\u73AF\u90E8\u5206\u7684\u4EE3\u7801\u66F4\u7B80\u77ED\u3001\u66F4\u7B80\u5355\uFF0C\u800C\u4E14\u5B83\u53EA\u751F\u6210\u4E86\u4E00\u4E2A <code>StringBuilder</code> \u5BF9\u8C61\u3002\u663E\u5F0F\u5730\u521B\u5EFA <code>StringBuilder</code> \u8FD8\u5141\u8BB8\u4F60\u9884\u5148\u4E3A\u5176\u6307\u5B9A\u5927\u5C0F\u3002\u5982\u679C\u4F60\u5DF2\u7ECF\u77E5\u9053\u6700\u7EC8\u5B57\u7B26\u4E32\u7684\u5927\u6982\u957F\u5EA6\uFF0C\u90A3\u9884\u5148\u6307\u5B9A <code>StringBuilder</code> \u7684\u5927\u5C0F\u53EF\u4EE5\u907F\u514D\u9891\u7E41\u5730\u91CD\u65B0\u5206\u914D\u7F13\u51B2\u3002</p><p>\u56E0\u6B64\uFF0C\u5F53\u4F60\u4E3A\u4E00\u4E2A\u7C7B\u7F16\u5199 <code>toString()</code> \u65B9\u6CD5\u65F6\uFF0C\u5982\u679C\u5B57\u7B26\u4E32\u64CD\u4F5C\u6BD4\u8F83\u7B80\u5355\uFF0C\u90A3\u5C31\u53EF\u4EE5\u4FE1\u8D56\u7F16\u8BD1\u5668\uFF0C\u5B83\u4F1A\u4E3A\u4F60\u5408\u7406\u5730\u6784\u9020\u6700\u7EC8\u7684\u5B57\u7B26\u4E32\u7ED3\u679C\u3002\u4F46\u662F\uFF0C\u5982\u679C\u4F60\u8981\u5728 <code>toString()</code> \u65B9\u6CD5\u4E2D\u4F7F\u7528\u5FAA\u73AF\uFF0C\u4E14\u53EF\u80FD\u6709\u6027\u80FD\u95EE\u9898\uFF0C\u90A3\u4E48\u6700\u597D\u81EA\u5DF1\u521B\u5EFA\u4E00\u4E2A <code>StringBuilder</code> \u5BF9\u8C61\uFF0C\u7528\u5B83\u6765\u6784\u5EFA\u6700\u7EC8\u7ED3\u679C\u3002\u8BF7\u53C2\u8003\u4EE5\u4E0B\u793A\u4F8B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/UsingStringBuilder.java </span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UsingStringBuilder</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">string1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">Random</span> rand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;[&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">25</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
        result<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">string2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">ints</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">mapToObj</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">toString</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;[&quot;</span> <span class="token operator">+</span> result <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">string1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">string2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
[58, 55, 93, 61, 61, 29, 68, 0, 22, 7, 88, 28, 51, 89, 
9, 78, 98, 61, 20, 58, 16, 40, 11, 22, 4] 
[58, 55, 93, 61, 61, 29, 68, 0, 22, 7, 88, 28, 51, 89,
9, 78, 98, 61, 20, 58, 16, 40, 11, 22, 4] 
*/</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u65B9\u6CD5 <code>string1()</code> \u4E2D\uFF0C\u6700\u7EC8\u7ED3\u679C\u662F\u7528 <code>append()</code> \u8BED\u53E5\u62FC\u63A5\u8D77\u6765\u7684\u3002\u5982\u679C\u4F60\u60F3\u8D70\u6377\u5F84\uFF0C\u4F8B\u5982\uFF1A<code>append(a + &quot;: &quot; + c)</code>\uFF0C\u7F16\u8BD1\u5668\u5C31\u4F1A\u6389\u5165\u9677\u9631\uFF0C\u4ECE\u800C\u4E3A\u4F60\u53E6\u5916\u521B\u5EFA\u4E00\u4E2A <code>StringBuilder</code> \u5BF9\u8C61\u5904\u7406\u62EC\u53F7\u5185\u7684\u5B57\u7B26\u4E32\u64CD\u4F5C\u3002\u5982\u679C\u62FF\u4E0D\u51C6\u8BE5\u7528\u54EA\u79CD\u65B9\u5F0F\uFF0C\u968F\u65F6\u53EF\u4EE5\u7528 <code>javap</code> \u6765\u5206\u6790\u4F60\u7684\u7A0B\u5E8F\u3002</p><p><code>StringBuilder</code> \u63D0\u4F9B\u4E86\u4E30\u5BCC\u800C\u5168\u9762\u7684\u65B9\u6CD5\uFF0C\u5305\u62EC <code>insert()</code>\u3001<code>replace()</code>\u3001<code>substring()</code>\uFF0C\u751A\u81F3\u8FD8\u6709<code>reverse()</code>\uFF0C\u4F46\u662F\u6700\u5E38\u7528\u7684\u8FD8\u662F <code>append()</code> \u548C <code>toString()</code>\u3002\u8FD8\u6709 <code>delete()</code>\uFF0C\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\u6211\u4EEC\u7528\u5B83\u5220\u9664\u6700\u540E\u4E00\u4E2A\u9017\u53F7\u548C\u7A7A\u683C\uFF0C\u4EE5\u4FBF\u6DFB\u52A0\u53F3\u62EC\u53F7\u3002</p><p><code>string2()</code> \u4F7F\u7528\u4E86 <code>Stream</code>\uFF0C\u8FD9\u6837\u4EE3\u7801\u66F4\u52A0\u7B80\u6D01\u7F8E\u89C2\u3002\u53EF\u4EE5\u8BC1\u660E\uFF0C<code>Collectors.joining()</code> \u5185\u90E8\u4E5F\u662F\u4F7F\u7528\u7684 <code>StringBuilder</code>\uFF0C\u8FD9\u79CD\u5199\u6CD5\u4E0D\u4F1A\u5F71\u54CD\u6027\u80FD\uFF01</p>`,39),r=s("code",null,"StringBuilder ",-1),k=n("\u662F Java SE5 \u5F15\u5165\u7684\uFF0C\u5728\u8FD9\u4E4B\u524D\u7528\u7684\u662F "),v=s("code",null,"StringBuffer",-1),m=n("\u3002\u540E\u8005\u662F\u7EBF\u7A0B\u5B89\u5168\u7684\uFF08\u53C2\u89C1"),b=n("\u5E76\u53D1\u7F16\u7A0B"),g=n("\uFF09\uFF0C\u56E0\u6B64\u5F00\u9500\u4E5F\u4F1A\u5927\u4E9B\u3002\u4F7F\u7528 "),f=s("code",null,"StringBuilder",-1),h=n(" \u8FDB\u884C\u5B57\u7B26\u4E32\u64CD\u4F5C\u66F4\u5FEB\u4E00\u70B9\u3002"),y=a(`<h2 id="\u610F\u5916\u9012\u5F52" tabindex="-1"><a class="header-anchor" href="#\u610F\u5916\u9012\u5F52" aria-hidden="true">#</a> \u610F\u5916\u9012\u5F52</h2><p>Java \u4E2D\u7684\u6BCF\u4E2A\u7C7B\u4ECE\u6839\u672C\u4E0A\u90FD\u662F\u7EE7\u627F\u81EA <code>Object</code>\uFF0C\u6807\u51C6\u96C6\u5408\u7C7B\u4E5F\u662F\u5982\u6B64\uFF0C\u5B83\u4EEC\u90FD\u6709 <code>toString()</code> \u65B9\u6CD5\uFF0C\u5E76\u4E14\u8986\u76D6\u4E86\u8BE5\u65B9\u6CD5\uFF0C\u4F7F\u5F97\u5B83\u751F\u6210\u7684 <code>String</code> \u7ED3\u679C\u80FD\u591F\u8868\u8FBE\u96C6\u5408\u81EA\u8EAB\uFF0C\u4EE5\u53CA\u96C6\u5408\u5305\u542B\u7684\u5BF9\u8C61\u3002\u4F8B\u5982 <code>ArrayList.toString()</code>\uFF0C\u5B83\u4F1A\u904D\u5386 <code>ArrayList</code> \u4E2D\u5305\u542B\u7684\u6240\u6709\u5BF9\u8C61\uFF0C\u8C03\u7528\u6BCF\u4E2A\u5143\u7D20\u4E0A\u7684 <code>toString()</code> \u65B9\u6CD5\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/ArrayListDisplay.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">generics<span class="token punctuation">.</span>coffee<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ArrayListDisplay</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Coffee</span><span class="token punctuation">&gt;</span></span> coffees <span class="token operator">=</span> 
            <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CoffeeSupplier</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>coffees<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
[Americano 0, Latte 1, Americano 2, Mocha 3, Mocha 4, 
Breve 5, Americano 6, Latte 7, Cappuccino 8, Cappuccino 9] 
*/</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u4F60\u5E0C\u671B <code>toString()</code> \u6253\u5370\u51FA\u7C7B\u7684\u5185\u5B58\u5730\u5740\uFF0C\u4E5F\u8BB8\u4F60\u4F1A\u8003\u8651\u4F7F\u7528 <code>this</code> \u5173\u952E\u5B57\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/InfiniteRecursion.java </span>
<span class="token comment">// Accidental recursion </span>
<span class="token comment">// {ThrowsException} </span>
<span class="token comment">// {VisuallyInspectOutput} Throws very long exception</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InfiniteRecursion</span> <span class="token punctuation">{</span> 
    <span class="token annotation punctuation">@Override</span> 
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">return</span> <span class="token string">&quot; InfiniteRecursion address: &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span> <span class="token operator">+</span> <span class="token string">&quot;\\n&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token class-name">InfiniteRecursion</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span> 
            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> 
            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F53\u4F60\u521B\u5EFA\u4E86 <code>InfiniteRecursion</code> \u5BF9\u8C61\uFF0C\u5E76\u5C06\u5176\u6253\u5370\u51FA\u6765\u7684\u65F6\u5019\uFF0C\u4F60\u4F1A\u5F97\u5230\u4E00\u4E32\u5F88\u957F\u7684\u5F02\u5E38\u4FE1\u606F\u3002\u5982\u679C\u4F60\u5C06\u8BE5 <code>InfiniteRecursion</code> \u5BF9\u8C61\u5B58\u5165\u4E00\u4E2A <code>ArrayList</code> \u4E2D\uFF0C\u7136\u540E\u6253\u5370\u8BE5 <code>ArrayList</code>\uFF0C\u540C\u6837\u4E5F\u4F1A\u629B\u51FA\u5F02\u5E38\u3002\u5176\u5B9E\uFF0C\u5F53\u8FD0\u884C\u5230\u5982\u4E0B\u4EE3\u7801\u65F6\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token string">&quot;InfiniteRecursion address: &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8FD9\u91CC\u53D1\u751F\u4E86\u81EA\u52A8\u7C7B\u578B\u8F6C\u6362\uFF0C\u7531 <code>InfiniteRecursion</code> \u7C7B\u578B\u8F6C\u6362\u4E3A <code>String</code> \u7C7B\u578B\u3002\u56E0\u4E3A\u7F16\u8BD1\u5668\u53D1\u73B0\u4E00\u4E2A <code>String</code> \u5BF9\u8C61\u540E\u9762\u8DDF\u7740\u4E00\u4E2A \u201C+\u201D\uFF0C\u800C \u201C+\u201D \u540E\u9762\u7684\u5BF9\u8C61\u4E0D\u662F <code>String</code>\uFF0C\u4E8E\u662F\u7F16\u8BD1\u5668\u8BD5\u7740\u5C06 <code>this</code> \u8F6C\u6362\u6210\u4E00\u4E2A <code>String</code>\u3002\u5B83\u600E\u4E48\u8F6C\u6362\u5462\uFF1F\u6B63\u662F\u901A\u8FC7\u8C03\u7528 <code>this</code> \u4E0A\u7684 <code>toString()</code> \u65B9\u6CD5\uFF0C\u4E8E\u662F\u5C31\u53D1\u751F\u4E86\u9012\u5F52\u8C03\u7528\u3002</p><p>\u5982\u679C\u4F60\u771F\u7684\u60F3\u8981\u6253\u5370\u5BF9\u8C61\u7684\u5185\u5B58\u5730\u5740\uFF0C\u5E94\u8BE5\u8C03\u7528 <code>Object.toString()</code> \u65B9\u6CD5\uFF0C\u8FD9\u624D\u662F\u8D1F\u8D23\u6B64\u4EFB\u52A1\u7684\u65B9\u6CD5\u3002\u6240\u4EE5\uFF0C\u4E0D\u8981\u4F7F\u7528 <code>this</code>\uFF0C\u800C\u662F\u5E94\u8BE5\u8C03\u7528 <code>super.toString()</code> \u65B9\u6CD5\u3002</p><h2 id="\u5B57\u7B26\u4E32\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u5B57\u7B26\u4E32\u64CD\u4F5C" aria-hidden="true">#</a> \u5B57\u7B26\u4E32\u64CD\u4F5C</h2><p>\u4EE5\u4E0B\u662F <code>String</code> \u5BF9\u8C61\u5177\u5907\u7684\u4E00\u4E9B\u57FA\u672C\u65B9\u6CD5\u3002\u91CD\u8F7D\u7684\u65B9\u6CD5\u5F52\u7EB3\u5728\u540C\u4E00\u884C\u4E2D\uFF1A</p><table><thead><tr><th>\u65B9\u6CD5</th><th>\u53C2\u6570\uFF0C\u91CD\u8F7D\u7248\u672C</th><th>\u4F5C\u7528</th></tr></thead><tbody><tr><td>\u6784\u9020\u65B9\u6CD5</td><td>\u9ED8\u8BA4\u7248\u672C\uFF0C<code>String</code>\uFF0C<code>StringBuilder</code>\uFF0C<code>StringBuffer</code>\uFF0C<code>char</code>\u6570\u7EC4\uFF0C<code>byte</code>\u6570\u7EC4</td><td>\u521B\u5EFA<code>String</code>\u5BF9\u8C61</td></tr><tr><td><code>length()</code></td><td></td><td><code>String</code>\u4E2D\u5B57\u7B26\u7684\u4E2A\u6570</td></tr><tr><td><code>charAt()</code></td><td><code>int</code>\u7D22\u5F15</td><td>\u83B7\u53D6<code>String</code>\u4E2D\u7D22\u5F15\u4F4D\u7F6E\u4E0A\u7684<code>char</code></td></tr><tr><td><code>getChars()</code>\uFF0C<code>getBytes()</code></td><td>\u5F85\u590D\u5236\u90E8\u5206\u7684\u5F00\u59CB\u548C\u7ED3\u675F\u7D22\u5F15\uFF0C\u590D\u5236\u7684\u76EE\u6807\u6570\u7EC4\uFF0C\u76EE\u6807\u6570\u7EC4\u7684\u5F00\u59CB\u7D22\u5F15</td><td>\u590D\u5236<code>char</code>\u6216<code>byte</code>\u5230\u4E00\u4E2A\u76EE\u6807\u6570\u7EC4\u4E2D</td></tr><tr><td><code>toCharArray()</code></td><td></td><td>\u751F\u6210\u4E00\u4E2A<code>char[]</code>\uFF0C\u5305\u542B<code>String</code>\u4E2D\u7684\u6240\u6709\u5B57\u7B26</td></tr><tr><td><code>equals()</code>\uFF0C<code>equalsIgnoreCase()</code></td><td>\u4E0E\u4E4B\u8FDB\u884C\u6BD4\u8F83\u7684<code>String</code></td><td>\u6BD4\u8F83\u4E24\u4E2A<code>String</code>\u7684\u5185\u5BB9\u662F\u5426\u76F8\u540C\u3002\u5982\u679C\u76F8\u540C\uFF0C\u7ED3\u679C\u4E3A<code>true</code></td></tr><tr><td><code>compareTo()</code>\uFF0C<code>compareToIgnoreCase()</code></td><td>\u4E0E\u4E4B\u8FDB\u884C\u6BD4\u8F83\u7684<code>String</code></td><td>\u6309\u8BCD\u5178\u987A\u5E8F\u6BD4\u8F83<code>String</code>\u7684\u5185\u5BB9\uFF0C\u6BD4\u8F83\u7ED3\u679C\u4E3A\u8D1F\u6570\u3001\u96F6\u6216\u6B63\u6570\u3002\u6CE8\u610F\uFF0C\u5927\u5C0F\u5199\u4E0D\u7B49\u4EF7</td></tr><tr><td><code>contains()</code></td><td>\u8981\u641C\u7D22\u7684<code>CharSequence</code></td><td>\u5982\u679C\u8BE5<code>String</code>\u5BF9\u8C61\u5305\u542B\u53C2\u6570\u7684\u5185\u5BB9\uFF0C\u5219\u8FD4\u56DE<code>true</code></td></tr><tr><td><code>contentEquals()</code></td><td>\u4E0E\u4E4B\u8FDB\u884C\u6BD4\u8F83\u7684<code>CharSequence</code>\u6216<code>StringBuffer</code></td><td>\u5982\u679C\u8BE5<code>String</code>\u5BF9\u8C61\u4E0E\u53C2\u6570\u7684\u5185\u5BB9\u5B8C\u5168\u4E00\u81F4\uFF0C\u5219\u8FD4\u56DE<code>true</code></td></tr><tr><td><code>isEmpty()</code></td><td></td><td>\u8FD4\u56DE<code>boolean</code>\u7ED3\u679C\uFF0C\u4EE5\u8868\u660E<code>String</code>\u5BF9\u8C61\u7684\u957F\u5EA6\u662F\u5426\u4E3A0</td></tr><tr><td><code>regionMatches()</code></td><td>\u8BE5<code>String</code>\u7684\u7D22\u5F15\u504F\u79FB\u91CF\uFF0C\u53E6\u4E00\u4E2A<code>String</code>\u53CA\u5176\u7D22\u5F15\u504F\u79FB\u91CF\uFF0C\u8981\u6BD4\u8F83\u7684\u957F\u5EA6\u3002\u91CD\u8F7D\u7248\u672C\u589E\u52A0\u4E86\u201C\u5FFD\u7565\u5927\u5C0F\u5199\u201D\u529F\u80FD</td><td>\u8FD4\u56DE<code>boolean</code>\u7ED3\u679C\uFF0C\u4EE5\u8868\u660E\u6240\u6BD4\u8F83\u533A\u57DF\u662F\u5426\u76F8\u7B49</td></tr><tr><td><code>startsWith()</code></td><td>\u53EF\u80FD\u7684\u8D77\u59CB<code>String</code>\u3002\u91CD\u8F7D\u7248\u672C\u5728\u53C2\u6570\u4E2D\u589E\u52A0\u4E86\u504F\u79FB\u91CF</td><td>\u8FD4\u56DE<code>boolean</code>\u7ED3\u679C\uFF0C\u4EE5\u8868\u660E\u8BE5<code>String</code>\u662F\u5426\u4EE5\u4F20\u5165\u53C2\u6570\u5F00\u59CB</td></tr><tr><td><code>endsWith()</code></td><td>\u8BE5<code>String</code>\u53EF\u80FD\u7684\u540E\u7F00<code>String</code></td><td>\u8FD4\u56DE<code>boolean</code>\u7ED3\u679C\uFF0C\u4EE5\u8868\u660E\u6B64\u53C2\u6570\u662F\u5426\u662F\u8BE5\u5B57\u7B26\u4E32\u7684\u540E\u7F00</td></tr><tr><td><code>indexOf()</code>\uFF0C<code>lastIndexOf()</code></td><td>\u91CD\u8F7D\u7248\u672C\u5305\u62EC\uFF1A<code>char</code>\uFF0C<code>char</code>\u4E0E\u8D77\u59CB\u7D22\u5F15\uFF0C<code>String</code>\uFF0C<code>String</code>\u4E0E\u8D77\u59CB\u7D22\u5F15</td><td>\u5982\u679C\u8BE5<code>String</code>\u5E76\u4E0D\u5305\u542B\u6B64\u53C2\u6570\uFF0C\u5C31\u8FD4\u56DE-1\uFF1B\u5426\u5219\u8FD4\u56DE\u6B64\u53C2\u6570\u5728<code>String</code>\u4E2D\u7684\u8D77\u59CB\u7D22\u5F15\u3002<code>lastIndexOf</code>()\u662F\u4ECE\u540E\u5F80\u524D\u641C\u7D22</td></tr><tr><td><code>matches()</code></td><td>\u4E00\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F</td><td>\u8FD4\u56DE<code>boolean</code>\u7ED3\u679C\uFF0C\u4EE5\u8868\u660E\u8BE5<code>String</code>\u548C\u7ED9\u51FA\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u662F\u5426\u5339\u914D</td></tr><tr><td><code>split()</code></td><td>\u4E00\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F\u3002\u53EF\u9009\u53C2\u6570\u4E3A\u9700\u8981\u62C6\u5206\u7684\u6700\u5927\u6570\u91CF</td><td>\u6309\u7167\u6B63\u5219\u8868\u8FBE\u5F0F\u62C6\u5206<code>String</code>\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u7ED3\u679C\u6570\u7EC4</td></tr><tr><td><code>join()</code>\uFF08Java8\u5F15\u5165\u7684\uFF09</td><td>\u5206\u9694\u7B26\uFF0C\u5F85\u62FC\u5B57\u7B26\u5E8F\u5217\u3002\u7528\u5206\u9694\u7B26\u5C06\u5B57\u7B26\u5E8F\u5217\u62FC\u63A5\u6210\u4E00\u4E2A\u65B0\u7684<code>String</code></td><td>\u7528\u5206\u9694\u7B26\u62FC\u63A5\u5B57\u7B26\u7247\u6BB5\uFF0C\u4EA7\u751F\u4E00\u4E2A\u65B0\u7684<code>String</code></td></tr><tr><td><code>substring()</code>\uFF08\u5373<code>subSequence()</code>\uFF09</td><td>\u91CD\u8F7D\u7248\u672C\uFF1A\u8D77\u59CB\u7D22\u5F15\uFF1B\u8D77\u59CB\u7D22\u5F15+\u7EC8\u6B62\u7D22\u5F15</td><td>\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684<code>String</code>\u5BF9\u8C61\uFF0C\u4EE5\u5305\u542B\u53C2\u6570\u6307\u5B9A\u7684\u5B50\u4E32</td></tr><tr><td><code>concat()</code></td><td>\u8981\u8FDE\u63A5\u7684<code>String</code></td><td>\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684<code>String</code>\u5BF9\u8C61\uFF0C\u5185\u5BB9\u4E3A\u539F\u59CB<code>String</code>\u8FDE\u63A5\u4E0A\u53C2\u6570<code>String</code></td></tr><tr><td><code>replace()</code></td><td>\u8981\u66FF\u6362\u7684\u5B57\u7B26\uFF0C\u7528\u6765\u8FDB\u884C\u66FF\u6362\u7684\u65B0\u5B57\u7B26\u3002\u4E5F\u53EF\u4EE5\u7528\u4E00\u4E2A<code>CharSequence</code>\u66FF\u6362\u53E6\u4E00\u4E2A<code>CharSequence</code></td><td>\u8FD4\u56DE\u66FF\u6362\u5B57\u7B26\u540E\u7684\u65B0<code>String</code>\u5BF9\u8C61\u3002\u5982\u679C\u6CA1\u6709\u66FF\u6362\u53D1\u751F\uFF0C\u5219\u8FD4\u56DE\u539F\u59CB\u7684<code>String</code>\u5BF9\u8C61</td></tr><tr><td><code>replaceFirst()</code></td><td>\u8981\u66FF\u6362\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u7528\u6765\u8FDB\u884C\u66FF\u6362\u7684<code>String</code></td><td>\u8FD4\u56DE\u66FF\u6362\u9996\u4E2A\u76EE\u6807\u5B57\u7B26\u4E32\u540E\u7684<code>String</code>\u5BF9\u8C61</td></tr><tr><td><code>replaceAll()</code></td><td>\u8981\u66FF\u6362\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u7528\u6765\u8FDB\u884C\u66FF\u6362\u7684<code>String</code></td><td>\u8FD4\u56DE\u66FF\u6362\u6240\u6709\u76EE\u6807\u5B57\u7B26\u4E32\u540E\u7684<code>String</code>\u5BF9\u8C61</td></tr><tr><td><code>toLowerCase()</code>\uFF0C<code>toUpperCase()</code></td><td></td><td>\u5C06\u5B57\u7B26\u7684\u5927\u5C0F\u5199\u6539\u53D8\u540E\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684<code>String</code>\u5BF9\u8C61\u3002\u5982\u679C\u6CA1\u6709\u4EFB\u4F55\u6539\u53D8\uFF0C\u5219\u8FD4\u56DE\u539F\u59CB\u7684<code>String</code>\u5BF9\u8C61</td></tr><tr><td><code>trim()</code></td><td></td><td>\u5C06<code>String</code>\u4E24\u7AEF\u7684\u7A7A\u767D\u7B26\u5220\u9664\u540E\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684<code>String</code>\u5BF9\u8C61\u3002\u5982\u679C\u6CA1\u6709\u4EFB\u4F55\u6539\u53D8\uFF0C\u5219\u8FD4\u56DE\u539F\u59CB\u7684<code>String</code>\u5BF9\u8C61</td></tr><tr><td><code>valueOf()</code>\uFF08<code>static</code>\uFF09</td><td>\u91CD\u8F7D\u7248\u672C\uFF1A<code>Object</code>\uFF1B<code>char[]</code>\uFF1B<code>char[]</code>\uFF0C\u504F\u79FB\u91CF\uFF0C\u4E0E\u5B57\u7B26\u4E2A\u6570\uFF1B<code>boolean</code>\uFF1B<code>char</code>\uFF1B<code>int</code>\uFF1B<code>long</code>\uFF1B<code>float</code>\uFF1B<code>double</code></td><td>\u8FD4\u56DE\u4E00\u4E2A\u8868\u793A\u53C2\u6570\u5185\u5BB9\u7684<code>String</code></td></tr><tr><td><code>intern()</code></td><td></td><td>\u4E3A\u6BCF\u4E2A\u552F\u4E00\u7684\u5B57\u7B26\u5E8F\u5217\u751F\u6210\u4E00\u4E2A\u4E14\u4EC5\u751F\u6210\u4E00\u4E2A<code>String</code>\u5F15\u7528</td></tr><tr><td><code>format()</code></td><td>\u8981\u683C\u5F0F\u5316\u7684\u5B57\u7B26\u4E32\uFF0C\u8981\u66FF\u6362\u5230\u683C\u5F0F\u5316\u5B57\u7B26\u4E32\u7684\u53C2\u6570</td><td>\u8FD4\u56DE\u683C\u5F0F\u5316\u7ED3\u679C<code>String</code></td></tr></tbody></table><p>\u4ECE\u8FD9\u4E2A\u8868\u53EF\u4EE5\u770B\u51FA\uFF0C\u5F53\u9700\u8981\u6539\u53D8\u5B57\u7B26\u4E32\u7684\u5185\u5BB9\u65F6\uFF0C<code>String</code> \u7C7B\u7684\u65B9\u6CD5\u90FD\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684 <code>String</code> \u5BF9\u8C61\u3002\u540C\u65F6\uFF0C\u5982\u679C\u5185\u5BB9\u4E0D\u6539\u53D8\uFF0C<code>String</code> \u65B9\u6CD5\u53EA\u662F\u8FD4\u56DE\u539F\u59CB\u5BF9\u8C61\u7684\u4E00\u4E2A\u5F15\u7528\u800C\u5DF2\u3002\u8FD9\u53EF\u4EE5\u8282\u7EA6\u5B58\u50A8\u7A7A\u95F4\u4EE5\u53CA\u907F\u514D\u989D\u5916\u7684\u5F00\u9500\u3002</p><p>\u672C\u7AE0\u7A0D\u540E\u8FD8\u5C06\u4ECB\u7ECD\u6B63\u5219\u8868\u8FBE\u5F0F\u5728 <code>String</code> \u65B9\u6CD5\u4E2D\u7684\u5E94\u7528\u3002</p><h2 id="\u683C\u5F0F\u5316\u8F93\u51FA" tabindex="-1"><a class="header-anchor" href="#\u683C\u5F0F\u5316\u8F93\u51FA" aria-hidden="true">#</a> \u683C\u5F0F\u5316\u8F93\u51FA</h2><p>\u5728\u957F\u4E45\u7684\u7B49\u5F85\u4E4B\u540E\uFF0CJava SE5 \u7EC8\u4E8E\u63A8\u51FA\u4E86 C \u8BED\u8A00\u4E2D <code>printf()</code> \u98CE\u683C\u7684\u683C\u5F0F\u5316\u8F93\u51FA\u8FD9\u4E00\u529F\u80FD\u3002\u8FD9\u4E0D\u4EC5\u4F7F\u5F97\u63A7\u5236\u8F93\u51FA\u7684\u4EE3\u7801\u66F4\u52A0\u7B80\u5355\uFF0C\u540C\u65F6\u4E5F\u7ED9\u4E0EJava\u5F00\u53D1\u8005\u5BF9\u4E8E\u8F93\u51FA\u683C\u5F0F\u4E0E\u6392\u5217\u66F4\u5F3A\u5927\u7684\u63A7\u5236\u80FD\u529B\u3002</p><h3 id="printf" tabindex="-1"><a class="header-anchor" href="#printf" aria-hidden="true">#</a> <code>printf()</code></h3><p>C \u8BED\u8A00\u7684 <code>printf()</code> \u5E76\u4E0D\u50CF Java \u90A3\u6837\u8FDE\u63A5\u5B57\u7B26\u4E32\uFF0C\u5B83\u4F7F\u7528\u4E00\u4E2A\u7B80\u5355\u7684\u683C\u5F0F\u5316\u5B57\u7B26\u4E32\uFF0C\u52A0\u4E0A\u8981\u63D2\u5165\u5176\u4E2D\u7684\u503C\uFF0C\u7136\u540E\u5C06\u5176\u683C\u5F0F\u5316\u8F93\u51FA\u3002 <code>printf()</code> \u5E76\u4E0D\u4F7F\u7528\u91CD\u8F7D\u7684 <code>+</code> \u64CD\u4F5C\u7B26\uFF08C\u8BED\u8A00\u6CA1\u6709\u91CD\u8F7D\uFF09\u6765\u8FDE\u63A5\u5F15\u53F7\u5185\u7684\u5B57\u7B26\u4E32\u6216\u5B57\u7B26\u4E32\u53D8\u91CF\uFF0C\u800C\u662F\u4F7F\u7528\u7279\u6B8A\u7684\u5360\u4F4D\u7B26\u6765\u8868\u793A\u6570\u636E\u5C06\u6765\u7684\u4F4D\u7F6E\u3002\u800C\u4E14\u5B83\u8FD8\u5C06\u63D2\u5165\u683C\u5F0F\u5316\u5B57\u7B26\u4E32\u7684\u53C2\u6570\uFF0C\u4EE5\u9017\u53F7\u5206\u9694\uFF0C\u6392\u6210\u4E00\u884C\u3002\u4F8B\u5982\uFF1A</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Row 1: [%d %f]%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8FD9\u4E00\u884C\u4EE3\u7801\u5728\u8FD0\u884C\u7684\u65F6\u5019\uFF0C\u9996\u5148\u5C06 <code>x</code> \u7684\u503C\u63D2\u5165\u5230 <code>%d_</code> \u7684\u4F4D\u7F6E\uFF0C\u7136\u540E\u5C06 <code>y</code> \u7684\u503C\u63D2\u5165\u5230 <code>%f</code> \u7684\u4F4D\u7F6E\u3002\u8FD9\u4E9B\u5360\u4F4D\u7B26\u53EB\u505A<em>\u683C\u5F0F\u4FEE\u9970\u7B26</em>\uFF0C\u5B83\u4EEC\u4E0D\u4EC5\u6307\u660E\u4E86\u63D2\u5165\u6570\u636E\u7684\u4F4D\u7F6E\uFF0C\u540C\u65F6\u8FD8\u6307\u660E\u4E86\u5C06\u4F1A\u63D2\u5165\u4EC0\u4E48\u7C7B\u578B\u7684\u53D8\u91CF\uFF0C\u4EE5\u53CA\u5982\u4F55\u683C\u5F0F\u5316\u3002\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D <code>%d</code> \u8868\u793A <code>x</code> \u662F\u4E00\u4E2A\u6574\u6570\uFF0C<code>%f</code> \u8868\u793A <code>y</code> \u662F\u4E00\u4E2A\u6D6E\u70B9\u6570\uFF08<code>float</code> \u6216\u8005 <code>double</code>\uFF09\u3002</p><h3 id="system-out-format" tabindex="-1"><a class="header-anchor" href="#system-out-format" aria-hidden="true">#</a> <code>System.out.format()</code></h3>`,21),q=n("Java SE5 \u5F15\u5165\u4E86 "),w=s("code",null,"format()",-1),S=n(" \u65B9\u6CD5\uFF0C\u53EF\u7528\u4E8E "),x=s("code",null,"PrintStream",-1),j=n(" \u6216\u8005 "),E=s("code",null,"PrintWriter",-1),_=n(" \u5BF9\u8C61\uFF08\u4F60\u53EF\u4EE5\u5728 "),B=n("\u9644\u5F55:\u6D41\u5F0F I/O"),A=n(" \u4E86\u89E3\u66F4\u591A\u5185\u5BB9\uFF09\uFF0C\u5176\u4E2D\u4E5F\u5305\u62EC "),T=s("code",null,"System.out",-1),I=n(" \u5BF9\u8C61\u3002"),C=s("code",null,"format()",-1),P=n(" \u65B9\u6CD5\u6A21\u4EFF\u4E86 C \u8BED\u8A00\u7684 "),R=s("code",null,"printf()",-1),O=n("\u3002\u5982\u679C\u4F60\u6BD4\u8F83\u6000\u65E7\u7684\u8BDD\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528 "),F=s("code",null,"printf()",-1),J=n("\u3002\u4EE5\u4E0B\u662F\u4E00\u4E2A\u7B80\u5355\u7684\u793A\u4F8B\uFF1A"),D=a(`<div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/SimpleFormat.java </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleFormat</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>     
        <span class="token keyword">double</span> y <span class="token operator">=</span> <span class="token number">5.332542</span><span class="token punctuation">;</span>     
        <span class="token comment">// The old way: </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Row 1: [&quot;</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// The new way:     </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Row 1: [%d %f]%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// or     </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Row 1: [%d %f]%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
Row 1: [5 5.332542] 
Row 1: [5 5.332542] 
Row 1: [5 5.332542] 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u770B\u5230\uFF0C<code>format()</code> \u548C <code>printf()</code> \u662F\u7B49\u4EF7\u7684\uFF0C\u5B83\u4EEC\u53EA\u9700\u8981\u4E00\u4E2A\u7B80\u5355\u7684\u683C\u5F0F\u5316\u5B57\u7B26\u4E32\uFF0C\u52A0\u4E0A\u4E00\u4E32\u53C2\u6570\u5373\u53EF\uFF0C\u6BCF\u4E2A\u53C2\u6570\u5BF9\u5E94\u4E00\u4E2A\u683C\u5F0F\u4FEE\u9970\u7B26\u3002</p><p><code>String</code> \u7C7B\u4E5F\u6709\u4E00\u4E2A <code>static format()</code> \u65B9\u6CD5\uFF0C\u53EF\u4EE5\u683C\u5F0F\u5316\u5B57\u7B26\u4E32\u3002</p><h3 id="formatter-\u7C7B" tabindex="-1"><a class="header-anchor" href="#formatter-\u7C7B" aria-hidden="true">#</a> <code>Formatter</code> \u7C7B</h3><p>\u5728 Java \u4E2D\uFF0C\u6240\u6709\u7684\u683C\u5F0F\u5316\u529F\u80FD\u90FD\u662F\u7531 <code>java.util.Formatter</code> \u7C7B\u5904\u7406\u7684\u3002\u53EF\u4EE5\u5C06 <code>Formatter</code> \u770B\u505A\u4E00\u4E2A\u7FFB\u8BD1\u5668\uFF0C\u5B83\u5C06\u4F60\u7684\u683C\u5F0F\u5316\u5B57\u7B26\u4E32\u4E0E\u6570\u636E\u7FFB\u8BD1\u6210\u9700\u8981\u7684\u7ED3\u679C\u3002\u5F53\u4F60\u521B\u5EFA\u4E00\u4E2A <code>Formatter</code> \u5BF9\u8C61\u65F6\uFF0C\u9700\u8981\u5411\u5176\u6784\u9020\u5668\u4F20\u9012\u4E00\u4E9B\u4FE1\u606F\uFF0C\u544A\u8BC9\u5B83\u6700\u7EC8\u7684\u7ED3\u679C\u5C06\u5411\u54EA\u91CC\u8F93\u51FA\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/Turtle.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Turtle</span> <span class="token punctuation">{</span>   
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>   
    <span class="token keyword">private</span> <span class="token class-name">Formatter</span> f<span class="token punctuation">;</span>  
    <span class="token keyword">public</span> <span class="token class-name">Turtle</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Formatter</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>     
        <span class="token keyword">this</span><span class="token punctuation">.</span>f <span class="token operator">=</span> f<span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s The Turtle is at (%d,%d)%n&quot;</span><span class="token punctuation">,</span>       
            name<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token class-name">PrintStream</span> outAlias <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">;</span>     
        <span class="token class-name">Turtle</span> tommy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Turtle</span><span class="token punctuation">(</span><span class="token string">&quot;Tommy&quot;</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">Formatter</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Turtle</span> terry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Turtle</span><span class="token punctuation">(</span><span class="token string">&quot;Terry&quot;</span><span class="token punctuation">,</span>       
            <span class="token keyword">new</span> <span class="token class-name">Formatter</span><span class="token punctuation">(</span>outAlias<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        tommy<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        terry<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        tommy<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        terry<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        tommy<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        terry<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
Tommy The Turtle is at (0,0) 
Terry The Turtle is at (4,8) 
Tommy The Turtle is at (3,4) 
Terry The Turtle is at (2,5) 
Tommy The Turtle is at (3,3) 
Terry The Turtle is at (3,3) 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u683C\u5F0F\u5316\u4FEE\u9970\u7B26 <code>%s</code> \u8868\u660E\u8FD9\u91CC\u9700\u8981 <code>String</code> \u53C2\u6570\u3002</p>`,7),M=a("\u6240\u6709\u7684 <code>tommy</code> \u90FD\u5C06\u8F93\u51FA\u5230 <code>System.out</code>\uFF0C\u800C\u6240\u6709\u7684 <code>terry</code> \u5219\u90FD\u8F93\u51FA\u5230 <code>System.out</code> \u7684\u4E00\u4E2A\u522B\u540D\u4E2D\u3002<code>Formatter</code> \u7684\u91CD\u8F7D\u6784\u9020\u5668\u652F\u6301\u8F93\u51FA\u5230\u591A\u4E2A\u8DEF\u5F84\uFF0C\u4E0D\u8FC7\u6700\u5E38\u7528\u7684\u8FD8\u662F <code>PrintStream()</code>\uFF08\u5982\u4E0A\u4F8B\uFF09\u3001<code>OutputStream</code> \u548C <code>File</code>\u3002\u4F60\u53EF\u4EE5\u5728 ",17),N=n("\u9644\u5F55:\u6D41\u5F0F I/O"),L=n(" \u4E2D\u4E86\u89E3\u66F4\u591A\u4FE1\u606F\u3002"),X=a(`<h3 id="\u683C\u5F0F\u5316\u4FEE\u9970\u7B26" tabindex="-1"><a class="header-anchor" href="#\u683C\u5F0F\u5316\u4FEE\u9970\u7B26" aria-hidden="true">#</a> \u683C\u5F0F\u5316\u4FEE\u9970\u7B26</h3><p>\u5728\u63D2\u5165\u6570\u636E\u65F6\uFF0C\u5982\u679C\u60F3\u8981\u4F18\u5316\u7A7A\u683C\u4E0E\u5BF9\u9F50\uFF0C\u4F60\u9700\u8981\u66F4\u7CBE\u7EC6\u590D\u6742\u7684\u683C\u5F0F\u4FEE\u9970\u7B26\u3002\u4EE5\u4E0B\u662F\u5176\u901A\u7528\u8BED\u6CD5\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">%</span><span class="token punctuation">[</span>argument_index$<span class="token punctuation">]</span><span class="token punctuation">[</span>flags<span class="token punctuation">]</span><span class="token punctuation">[</span>width<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">.</span>precision<span class="token punctuation">]</span>conversion 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6700\u5E38\u89C1\u7684\u5E94\u7528\u662F\u63A7\u5236\u4E00\u4E2A\u5B57\u6BB5\u7684\u6700\u5C0F\u957F\u5EA6\uFF0C\u8FD9\u53EF\u4EE5\u901A\u8FC7\u6307\u5B9A <em>width</em> \u6765\u5B9E\u73B0\u3002<code>Formatter </code>\u5BF9\u8C61\u901A\u8FC7\u5728\u5FC5\u8981\u65F6\u6DFB\u52A0\u7A7A\u683C\uFF0C\u6765\u786E\u4FDD\u4E00\u4E2A\u5B57\u6BB5\u81F3\u5C11\u8FBE\u5230\u8BBE\u5B9A\u957F\u5EA6\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u6570\u636E\u662F\u53F3\u5BF9\u9F50\u7684\uFF0C\u4E0D\u8FC7\u53EF\u4EE5\u901A\u8FC7\u4F7F\u7528 <code>-</code> \u6807\u5FD7\u6765\u6539\u53D8\u5BF9\u9F50\u65B9\u5411\u3002</p><p>\u4E0E <em>width</em> \u76F8\u5BF9\u7684\u662F <em>precision</em>\uFF0C\u7528\u4E8E\u6307\u5B9A\u6700\u5927\u957F\u5EA6\u3002<em>width</em> \u53EF\u4EE5\u5E94\u7528\u4E8E\u5404\u79CD\u7C7B\u578B\u7684\u6570\u636E\u8F6C\u6362\uFF0C\u5E76\u4E14\u5176\u884C\u4E3A\u65B9\u5F0F\u90FD\u4E00\u6837\u3002<em>precision</em> \u5219\u4E0D\u7136\uFF0C\u5F53\u5E94\u7528\u4E8E\u4E0D\u540C\u7C7B\u578B\u7684\u6570\u636E\u8F6C\u6362\u65F6\uFF0C<em>precision</em> \u7684\u610F\u4E49\u4E5F\u4E0D\u540C\u3002\u5728\u5C06 <em>precision</em> \u5E94\u7528\u4E8E <code>String</code> \u65F6\uFF0C\u5B83\u8868\u793A\u6253\u5370 <code>string</code> \u65F6\u8F93\u51FA\u5B57\u7B26\u7684\u6700\u5927\u6570\u91CF\u3002\u800C\u5728\u5C06 <em>precision</em> \u5E94\u7528\u4E8E\u6D6E\u70B9\u6570\u65F6\uFF0C\u5B83\u8868\u793A\u5C0F\u6570\u90E8\u5206\u8981\u663E\u793A\u51FA\u6765\u7684\u4F4D\u6570\uFF08\u9ED8\u8BA4\u662F 6 \u4F4D\u5C0F\u6570\uFF09\uFF0C\u5982\u679C\u5C0F\u6570\u4F4D\u6570\u8FC7\u591A\u5219\u820D\u5165\uFF0C\u592A\u5C11\u5219\u5728\u5C3E\u90E8\u8865\u96F6\u3002\u7531\u4E8E\u6574\u6570\u6CA1\u6709\u5C0F\u6570\u90E8\u5206\uFF0C\u6240\u4EE5 <em>precision</em> \u65E0\u6CD5\u5E94\u7528\u4E8E\u6574\u6570\uFF0C\u5982\u679C\u4F60\u5BF9\u6574\u6570\u5E94\u7528 <em>precision</em>\uFF0C\u5219\u4F1A\u89E6\u53D1\u5F02\u5E38\u3002</p><p>\u4E0B\u9762\u7684\u7A0B\u5E8F\u5E94\u7528\u683C\u5F0F\u4FEE\u9970\u7B26\u6765\u6253\u5370\u4E00\u4E2A\u8D2D\u7269\u6536\u636E\u3002\u8FD9\u662F <em>Builder</em> \u8BBE\u8BA1\u6A21\u5F0F\u7684\u4E00\u4E2A\u7B80\u5355\u5B9E\u73B0\uFF0C\u5373\u5148\u521B\u5EFA\u4E00\u4E2A\u521D\u59CB\u5BF9\u8C61\uFF0C\u7136\u540E\u9010\u6E10\u6DFB\u52A0\u65B0\u4E1C\u897F\uFF0C\u6700\u540E\u8C03\u7528 <code>build()</code> \u65B9\u6CD5\u5B8C\u6210\u6784\u5EFA\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/ReceiptBuilder.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReceiptBuilder</span> <span class="token punctuation">{</span>   
    <span class="token keyword">private</span> <span class="token keyword">double</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   
    <span class="token keyword">private</span> <span class="token class-name">Formatter</span> f <span class="token operator">=</span>     
        <span class="token keyword">new</span> <span class="token class-name">Formatter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token keyword">public</span> <span class="token class-name">ReceiptBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>       
          <span class="token string">&quot;%-15s %5s %10s%n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Item&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Qty&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Price&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>       
          <span class="token string">&quot;%-15s %5s %10s%n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;----&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;---&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token punctuation">}</span>   
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> qty<span class="token punctuation">,</span> <span class="token keyword">double</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%-15.15s %5d %10.2f%n&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> qty<span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        total <span class="token operator">+=</span> price <span class="token operator">*</span> qty<span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>  
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%-15s %5s %10.2f%n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Tax&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>       
          total <span class="token operator">*</span> <span class="token number">0.06</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%-15s %5s %10s%n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%-15s %5s %10.2f%n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Total&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>       
          total <span class="token operator">*</span> <span class="token number">1.06</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">return</span> f<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">ReceiptBuilder</span> receiptBuilder <span class="token operator">=</span>       
          <span class="token keyword">new</span> <span class="token class-name">ReceiptBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        receiptBuilder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Jack&#39;s Magic Beans&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        receiptBuilder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Princess Peas&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        receiptBuilder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>       
          <span class="token string">&quot;Three Bears Porridge&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">14.29</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>receiptBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
Item              Qty      Price 
----              ---      ----- 
Jack&#39;s Magic Be     4       4.25 
Princess Peas       3       5.10 
Three Bears Por     1      14.29 
Tax                         2.80 
                           ----- 
Total                      49.39 
*/</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7\u4F20\u5165\u4E00\u4E2A <code>StringBuilder</code> \u5BF9\u8C61\u5230 <code>Formatter</code> \u7684\u6784\u9020\u5668\uFF0C\u6211\u4EEC\u6307\u5B9A\u4E86\u4E00\u4E2A\u5BB9\u5668\u6765\u6784\u5EFA\u76EE\u6807 <code>String</code>\u3002\u4F60\u4E5F\u53EF\u4EE5\u901A\u8FC7\u4E0D\u540C\u7684\u6784\u9020\u5668\u53C2\u6570\uFF0C\u628A\u7ED3\u679C\u8F93\u51FA\u5230\u6807\u51C6\u8F93\u51FA\uFF0C\u751A\u81F3\u662F\u4E00\u4E2A\u6587\u4EF6\u91CC\u3002</p><p>\u6B63\u5982\u4F60\u6240\u89C1\uFF0C\u901A\u8FC7\u76F8\u5F53\u7B80\u6D01\u7684\u8BED\u6CD5\uFF0C<code>Formatter </code> \u63D0\u4F9B\u4E86\u5BF9\u7A7A\u683C\u4E0E\u5BF9\u9F50\u7684\u5F3A\u5927\u63A7\u5236\u80FD\u529B\u3002\u5728\u8BE5\u7A0B\u5E8F\u4E2D\uFF0C\u4E3A\u4E86\u6070\u5F53\u5730\u63A7\u5236\u95F4\u9694\uFF0C\u683C\u5F0F\u5316\u5B57\u7B26\u4E32\u88AB\u91CD\u590D\u5229\u7528\u4E86\u591A\u904D\u3002</p><h3 id="formatter-\u8F6C\u6362" tabindex="-1"><a class="header-anchor" href="#formatter-\u8F6C\u6362" aria-hidden="true">#</a> <code>Formatter</code> \u8F6C\u6362</h3><p>\u4E0B\u9762\u7684\u8868\u683C\u5C55\u793A\u4E86\u6700\u5E38\u7528\u7684\u7C7B\u578B\u8F6C\u6362\uFF1A</p><table><thead><tr><th style="text-align:center;">\u7C7B\u578B</th><th style="text-align:left;">\u542B\u4E49</th></tr></thead><tbody><tr><td style="text-align:center;"><code>d</code></td><td style="text-align:left;">\u6574\u578B\uFF08\u5341\u8FDB\u5236\uFF09</td></tr><tr><td style="text-align:center;"><code>c</code></td><td style="text-align:left;">Unicode\u5B57\u7B26</td></tr><tr><td style="text-align:center;"><code>b</code></td><td style="text-align:left;">Boolean\u503C</td></tr><tr><td style="text-align:center;"><code>s</code></td><td style="text-align:left;">String</td></tr><tr><td style="text-align:center;"><code>f</code></td><td style="text-align:left;">\u6D6E\u70B9\u6570\uFF08\u5341\u8FDB\u5236\uFF09</td></tr><tr><td style="text-align:center;"><code>e</code></td><td style="text-align:left;">\u6D6E\u70B9\u6570\uFF08\u79D1\u5B66\u8BA1\u6570\uFF09</td></tr><tr><td style="text-align:center;"><code>x</code></td><td style="text-align:left;">\u6574\u578B\uFF08\u5341\u516D\u8FDB\u5236\uFF09</td></tr><tr><td style="text-align:center;"><code>h</code></td><td style="text-align:left;">\u6563\u5217\u7801\uFF08\u5341\u516D\u8FDB\u5236\uFF09</td></tr><tr><td style="text-align:center;"><code>%</code></td><td style="text-align:left;">\u5B57\u9762\u503C\u201C%\u201D</td></tr></tbody></table><p>\u4E0B\u9762\u7684\u7A0B\u5E8F\u6F14\u793A\u4E86\u8FD9\u4E9B\u8F6C\u6362\u662F\u5982\u4F55\u5DE5\u4F5C\u7684\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/Conversion.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Conversion</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">Formatter</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Formatter</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token keyword">char</span> u <span class="token operator">=</span> <span class="token char">&#39;a&#39;</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;u = &#39;a&#39;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;s: %s%n&quot;</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;d: %d%n&quot;, u);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;c: %c%n&quot;</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;b: %b%n&quot;</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;f: %f%n&quot;, u);     </span>
        <span class="token comment">// f.format(&quot;e: %e%n&quot;, u);     </span>
        <span class="token comment">// f.format(&quot;x: %x%n&quot;, u);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;h: %h%n&quot;</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token keyword">int</span> v <span class="token operator">=</span> <span class="token number">121</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;v = 121&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;d: %d%n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;c: %c%n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;b: %b%n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;s: %s%n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;f: %f%n&quot;, v);     </span>
        <span class="token comment">// f.format(&quot;e: %e%n&quot;, v);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;x: %x%n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;h: %h%n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token class-name">BigInteger</span> w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">&quot;50000000000000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>       
          <span class="token string">&quot;w = new BigInteger(\\&quot;50000000000000\\&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;d: %d%n&quot;</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;c: %c%n&quot;, w);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;b: %b%n&quot;</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;s: %s%n&quot;</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;f: %f%n&quot;, w);     </span>
        <span class="token comment">// f.format(&quot;e: %e%n&quot;, w);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;x: %x%n&quot;</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;h: %h%n&quot;</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token number">179.543</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;x = 179.543&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;d: %d%n&quot;, x);     </span>
        <span class="token comment">// f.format(&quot;c: %c%n&quot;, x);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;b: %b%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;s: %s%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;f: %f%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;e: %e%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;x: %x%n&quot;, x);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;h: %h%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token class-name">Conversion</span> y <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Conversion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;y = new Conversion()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token comment">// f.format(&quot;d: %d%n&quot;, y);     </span>
        <span class="token comment">// f.format(&quot;c: %c%n&quot;, y);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;b: %b%n&quot;</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;s: %s%n&quot;</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;f: %f%n&quot;, y);     </span>
        <span class="token comment">// f.format(&quot;e: %e%n&quot;, y);     </span>
        <span class="token comment">// f.format(&quot;x: %x%n&quot;, y);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;h: %h%n&quot;</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token keyword">boolean</span> z <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;z = false&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;d: %d%n&quot;, z);     </span>
        <span class="token comment">// f.format(&quot;c: %c%n&quot;, z);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;b: %b%n&quot;</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;s: %s%n&quot;</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;f: %f%n&quot;, z);     </span>
        <span class="token comment">// f.format(&quot;e: %e%n&quot;, z);     </span>
        <span class="token comment">// f.format(&quot;x: %x%n&quot;, z);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;h: %h%n&quot;</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
u = &#39;a&#39; 
s: a 
c: a 
b: true 
h: 61 
v = 121 
d: 121 
c: y 
b: true 
s: 121 
x: 79 
h: 79 
w = new BigInteger(&quot;50000000000000&quot;) 
d: 50000000000000 
b: true 
s: 50000000000000 
x: 2d79883d2000 
h: 8842a1a7 
x = 179.543 
b: true 
s: 179.543 
f: 179.543000 
e: 1.795430e+02 
h: 1ef462c 
y = new Conversion() 
b: true 
s: Conversion@15db9742 
h: 15db9742 
z = false 
b: false 
s: false
h: 4d5 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u88AB\u6CE8\u91CA\u7684\u4EE3\u7801\u8868\u793A\uFF0C\u9488\u5BF9\u76F8\u5E94\u7C7B\u578B\u7684\u53D8\u91CF\uFF0C\u8FD9\u4E9B\u8F6C\u6362\u662F\u65E0\u6548\u7684\u3002\u5982\u679C\u6267\u884C\u8FD9\u4E9B\u8F6C\u6362\uFF0C\u5219\u4F1A\u89E6\u53D1\u5F02\u5E38\u3002</p><p>\u6CE8\u610F\uFF0C\u7A0B\u5E8F\u4E2D\u7684\u6BCF\u4E2A\u53D8\u91CF\u90FD\u7528\u5230\u4E86 <code>b</code> \u8F6C\u6362\u3002\u867D\u7136\u5B83\u5BF9\u5404\u79CD\u7C7B\u578B\u90FD\u662F\u5408\u6CD5\u7684\uFF0C\u4F46\u5176\u884C\u4E3A\u5374\u4E0D\u4E00\u5B9A\u4E0E\u4F60\u60F3\u8C61\u7684\u4E00\u81F4\u3002\u5BF9\u4E8E <code>boolean</code> \u57FA\u672C\u7C7B\u578B\u6216 <code>Boolean</code> \u5BF9\u8C61\uFF0C\u5176\u8F6C\u6362\u7ED3\u679C\u662F\u5BF9\u5E94\u7684 <code>true</code> \u6216 <code>false</code>\u3002\u4F46\u662F\uFF0C\u5BF9\u5176\u4ED6\u7C7B\u578B\u7684\u53C2\u6570\uFF0C\u53EA\u8981\u8BE5\u53C2\u6570\u4E0D\u4E3A <code>null</code>\uFF0C\u5176\u8F6C\u6362\u7ED3\u679C\u6C38\u8FDC\u90FD\u662F <code>true</code>\u3002\u5373\u4F7F\u662F\u6570\u5B57 0\uFF0C\u8F6C\u6362\u7ED3\u679C\u4F9D\u7136\u4E3A <code>true</code>\uFF0C\u800C\u8FD9\u5728\u5176\u4ED6\u8BED\u8A00\u4E2D\uFF08\u5305\u62ECC\uFF09\uFF0C\u5F80\u5F80\u8F6C\u6362\u4E3A <code>false</code>\u3002\u6240\u4EE5\uFF0C\u5C06 <code>b</code> \u5E94\u7528\u4E8E\u975E\u5E03\u5C14\u7C7B\u578B\u7684\u5BF9\u8C61\u65F6\u8BF7\u683C\u5916\u5C0F\u5FC3\u3002</p><p>\u8FD8\u6709\u8BB8\u591A\u4E0D\u5E38\u7528\u7684\u7C7B\u578B\u8F6C\u6362\u4E0E\u683C\u5F0F\u4FEE\u9970\u7B26\u9009\u9879\uFF0C\u4F60\u53EF\u4EE5\u5728 JDK \u6587\u6863\u4E2D\u7684 <code>Formatter</code> \u7C7B\u90E8\u5206\u627E\u5230\u5B83\u4EEC\u3002</p><h3 id="string-format" tabindex="-1"><a class="header-anchor" href="#string-format" aria-hidden="true">#</a> <code>String.format()</code></h3><p>Java SE5 \u4E5F\u53C2\u8003\u4E86 C \u4E2D\u7684 <code>sprintf()</code> \u65B9\u6CD5\uFF0C\u4EE5\u751F\u6210\u683C\u5F0F\u5316\u7684 <code>String</code> \u5BF9\u8C61\u3002<code>String.format()</code> \u662F\u4E00\u4E2A <code>static</code> \u65B9\u6CD5\uFF0C\u5B83\u63A5\u53D7\u4E0E <code>Formatter.format()</code> \u65B9\u6CD5\u4E00\u6837\u7684\u53C2\u6570\uFF0C\u4F46\u8FD4\u56DE\u4E00\u4E2A <code>String</code> \u5BF9\u8C61\u3002\u5F53\u4F60\u53EA\u9700\u4F7F\u7528\u4E00\u6B21 <code>format()</code> \u65B9\u6CD5\u7684\u65F6\u5019\uFF0C<code>String.format()</code> \u7528\u8D77\u6765\u5F88\u65B9\u4FBF\u3002\u4F8B\u5982\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/DatabaseException.java </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DatabaseException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token class-name">DatabaseException</span><span class="token punctuation">(</span><span class="token keyword">int</span> transactionID<span class="token punctuation">,</span>     
      <span class="token keyword">int</span> queryID<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
      <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;(t%d, q%d) %s&quot;</span><span class="token punctuation">,</span> transactionID<span class="token punctuation">,</span>         
        queryID<span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
      <span class="token keyword">try</span> <span class="token punctuation">{</span>       
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">DatabaseException</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">&quot;Write failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
      <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>       
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>     
      <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* 
Output: 
DatabaseException: (t3, q7) Write failed 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5176\u5B9E\u5728 <code>String.format()</code> \u5185\u90E8\uFF0C\u5B83\u4E5F\u662F\u521B\u5EFA\u4E86\u4E00\u4E2A <code>Formatter</code> \u5BF9\u8C61\uFF0C\u7136\u540E\u5C06\u4F60\u4F20\u5165\u7684\u53C2\u6570\u8F6C\u7ED9 <code>Formatter</code>\u3002\u4E0D\u8FC7\uFF0C\u4E0E\u5176\u81EA\u5DF1\u505A\u8FD9\u4E9B\u4E8B\u60C5\uFF0C\u4E0D\u5982\u4F7F\u7528\u4FBF\u6377\u7684 <code>String.format()</code> \u65B9\u6CD5\uFF0C\u4F55\u51B5\u8FD9\u6837\u7684\u4EE3\u7801\u66F4\u6E05\u6670\u6613\u8BFB\u3002</p><h4 id="\u4E00\u4E2A\u5341\u516D\u8FDB\u5236\u8F6C\u50A8-dump-\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#\u4E00\u4E2A\u5341\u516D\u8FDB\u5236\u8F6C\u50A8-dump-\u5DE5\u5177" aria-hidden="true">#</a> \u4E00\u4E2A\u5341\u516D\u8FDB\u5236\u8F6C\u50A8\uFF08dump\uFF09\u5DE5\u5177</h4><p>\u5728\u7B2C\u4E8C\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u6211\u4EEC\u628A\u4E8C\u8FDB\u5236\u6587\u4EF6\u8F6C\u6362\u4E3A\u5341\u516D\u8FDB\u5236\u683C\u5F0F\u3002\u4E0B\u9762\u7684\u5C0F\u5DE5\u5177\u4F7F\u7528\u4E86 <code>String.format()</code> \u65B9\u6CD5\uFF0C\u4EE5\u53EF\u8BFB\u7684\u5341\u516D\u8FDB\u5236\u683C\u5F0F\u5C06\u5B57\u8282\u6570\u7EC4\u6253\u5370\u51FA\u6765\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/Hex.java </span>
<span class="token comment">// {java onjava.Hex} </span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hex</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">byte</span> b <span class="token operator">:</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>       
            <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">16</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>         
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%05X: &quot;</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%02X &quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            n<span class="token operator">++</span><span class="token punctuation">;</span>       
            <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">16</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token punctuation">}</span>     
        result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>  
        <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>       
            <span class="token comment">// Test by displaying this class file:       </span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">format</span><span class="token punctuation">(</span>         
                <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">readAllBytes</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>           
                  <span class="token string">&quot;build/classes/main/onjava/Hex.class&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">else</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">format</span><span class="token punctuation">(</span>         
                <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">readAllBytes</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: (First 6 Lines) 
00000: CA FE BA BE 00 00 00 34 00 61 0A 00 05 00 31 07 
00010: 00 32 0A 00 02 00 31 08 00 33 07 00 34 0A 00 35 
00020: 00 36 0A 00 0F 00 37 0A 00 02 00 38 08 00 39 0A 
00030: 00 3A 00 3B 08 00 3C 0A 00 02 00 3D 09 00 3E 00 
00040: 3F 08 00 40 07 00 41 0A 00 42 00 43 0A 00 44 00 
00050: 45 0A 00 14 00 46 0A 00 47 00 48 07 00 49 01 00
                  ... 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,24),z=n("\u4E3A\u4E86\u6253\u5F00\u53CA\u8BFB\u5165\u4E8C\u8FDB\u5236\u6587\u4EF6\uFF0C\u6211\u4EEC\u7528\u5230\u4E86\u53E6\u4E00\u4E2A\u5DE5\u5177 "),W=s("code",null,"Files.readAllBytes()",-1),U=n("\uFF0C\u8FD9\u5DF2\u7ECF\u5728 "),H=n("Files\u7AE0\u8282"),V=n(" \u4ECB\u7ECD\u8FC7\u4E86\u3002\u8FD9\u91CC\u7684 "),G=s("code",null,"readAllBytes()",-1),$=n(" \u65B9\u6CD5\u5C06\u6574\u4E2A\u6587\u4EF6\u4EE5 "),K=s("code",null,"byte",-1),Q=n(" \u6570\u7EC4\u7684\u5F62\u5F0F\u8FD4\u56DE\u3002"),Y=a(`<h2 id="\u6B63\u5219\u8868\u8FBE\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u6B63\u5219\u8868\u8FBE\u5F0F" aria-hidden="true">#</a> \u6B63\u5219\u8868\u8FBE\u5F0F</h2><p>\u5F88\u4E45\u4E4B\u524D\uFF0C<em>\u6B63\u5219\u8868\u8FBE\u5F0F</em>\u5C31\u5DF2\u7ECF\u6574\u5408\u5230\u6807\u51C6 Unix \u5DE5\u5177\u96C6\u4E4B\u4E2D\uFF0C\u4F8B\u5982 sed\u3001awk \u548C\u7A0B\u5E8F\u8BED\u8A00\u4E4B\u4E2D\u4E86\uFF0C\u5982 Python \u548CPerl\uFF08\u6709\u4E9B\u4EBA\u8BA4\u4E3A\u6B63\u662F\u6B63\u5219\u8868\u8FBE\u5F0F\u4FC3\u6210\u4E86 Perl \u7684\u6210\u529F\uFF09\u3002\u800C\u5728 Java \u4E2D\uFF0C\u5B57\u7B26\u4E32\u64CD\u4F5C\u8FD8\u4E3B\u8981\u96C6\u4E2D\u4E8E<code>String</code>\u3001<code>StringBuffer</code> \u548C <code>StringTokenizer</code> \u7C7B\u3002\u4E0E\u6B63\u5219\u8868\u8FBE\u5F0F\u76F8\u6BD4\u8F83\uFF0C\u5B83\u4EEC\u53EA\u80FD\u63D0\u4F9B\u76F8\u5F53\u7B80\u5355\u7684\u529F\u80FD\u3002</p><p>\u6B63\u5219\u8868\u8FBE\u5F0F\u662F\u4E00\u79CD\u5F3A\u5927\u800C\u7075\u6D3B\u7684\u6587\u672C\u5904\u7406\u5DE5\u5177\u3002\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u6211\u4EEC\u80FD\u591F\u4EE5\u7F16\u7A0B\u7684\u65B9\u5F0F\uFF0C\u6784\u9020\u590D\u6742\u7684\u6587\u672C\u6A21\u5F0F\uFF0C\u5E76\u5BF9\u8F93\u5165 <code>String</code> \u8FDB\u884C\u641C\u7D22\u3002\u4E00\u65E6\u627E\u5230\u4E86\u5339\u914D\u8FD9\u4E9B\u6A21\u5F0F\u7684\u90E8\u5206\uFF0C\u4F60\u5C31\u80FD\u968F\u5FC3\u6240\u6B32\u5730\u5BF9\u5B83\u4EEC\u8FDB\u884C\u5904\u7406\u3002\u521D\u5B66\u6B63\u5219\u8868\u8FBE\u5F0F\u65F6\uFF0C\u5176\u8BED\u6CD5\u662F\u4E00\u4E2A\u96BE\u70B9\uFF0C\u4F46\u5B83\u786E\u5B9E\u662F\u4E00\u79CD\u7B80\u6D01\u3001\u52A8\u6001\u7684\u8BED\u8A00\u3002\u6B63\u5219\u8868\u8FBE\u5F0F\u63D0\u4F9B\u4E86\u4E00\u79CD\u5B8C\u5168\u901A\u7528\u7684\u65B9\u5F0F\uFF0C\u80FD\u591F\u89E3\u51B3\u5404\u79CD <code>String</code> \u5904\u7406\u76F8\u5173\u7684\u95EE\u9898\uFF1A\u5339\u914D\u3001\u9009\u62E9\u3001\u7F16\u8F91\u4EE5\u53CA\u9A8C\u8BC1\u3002</p><h3 id="\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#\u57FA\u7840" aria-hidden="true">#</a> \u57FA\u7840</h3><p>\u4E00\u822C\u6765\u8BF4\uFF0C\u6B63\u5219\u8868\u8FBE\u5F0F\u5C31\u662F\u4EE5\u67D0\u79CD\u65B9\u5F0F\u6765\u63CF\u8FF0\u5B57\u7B26\u4E32\uFF0C\u56E0\u6B64\u4F60\u53EF\u4EE5\u8BF4\uFF1A\u201C\u5982\u679C\u4E00\u4E2A\u5B57\u7B26\u4E32\u542B\u6709\u8FD9\u4E9B\u4E1C\u897F\uFF0C\u90A3\u4E48\u5B83\u5C31\u662F\u6211\u6B63\u5728\u627E\u7684\u4E1C\u897F\u3002\u201D\u4F8B\u5982\uFF0C\u8981\u627E\u4E00\u4E2A\u6570\u5B57\uFF0C\u5B83\u53EF\u80FD\u6709\u4E00\u4E2A\u8D1F\u53F7\u5728\u6700\u524D\u9762\uFF0C\u90A3\u4F60\u5C31\u5199\u4E00\u4E2A\u8D1F\u53F7\u52A0\u4E0A\u4E00\u4E2A\u95EE\u53F7\uFF0C\u5C31\u50CF\u8FD9\u6837\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">-</span><span class="token operator">?</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8981\u63CF\u8FF0\u4E00\u4E2A\u6574\u6570\uFF0C\u4F60\u53EF\u4EE5\u8BF4\u5B83\u6709\u4E00\u4F4D\u6216\u591A\u4F4D\u963F\u62C9\u4F2F\u6570\u5B57\u3002\u5728\u6B63\u5219\u8868\u8FBE\u5F0F\u4E2D\uFF0C\u7528 <code>\\d</code> \u8868\u793A\u4E00\u4F4D\u6570\u5B57\u3002\u5982\u679C\u5728\u5176\u4ED6\u8BED\u8A00\u4E2D\u4F7F\u7528\u8FC7\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u90A3\u4F60\u53EF\u80FD\u5C31\u80FD\u53D1\u73B0 Java \u5BF9\u53CD\u659C\u7EBF \\ \u7684\u4E0D\u540C\u5904\u7406\u65B9\u5F0F\u3002\u5728\u5176\u4ED6\u8BED\u8A00\u4E2D\uFF0C<code>\\\\</code> \u8868\u793A\u201C\u6211\u60F3\u8981\u5728\u6B63\u5219\u8868\u8FBE\u5F0F\u4E2D\u63D2\u5165\u4E00\u4E2A\u666E\u901A\u7684\uFF08\u5B57\u9762\u4E0A\u7684\uFF09\u53CD\u659C\u7EBF\uFF0C\u8BF7\u4E0D\u8981\u7ED9\u5B83\u4EFB\u4F55\u7279\u6B8A\u7684\u610F\u4E49\u3002\u201D\u800C\u5728Java\u4E2D\uFF0C<code>\\\\</code> \u7684\u610F\u601D\u662F\u201C\u6211\u8981\u63D2\u5165\u4E00\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F\u7684\u53CD\u659C\u7EBF\uFF0C\u6240\u4EE5\u5176\u540E\u7684\u5B57\u7B26\u5177\u6709\u7279\u6B8A\u7684\u610F\u4E49\u3002\u201D\u4F8B\u5982\uFF0C\u5982\u679C\u4F60\u60F3\u8868\u793A\u4E00\u4F4D\u6570\u5B57\uFF0C\u90A3\u4E48\u6B63\u5219\u8868\u8FBE\u5F0F\u5E94\u8BE5\u662F <code>\\\\d</code>\u3002\u5982\u679C\u4F60\u60F3\u63D2\u5165\u4E00\u4E2A\u666E\u901A\u7684\u53CD\u659C\u7EBF\uFF0C\u5E94\u8BE5\u8FD9\u6837\u5199 <code>\\\\\\</code>\u3002\u4E0D\u8FC7\u6362\u884C\u7B26\u548C\u5236\u8868\u7B26\u4E4B\u7C7B\u7684\u4E1C\u897F\u53EA\u9700\u8981\u4F7F\u7528\u5355\u53CD\u659C\u7EBF\uFF1A<code>\\n\\t</code>\u3002 <a href="Java%E5%B9%B6%E9%9D%9E%E5%9C%A8%E4%B8%80%E5%BC%80%E5%A7%8B%E5%B0%B1%E6%94%AF%E6%8C%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E5%9B%A0%E6%AD%A4%E8%BF%99%E4%B8%AA%E4%BB%A4%E4%BA%BA%E8%B4%B9%E8%A7%A3%E7%9A%84%E8%AF%AD%E6%B3%95%E6%98%AF%E7%A1%AC%E5%A1%9E%E8%BF%9B%E6%9D%A5%E7%9A%84%E3%80%82">^2</a></p><p>\u8981\u8868\u793A\u201C\u4E00\u4E2A\u6216\u591A\u4E2A\u4E4B\u524D\u7684\u8868\u8FBE\u5F0F\u201D\uFF0C\u5E94\u8BE5\u4F7F\u7528 <code>+</code>\u3002\u6240\u4EE5\uFF0C\u5982\u679C\u8981\u8868\u793A\u201C\u53EF\u80FD\u6709\u4E00\u4E2A\u8D1F\u53F7\uFF0C\u540E\u9762\u8DDF\u7740\u4E00\u4F4D\u6216\u591A\u4F4D\u6570\u5B57\u201D\uFF0C\u53EF\u4EE5\u8FD9\u6837\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">-</span><span class="token operator">?</span>\\\\d<span class="token operator">+</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5E94\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u6700\u7B80\u5355\u7684\u9014\u5F84\uFF0C\u5C31\u662F\u5229\u7528 <code>String</code> \u7C7B\u5185\u5EFA\u7684\u529F\u80FD\u3002\u4F8B\u5982\uFF0C\u4F60\u53EF\u4EE5\u68C0\u67E5\u4E00\u4E2A <code>String</code> \u662F\u5426\u5339\u914D\u5982\u4E0A\u6240\u8FF0\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/IntegerMatch.java </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IntegerMatch</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-1234&quot;</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;-?\\\\d+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;5678&quot;</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;-?\\\\d+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;+911&quot;</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;-?\\\\d+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;+911&quot;</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;(-|\\\\+)?\\\\d+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
true 
true 
false 
true 
*/</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u524D\u4E24\u4E2A\u5B57\u7B26\u4E32\u90FD\u6EE1\u8DB3\u5BF9\u5E94\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u5339\u914D\u6210\u529F\u3002\u7B2C\u4E09\u4E2A\u5B57\u7B26\u4E32\u4EE5 <code>+</code> \u5F00\u5934\uFF0C\u8FD9\u4E5F\u662F\u4E00\u4E2A\u5408\u6CD5\u7684\u7B26\u53F7\uFF0C\u4F46\u4E0E\u5BF9\u5E94\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u5374\u4E0D\u5339\u914D\u3002\u56E0\u6B64\uFF0C\u6211\u4EEC\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u5E94\u8BE5\u63CF\u8FF0\u4E3A\uFF1A\u201C\u53EF\u80FD\u4EE5\u4E00\u4E2A\u52A0\u53F7\u6216\u51CF\u53F7\u5F00\u5934\u201D\u3002\u5728\u6B63\u5219\u8868\u8FBE\u5F0F\u4E2D\uFF0C\u7528\u62EC\u53F7\u5C06\u8868\u8FBE\u5F0F\u8FDB\u884C\u5206\u7EC4\uFF0C\u7528\u7AD6\u7EBF <code>|</code> \u8868\u793A\u6216\u64CD\u4F5C\u3002\u4E5F\u5C31\u662F\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">|</span>\\\\<span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">?</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8FD9\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F\u8868\u793A\u5B57\u7B26\u4E32\u7684\u8D77\u59CB\u5B57\u7B26\u53EF\u80FD\u662F\u4E00\u4E2A <code>-</code> \u6216 <code>+</code>\uFF0C\u6216\u8005\u4E8C\u8005\u90FD\u6CA1\u6709\uFF08\u56E0\u4E3A\u540E\u9762\u8DDF\u7740 <code>?</code> \u4FEE\u9970\u7B26\uFF09\u3002\u56E0\u4E3A\u5B57\u7B26 <code>+</code> \u5728\u6B63\u5219\u8868\u8FBE\u5F0F\u4E2D\u6709\u7279\u6B8A\u7684\u610F\u4E49\uFF0C\u6240\u4EE5\u5FC5\u987B\u4F7F\u7528 <code>\\\\</code> \u5C06\u5176\u8F6C\u4E49\uFF0C\u4F7F\u4E4B\u6210\u4E3A\u8868\u8FBE\u5F0F\u4E2D\u7684\u4E00\u4E2A\u666E\u901A\u5B57\u7B26\u3002</p><p><code>String</code>\u7C7B\u8FD8\u81EA\u5E26\u4E86\u4E00\u4E2A\u975E\u5E38\u6709\u7528\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u5DE5\u5177\u2014\u2014<code>split()</code> \u65B9\u6CD5\uFF0C\u5176\u529F\u80FD\u662F\u201C\u5C06\u5B57\u7B26\u4E32\u4ECE\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D\u7684\u5730\u65B9\u5207\u5F00\u3002\u201D</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/Splitting.java import java.util.*; </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Splitting</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> knights <span class="token operator">=</span>   
      <span class="token string">&quot;Then, when you have found the shrubbery, &quot;</span> <span class="token operator">+</span>
      <span class="token string">&quot;you must cut down the mightiest tree in the &quot;</span> <span class="token operator">+</span>
      <span class="token string">&quot;forest...with... a herring!&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">split</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
          <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>knights<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Doesn&#39;t have to contain regex chars</span>
        <span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\\\\W+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Non-word characters</span>
        <span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;n\\\\W+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;n&#39; followed by non-words</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[Then,, when, you, have, found, the, shrubbery,, you,
must, cut, down, the, mightiest, tree, in, the,
forest...with..., a, herring!]
[Then, when, you, have, found, the, shrubbery, you,
must, cut, down, the, mightiest, tree, in, the, forest,
with, a, herring]
[The, whe, you have found the shrubbery, you must cut
dow, the mightiest tree i, the forest...with... a
herring!]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9996\u5148\u770B\u7B2C\u4E00\u4E2A\u8BED\u53E5\uFF0C\u6CE8\u610F\u8FD9\u91CC\u7528\u7684\u662F\u666E\u901A\u7684\u5B57\u7B26\u4F5C\u4E3A\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u5176\u4E2D\u5E76\u4E0D\u5305\u542B\u4EFB\u4F55\u7279\u6B8A\u5B57\u7B26\u3002\u56E0\u6B64\u7B2C\u4E00\u4E2A <code>split()</code> \u53EA\u662F\u6309\u7A7A\u683C\u6765\u5212\u5206\u5B57\u7B26\u4E32\u3002</p><p>\u7B2C\u4E8C\u4E2A\u548C\u7B2C\u4E09\u4E2A <code>split()</code> \u90FD\u7528\u5230\u4E86 <code>\\\\W</code>\uFF0C\u5B83\u7684\u610F\u601D\u662F\u4E00\u4E2A\u975E\u5355\u8BCD\u5B57\u7B26\uFF08\u5982\u679C W \u5C0F\u5199\uFF0C<code>\\\\w</code>\uFF0C\u5219\u8868\u793A\u4E00\u4E2A\u5355\u8BCD\u5B57\u7B26\uFF09\u3002\u901A\u8FC7\u7B2C\u4E8C\u4E2A\u4F8B\u5B50\u53EF\u4EE5\u770B\u5230\uFF0C\u5B83\u5C06\u6807\u70B9\u5B57\u7B26\u5220\u9664\u4E86\u3002\u7B2C\u4E09\u4E2A <code>split()</code> \u8868\u793A\u201C\u5B57\u6BCD <code>n</code> \u540E\u9762\u8DDF\u7740\u4E00\u4E2A\u6216\u591A\u4E2A\u975E\u5355\u8BCD\u5B57\u7B26\u3002\u201D\u53EF\u4EE5\u770B\u5230\uFF0C\u5728\u539F\u59CB\u5B57\u7B26\u4E32\u4E2D\uFF0C\u4E0E\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D\u7684\u90E8\u5206\uFF0C\u5728\u6700\u7EC8\u7ED3\u679C\u4E2D\u90FD\u4E0D\u5B58\u5728\u4E86\u3002</p><p><code>String.split()</code> \u8FD8\u6709\u4E00\u4E2A\u91CD\u8F7D\u7684\u7248\u672C\uFF0C\u5B83\u5141\u8BB8\u4F60\u9650\u5236\u5B57\u7B26\u4E32\u5206\u5272\u7684\u6B21\u6570\u3002</p><p>\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u8FDB\u884C\u66FF\u6362\u64CD\u4F5C\u65F6\uFF0C\u4F60\u53EF\u4EE5\u53EA\u66FF\u6362\u7B2C\u4E00\u5904\u5339\u914D\uFF0C\u4E5F\u53EF\u4EE5\u66FF\u6362\u6240\u6709\u7684\u5339\u914D\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/Replacing.java </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Replacing</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token class-name">Splitting</span><span class="token punctuation">.</span>knights<span class="token punctuation">;</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
          s<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token string">&quot;f\\\\w+&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;located&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>       
          s<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;shrubbery|tree|herring&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;banana&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
Then, when you have located the shrubbery, you must cut 
down the mightiest tree in the forest...with... a 
herring! 
Then, when you have found the banana, you must cut down
the mightiest banana in the forest...with... a banana! 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B2C\u4E00\u4E2A\u8868\u8FBE\u5F0F\u8981\u5339\u914D\u7684\u662F\uFF0C\u4EE5\u5B57\u6BCD <code>f</code> \u5F00\u5934\uFF0C\u540E\u9762\u8DDF\u4E00\u4E2A\u6216\u591A\u4E2A\u5B57\u6BCD\uFF08\u6CE8\u610F\u8FD9\u91CC\u7684 <code>w</code> \u662F\u5C0F\u5199\u7684\uFF09\u3002\u5E76\u4E14\u53EA\u66FF\u6362\u6389\u7B2C\u4E00\u4E2A\u5339\u914D\u7684\u90E8\u5206\uFF0C\u6240\u4EE5 \u201Cfound\u201D \u88AB\u66FF\u6362\u6210 \u201Clocated\u201D\u3002</p><p>\u7B2C\u4E8C\u4E2A\u8868\u8FBE\u5F0F\u8981\u5339\u914D\u7684\u662F\u4E09\u4E2A\u5355\u8BCD\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u4EE5\u7AD6\u7EBF\u5206\u5272\u8868\u793A\u201C\u6216\u201D\uFF0C\u5E76\u4E14\u66FF\u6362\u6240\u6709\u5339\u914D\u7684\u90E8\u5206\u3002</p><p>\u7A0D\u540E\u4F60\u4F1A\u770B\u5230\uFF0C<code>String</code> \u4E4B\u5916\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u8FD8\u6709\u66F4\u5F3A\u5927\u7684\u66FF\u6362\u5DE5\u5177\uFF0C\u4F8B\u5982\uFF0C\u53EF\u4EE5\u901A\u8FC7\u65B9\u6CD5\u8C03\u7528\u6267\u884C\u66FF\u6362\u3002\u800C\u4E14\uFF0C\u5982\u679C\u6B63\u5219\u8868\u8FBE\u5F0F\u4E0D\u662F\u53EA\u4F7F\u7528\u4E00\u6B21\u7684\u8BDD\uFF0C\u975E <code>String</code> \u5BF9\u8C61\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u660E\u663E\u5177\u5907\u66F4\u4F73\u7684\u6027\u80FD\u3002</p><h3 id="\u521B\u5EFA\u6B63\u5219\u8868\u8FBE\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u6B63\u5219\u8868\u8FBE\u5F0F" aria-hidden="true">#</a> \u521B\u5EFA\u6B63\u5219\u8868\u8FBE\u5F0F</h3><p>\u6211\u4EEC\u9996\u5148\u4ECE\u6B63\u5219\u8868\u8FBE\u5F0F\u53EF\u80FD\u5B58\u5728\u7684\u6784\u9020\u96C6\u4E2D\u9009\u53D6\u4E00\u4E2A\u5F88\u6709\u7528\u7684\u5B50\u96C6\uFF0C\u4EE5\u6B64\u5F00\u59CB\u5B66\u4E60\u6B63\u5219\u8868\u8FBE\u5F0F\u3002\u6B63\u5219\u8868\u8FBE\u5F0F\u7684\u5B8C\u6574\u6784\u9020\u5B50\u5217\u8868\uFF0C\u8BF7\u53C2\u8003JDK\u6587\u6863 <code>java.util.regex</code> \u5305\u4E2D\u7684 <code>Pattern</code>\u7C7B\u3002</p><table><thead><tr><th style="text-align:left;">\u8868\u8FBE\u5F0F</th><th style="text-align:left;">\u542B\u4E49</th></tr></thead><tbody><tr><td style="text-align:left;"><code>B</code></td><td style="text-align:left;">\u6307\u5B9A\u5B57\u7B26<code>B</code></td></tr><tr><td style="text-align:left;"><code>\\xhh</code></td><td style="text-align:left;">\u5341\u516D\u8FDB\u5236\u503C\u4E3A<code>0xhh</code>\u7684\u5B57\u7B26</td></tr><tr><td style="text-align:left;"><code>\\uhhhh</code></td><td style="text-align:left;">\u5341\u516D\u8FDB\u5236\u8868\u73B0\u4E3A<code>0xhhhh</code>\u7684Unicode\u5B57\u7B26</td></tr><tr><td style="text-align:left;"><code>\\t</code></td><td style="text-align:left;">\u5236\u8868\u7B26Tab</td></tr><tr><td style="text-align:left;"><code>\\n</code></td><td style="text-align:left;">\u6362\u884C\u7B26</td></tr><tr><td style="text-align:left;"><code>\\r</code></td><td style="text-align:left;">\u56DE\u8F66</td></tr><tr><td style="text-align:left;"><code>\\f</code></td><td style="text-align:left;">\u6362\u9875</td></tr><tr><td style="text-align:left;"><code>\\e</code></td><td style="text-align:left;">\u8F6C\u4E49\uFF08Escape\uFF09</td></tr></tbody></table><p>\u5F53\u4F60\u5B66\u4F1A\u4E86\u4F7F\u7528\u5B57\u7B26\u7C7B\uFF08character classes\uFF09\u4E4B\u540E\uFF0C\u6B63\u5219\u8868\u8FBE\u5F0F\u7684\u5A01\u529B\u624D\u80FD\u771F\u6B63\u663E\u73B0\u51FA\u6765\u3002\u4EE5\u4E0B\u662F\u4E00\u4E9B\u521B\u5EFA\u5B57\u7B26\u7C7B\u7684\u5178\u578B\u65B9\u5F0F\uFF0C\u4EE5\u53CA\u4E00\u4E9B\u9884\u5B9A\u4E49\u7684\u7C7B\uFF1A</p><table><thead><tr><th style="text-align:left;">\u8868\u8FBE\u5F0F</th><th style="text-align:left;">\u542B\u4E49</th></tr></thead><tbody><tr><td style="text-align:left;"><code>.</code></td><td style="text-align:left;">\u4EFB\u610F\u5B57\u7B26</td></tr><tr><td style="text-align:left;"><code>[abc]</code></td><td style="text-align:left;">\u5305\u542B<code>a</code>\u3001<code>b</code>\u6216<code>c</code>\u7684\u4EFB\u4F55\u5B57\u7B26\uFF08\u548C\`a</td></tr><tr><td style="text-align:left;"><code>[^abc]</code></td><td style="text-align:left;">\u9664<code>a</code>\u3001<code>b</code>\u548C<code>c</code>\u4E4B\u5916\u7684\u4EFB\u4F55\u5B57\u7B26\uFF08\u5426\u5B9A\uFF09</td></tr><tr><td style="text-align:left;"><code>[a-zA-Z]</code></td><td style="text-align:left;">\u4ECE<code>a</code>\u5230<code>z</code>\u6216\u4ECE<code>A</code>\u5230<code>Z</code>\u7684\u4EFB\u4F55\u5B57\u7B26\uFF08\u8303\u56F4\uFF09</td></tr><tr><td style="text-align:left;"><code>[abc[hij]]</code></td><td style="text-align:left;"><code>a</code>\u3001<code>b</code>\u3001<code>c</code>\u3001<code>h</code>\u3001<code>i</code>\u3001<code>j</code>\u4E2D\u7684\u4EFB\u610F\u5B57\u7B26\uFF08\u4E0E\`a</td></tr><tr><td style="text-align:left;"><code>[a-z&amp;&amp;[hij]]</code></td><td style="text-align:left;">\u4EFB\u610F<code>h</code>\u3001<code>i</code>\u6216<code>j</code>\uFF08\u4EA4\uFF09</td></tr><tr><td style="text-align:left;"><code>\\s</code></td><td style="text-align:left;">\u7A7A\u767D\u7B26\uFF08\u7A7A\u683C\u3001tab\u3001\u6362\u884C\u3001\u6362\u9875\u3001\u56DE\u8F66\uFF09</td></tr><tr><td style="text-align:left;"><code>\\S</code></td><td style="text-align:left;">\u975E\u7A7A\u767D\u7B26\uFF08<code>[^\\s]</code>\uFF09</td></tr><tr><td style="text-align:left;"><code>\\d</code></td><td style="text-align:left;">\u6570\u5B57\uFF08<code>[0-9]</code>\uFF09</td></tr><tr><td style="text-align:left;"><code>\\D</code></td><td style="text-align:left;">\u975E\u6570\u5B57\uFF08<code>[^0-9]</code>\uFF09</td></tr><tr><td style="text-align:left;"><code>\\w</code></td><td style="text-align:left;">\u8BCD\u5B57\u7B26\uFF08<code>[a-zA-Z_0-9]</code>\uFF09</td></tr><tr><td style="text-align:left;"><code>\\W</code></td><td style="text-align:left;">\u975E\u8BCD\u5B57\u7B26\uFF08<code>[^\\w]</code>\uFF09</td></tr></tbody></table><p>\u8FD9\u91CC\u53EA\u5217\u51FA\u4E86\u90E8\u5206\u5E38\u7528\u7684\u8868\u8FBE\u5F0F\uFF0C\u4F60\u5E94\u8BE5\u5C06JDK\u6587\u6863\u4E2D <code>java.util.regex.Pattern</code> \u90A3\u4E00\u9875\u52A0\u5165\u6D4F\u89C8\u5668\u4E66\u7B7E\u4E2D\uFF0C\u4EE5\u4FBF\u5728\u9700\u8981\u7684\u65F6\u5019\u65B9\u4FBF\u67E5\u8BE2\u3002</p><table><thead><tr><th style="text-align:center;">\u903B\u8F91\u64CD\u4F5C\u7B26</th><th style="text-align:left;">\u542B\u4E49</th></tr></thead><tbody><tr><td style="text-align:center;"><code>XY</code></td><td style="text-align:left;"><code>Y</code>\u8DDF\u5728<code>X</code>\u540E\u9762</td></tr><tr><td style="text-align:center;">\`X</td><td style="text-align:left;">Y\`</td></tr><tr><td style="text-align:center;"><code>(X)</code></td><td style="text-align:left;">\u6355\u83B7\u7EC4\uFF08capturing group\uFF09\u3002\u53EF\u4EE5\u5728\u8868\u8FBE\u5F0F\u4E2D\u7528<code>\\i</code>\u5F15\u7528\u7B2Ci\u4E2A\u6355\u83B7\u7EC4</td></tr></tbody></table><p>\u4E0B\u9762\u662F\u4E0D\u540C\u7684\u8FB9\u754C\u5339\u914D\u7B26\uFF1A</p><table><thead><tr><th style="text-align:center;">\u8FB9\u754C\u5339\u914D\u7B26</th><th style="text-align:left;">\u542B\u4E49</th></tr></thead><tbody><tr><td style="text-align:center;"><code>^</code></td><td style="text-align:left;">\u4E00\u884C\u7684\u5F00\u59CB</td></tr><tr><td style="text-align:center;"><code>$</code></td><td style="text-align:left;">\u4E00\u884C\u7684\u7ED3\u675F</td></tr><tr><td style="text-align:center;"><code>\\b</code></td><td style="text-align:left;">\u8BCD\u7684\u8FB9\u754C</td></tr><tr><td style="text-align:center;"><code>\\B</code></td><td style="text-align:left;">\u975E\u8BCD\u7684\u8FB9\u754C</td></tr><tr><td style="text-align:center;"><code>\\G</code></td><td style="text-align:left;">\u524D\u4E00\u4E2A\u5339\u914D\u7684\u7ED3\u675F</td></tr></tbody></table><p>\u4F5C\u4E3A\u6F14\u793A\uFF0C\u4E0B\u9762\u7684\u6BCF\u4E00\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F\u90FD\u80FD\u6210\u529F\u5339\u914D\u5B57\u7B26\u5E8F\u5217\u201CRudolph\u201D\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/Rudolph.java </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Rudolph</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> pattern <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>       
          <span class="token string">&quot;Rudolph&quot;</span><span class="token punctuation">,</span>       
          <span class="token string">&quot;[rR]udolph&quot;</span><span class="token punctuation">,</span>       
          <span class="token string">&quot;[rR][aeiou][a-z]ol.*&quot;</span><span class="token punctuation">,</span>       
          <span class="token string">&quot;R.*&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>       
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Rudolph&quot;</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
true 
true 
true 
true 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u7684\u76EE\u7684\u5E76\u4E0D\u662F\u7F16\u5199\u6700\u96BE\u7406\u89E3\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u800C\u662F\u5C3D\u91CF\u7F16\u5199\u80FD\u591F\u5B8C\u6210\u4EFB\u52A1\u7684\u3001\u6700\u7B80\u5355\u4EE5\u53CA\u6700\u5FC5\u8981\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u3002\u4E00\u65E6\u771F\u6B63\u5F00\u59CB\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u4E86\uFF0C\u4F60\u5C31\u4F1A\u53D1\u73B0\uFF0C\u5728\u7F16\u5199\u65B0\u7684\u8868\u8FBE\u5F0F\u4E4B\u524D\uFF0C\u4F60\u901A\u5E38\u4F1A\u53C2\u8003\u4EE3\u7801\u4E2D\u5DF2\u7ECF\u7528\u5230\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u3002</p><h3 id="\u91CF\u8BCD" tabindex="-1"><a class="header-anchor" href="#\u91CF\u8BCD" aria-hidden="true">#</a> \u91CF\u8BCD</h3><p>\u91CF\u8BCD\u63CF\u8FF0\u4E86\u4E00\u4E2A\u6A21\u5F0F\u6355\u83B7\u8F93\u5165\u6587\u672C\u7684\u65B9\u5F0F\uFF1A</p><ul><li><p><strong>\u8D2A\u5A6A\u578B</strong>\uFF1A \u91CF\u8BCD\u603B\u662F\u8D2A\u5A6A\u7684\uFF0C\u9664\u975E\u6709\u5176\u4ED6\u7684\u9009\u9879\u88AB\u8BBE\u7F6E\u3002\u8D2A\u5A6A\u8868\u8FBE\u5F0F\u4F1A\u4E3A\u6240\u6709\u53EF\u80FD\u7684\u6A21\u5F0F\u53D1\u73B0\u5C3D\u53EF\u80FD\u591A\u7684\u5339\u914D\u3002\u5BFC\u81F4\u6B64\u95EE\u9898\u7684\u4E00\u4E2A\u5178\u578B\u7406\u7531\u5C31\u662F\u5047\u5B9A\u6211\u4EEC\u7684\u6A21\u5F0F\u4EC5\u80FD\u5339\u914D\u7B2C\u4E00\u4E2A\u53EF\u80FD\u7684\u5B57\u7B26\u7EC4\uFF0C\u5982\u679C\u5B83\u662F\u8D2A\u5A6A\u7684\uFF0C\u90A3\u4E48\u5B83\u5C31\u4F1A\u7EE7\u7EED\u5F80\u4E0B\u5339\u914D\u3002</p></li><li><p><strong>\u52C9\u5F3A\u578B</strong>\uFF1A \u7528\u95EE\u53F7\u6765\u6307\u5B9A\uFF0C\u8FD9\u4E2A\u91CF\u8BCD\u5339\u914D\u6EE1\u8DB3\u6A21\u5F0F\u6240\u9700\u7684\u6700\u5C11\u5B57\u7B26\u6570\u3002\u56E0\u6B64\u4E5F\u88AB\u79F0\u4F5C\u61D2\u60F0\u7684\u3001\u6700\u5C11\u5339\u914D\u7684\u3001\u975E\u8D2A\u5A6A\u7684\u6216\u4E0D\u8D2A\u5A6A\u7684\u3002</p></li><li><p><strong>\u5360\u6709\u578B</strong>\uFF1A \u76EE\u524D\uFF0C\u8FD9\u79CD\u7C7B\u578B\u7684\u91CF\u8BCD\u53EA\u6709\u5728 Java \u8BED\u8A00\u4E2D\u624D\u53EF\u7528\uFF08\u5728\u5176\u4ED6\u8BED\u8A00\u4E2D\u4E0D\u53EF\u7528\uFF09\uFF0C\u5E76\u4E14\u4E5F\u66F4\u9AD8\u7EA7\uFF0C\u56E0\u6B64\u6211\u4EEC\u5927\u6982\u4E0D\u4F1A\u7ACB\u523B\u7528\u5230\u5B83\u3002\u5F53\u6B63\u5219\u8868\u8FBE\u5F0F\u88AB\u5E94\u7528\u4E8E <code>String</code> \u65F6\uFF0C\u5B83\u4F1A\u4EA7\u751F\u76F8\u5F53\u591A\u7684\u72B6\u6001\uFF0C\u4EE5\u4FBF\u5728\u5339\u914D\u5931\u8D25\u65F6\u53EF\u4EE5\u56DE\u6EAF\u3002\u800C\u201C\u5360\u6709\u7684\u201D\u91CF\u8BCD\u5E76\u4E0D\u4FDD\u5B58\u8FD9\u4E9B\u4E2D\u95F4\u72B6\u6001\uFF0C\u56E0\u6B64\u5B83\u4EEC\u53EF\u4EE5\u9632\u6B62\u56DE\u6EAF\u3002\u5B83\u4EEC\u5E38\u5E38\u7528\u4E8E\u9632\u6B62\u6B63\u5219\u8868\u8FBE\u5F0F\u5931\u63A7\uFF0C\u56E0\u6B64\u53EF\u4EE5\u4F7F\u6B63\u5219\u8868\u8FBE\u5F0F\u6267\u884C\u8D77\u6765\u66F4\u9AD8\u6548\u3002</p></li></ul><table><thead><tr><th>\u8D2A\u5A6A\u578B</th><th>\u52C9\u5F3A\u578B</th><th>\u5360\u6709\u578B</th><th>\u5982\u4F55\u5339\u914D</th></tr></thead><tbody><tr><td><code>X?</code></td><td><code>X??</code></td><td><code>X?+</code></td><td>\u4E00\u4E2A\u6216\u96F6\u4E2A<code>X</code></td></tr><tr><td><code>X*</code></td><td><code>X*?</code></td><td><code>X*+</code></td><td>\u96F6\u4E2A\u6216\u591A\u4E2A<code>X</code></td></tr><tr><td><code>X+</code></td><td><code>X+?</code></td><td><code>X++</code></td><td>\u4E00\u4E2A\u6216\u591A\u4E2A<code>X</code></td></tr><tr><td><code>X{n}</code></td><td><code>X{n}?</code></td><td><code>X{n}+</code></td><td>\u6070\u597D<code>n</code>\u6B21<code>X</code></td></tr><tr><td><code>X{n,}</code></td><td><code>X{n,}?</code></td><td><code>X{n,}+</code></td><td>\u81F3\u5C11<code>n</code>\u6B21<code>X</code></td></tr><tr><td><code>X{n,m}</code></td><td><code>X{n,m}?</code></td><td><code>X{n,m}+</code></td><td><code>X</code>\u81F3\u5C11<code>n</code>\u6B21\uFF0C\u4F46\u4E0D\u8D85\u8FC7<code>m</code>\u6B21</td></tr></tbody></table><p>\u5E94\u8BE5\u975E\u5E38\u6E05\u695A\u5730\u610F\u8BC6\u5230\uFF0C\u8868\u8FBE\u5F0F <code>X</code> \u901A\u5E38\u5FC5\u987B\u8981\u7528\u5706\u62EC\u53F7\u62EC\u8D77\u6765\uFF0C\u4EE5\u4FBF\u5B83\u80FD\u591F\u6309\u7167\u6211\u4EEC\u671F\u671B\u7684\u6548\u679C\u53BB\u6267\u884C\u3002\u4F8B\u5982\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>abc<span class="token operator">+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u770B\u8D77\u6765\u5B83\u4F3C\u4E4E\u5E94\u8BE5\u5339\u914D1\u4E2A\u6216\u591A\u4E2A<code>abc</code>\u5E8F\u5217\uFF0C\u5982\u679C\u6211\u4EEC\u628A\u5B83\u5E94\u7528\u4E8E\u8F93\u5165\u5B57\u7B26\u4E32<code>abcabcabc</code>\uFF0C\u5219\u5B9E\u9645\u4E0A\u4F1A\u83B7\u5F973\u4E2A\u5339\u914D\u3002\u7136\u800C\uFF0C\u8FD9\u4E2A\u8868\u8FBE\u5F0F\u5B9E\u9645\u4E0A\u8868\u793A\u7684\u662F\uFF1A\u5339\u914D<code>ab</code>\uFF0C\u540E\u9762\u8DDF\u968F1\u4E2A\u6216\u591A\u4E2A<code>c</code>\u3002\u8981\u8868\u660E\u5339\u914D1\u4E2A\u6216\u591A\u4E2A\u5B8C\u6574\u7684\u5B57\u7B26\u4E32<code>abc</code>\uFF0C\u6211\u4EEC\u5FC5\u987B\u8FD9\u6837\u8868\u793A\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span>abc<span class="token punctuation">)</span><span class="token operator">+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4F60\u4F1A\u53D1\u73B0\uFF0C\u5728\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u65F6\u5F88\u5BB9\u6613\u6DF7\u6DC6\uFF0C\u56E0\u4E3A\u5B83\u662F\u4E00\u79CD\u5728 Java \u4E4B\u4E0A\u7684\u65B0\u8BED\u8A00\u3002</p><h3 id="charsequence" tabindex="-1"><a class="header-anchor" href="#charsequence" aria-hidden="true">#</a> <code>CharSequence</code></h3><p>\u63A5\u53E3 <code>CharSequence</code> \u4ECE <code>CharBuffer</code>\u3001<code>String</code>\u3001<code>StringBuffer</code>\u3001<code>StringBuilder</code> \u7C7B\u4E2D\u62BD\u8C61\u51FA\u4E86\u5B57\u7B26\u5E8F\u5217\u7684\u4E00\u822C\u5316\u5B9A\u4E49\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">CharSequence</span> <span class="token punctuation">{</span>   
    <span class="token keyword">char</span> <span class="token function">charAt</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token keyword">int</span> <span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">CharSequence</span> <span class="token function">subSequence</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u56E0\u6B64\uFF0C\u8FD9\u4E9B\u7C7B\u90FD\u5B9E\u73B0\u4E86\u8BE5\u63A5\u53E3\u3002\u591A\u6570\u6B63\u5219\u8868\u8FBE\u5F0F\u64CD\u4F5C\u90FD\u63A5\u53D7 <code>CharSequence</code> \u7C7B\u578B\u53C2\u6570\u3002</p><h3 id="pattern-\u548C-matcher" tabindex="-1"><a class="header-anchor" href="#pattern-\u548C-matcher" aria-hidden="true">#</a> <code>Pattern</code> \u548C <code>Matcher</code></h3><p>\u901A\u5E38\uFF0C\u6BD4\u8D77\u529F\u80FD\u6709\u9650\u7684 <code>String</code> \u7C7B\uFF0C\u6211\u4EEC\u66F4\u613F\u610F\u6784\u9020\u529F\u80FD\u5F3A\u5927\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u5BF9\u8C61\u3002\u53EA\u9700\u5BFC\u5165 <code>java.util.regex</code>\u5305\uFF0C\u7136\u540E\u7528 <code>static Pattern.compile()</code> \u65B9\u6CD5\u6765\u7F16\u8BD1\u4F60\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u5373\u53EF\u3002\u5B83\u4F1A\u6839\u636E\u4F60\u7684 <code>String</code> \u7C7B\u578B\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u751F\u6210\u4E00\u4E2A <code>Pattern</code> \u5BF9\u8C61\u3002\u63A5\u4E0B\u6765\uFF0C\u628A\u4F60\u60F3\u8981\u68C0\u7D22\u7684\u5B57\u7B26\u4E32\u4F20\u5165 <code>Pattern</code> \u5BF9\u8C61\u7684 <code>matcher()</code> \u65B9\u6CD5\u3002<code>matcher()</code> \u65B9\u6CD5\u4F1A\u751F\u6210\u4E00\u4E2A <code>Matcher</code> \u5BF9\u8C61\uFF0C\u5B83\u6709\u5F88\u591A\u529F\u80FD\u53EF\u7528\uFF08\u53EF\u4EE5\u53C2\u8003 <code>java.util.regext.Matcher</code> \u7684 JDK \u6587\u6863\uFF09\u3002\u4F8B\u5982\uFF0C\u5B83\u7684 <code>replaceAll()</code> \u65B9\u6CD5\u80FD\u5C06\u6240\u6709\u5339\u914D\u7684\u90E8\u5206\u90FD\u66FF\u6362\u6210\u4F60\u4F20\u5165\u7684\u53C2\u6570\u3002</p><p>\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u793A\u4F8B\uFF0C\u4E0B\u9762\u7684\u7C7B\u53EF\u4EE5\u7528\u6765\u6D4B\u8BD5\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u770B\u770B\u5B83\u4EEC\u80FD\u5426\u5339\u914D\u4E00\u4E2A\u8F93\u5165\u5B57\u7B26\u4E32\u3002\u7B2C\u4E00\u4E2A\u63A7\u5236\u53F0\u53C2\u6570\u662F\u5C06\u8981\u7528\u6765\u641C\u7D22\u5339\u914D\u7684\u8F93\u5165\u5B57\u7B26\u4E32\uFF0C\u540E\u9762\u7684\u4E00\u4E2A\u6216\u591A\u4E2A\u53C2\u6570\u90FD\u662F\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u5B83\u4EEC\u5C06\u88AB\u7528\u6765\u5728\u8F93\u5165\u7684\u7B2C\u4E00\u4E2A\u5B57\u7B26\u4E32\u4E2D\u67E5\u627E\u5339\u914D\u3002\u5728Unix/Linux\u4E0A\uFF0C\u547D\u4EE4\u884C\u4E2D\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u5FC5\u987B\u7528\u5F15\u53F7\u62EC\u8D77\u6765\u3002\u8FD9\u4E2A\u7A0B\u5E8F\u5728\u6D4B\u8BD5\u6B63\u5219\u8868\u8FBE\u5F0F\u65F6\u5F88\u6709\u7528\uFF0C\u7279\u522B\u662F\u5F53\u4F60\u60F3\u9A8C\u8BC1\u5B83\u4EEC\u662F\u5426\u5177\u5907\u4F60\u6240\u671F\u5F85\u7684\u5339\u914D\u529F\u80FD\u7684\u65F6\u5019\u3002<a href="%E7%BD%91%E4%B8%8A%E8%BF%98%E6%9C%89%E5%BE%88%E5%A4%9A%E5%AE%9E%E7%94%A8%E5%B9%B6%E4%B8%94%E6%88%90%E7%86%9F%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%B7%A5%E5%85%B7%E3%80%82">^3</a></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/TestRegularExpression.java </span>
<span class="token comment">// Simple regular expression demonstration </span>
<span class="token comment">// {java TestRegularExpression </span>
<span class="token comment">// abcabcabcdefabc &quot;abc+&quot; &quot;(abc)+&quot; } </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestRegularExpression</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>       
              <span class="token string">&quot;Usage:\\njava TestRegularExpression &quot;</span> <span class="token operator">+</span>         
              <span class="token string">&quot;characterSequence regularExpression+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Input: \\&quot;&quot;</span> <span class="token operator">+</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;\\&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> arg <span class="token operator">:</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>         
              <span class="token string">&quot;Regular expression: \\&quot;&quot;</span> <span class="token operator">+</span> arg <span class="token operator">+</span> <span class="token string">&quot;\\&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>       
            <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>           
                  <span class="token string">&quot;Match \\&quot;&quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\&quot; at positions &quot;</span> <span class="token operator">+</span>           
                m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            <span class="token punctuation">}</span>     
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
Input: &quot;abcabcabcdefabc&quot; 
Regular expression: &quot;abcabcabcdefabc&quot; 
Match &quot;abcabcabcdefabc&quot; at positions 0-14 
Regular expression: &quot;abc+&quot; 
Match &quot;abc&quot; at positions 0-2 
Match &quot;abc&quot; at positions 3-5 
Match &quot;abc&quot; at positions 6-8 
Match &quot;abc&quot; at positions 12-14 
Regular expression: &quot;(abc)+&quot;
Match &quot;abcabcabc&quot; at positions 0-8 
Match &quot;abc&quot; at positions 12-14 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD8\u53EF\u4EE5\u5728\u63A7\u5236\u53F0\u53C2\u6570\u4E2D\u52A0\u5165<code>\u201C(abc){2,}\u201D</code>\uFF0C\u770B\u770B\u6267\u884C\u7ED3\u679C\u3002</p><p><code>Pattern</code> \u5BF9\u8C61\u8868\u793A\u7F16\u8BD1\u540E\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u3002\u4ECE\u8FD9\u4E2A\u4F8B\u5B50\u53EF\u4EE5\u770B\u5230\uFF0C\u6211\u4EEC\u4F7F\u7528\u5DF2\u7F16\u8BD1\u7684 <code>Pattern</code> \u5BF9\u8C61\u4E0A\u7684 <code>matcher()</code> \u65B9\u6CD5\uFF0C\u52A0\u4E0A\u4E00\u4E2A\u8F93\u5165\u5B57\u7B26\u4E32\uFF0C\u4ECE\u800C\u5171\u540C\u6784\u9020\u4E86\u4E00\u4E2A <code>Matcher</code> \u5BF9\u8C61\u3002\u540C\u65F6\uFF0C<code>Pattern</code> \u7C7B\u8FD8\u63D0\u4F9B\u4E86\u4E00\u4E2A<code>static</code>\u65B9\u6CD5\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">matches</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">,</span> <span class="token class-name">CharSequence</span> input<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8BE5\u65B9\u6CD5\u7528\u4EE5\u68C0\u67E5 <code>regex</code> \u662F\u5426\u5339\u914D\u6574\u4E2A <code>CharSequence</code> \u7C7B\u578B\u7684 <code>input</code> \u53C2\u6570\u3002\u7F16\u8BD1\u540E\u7684 <code>Pattern</code> \u5BF9\u8C61\u8FD8\u63D0\u4F9B\u4E86 <code>split()</code> \u65B9\u6CD5\uFF0C\u5B83\u4ECE\u5339\u914D\u4E86 <code>regex</code> \u7684\u5730\u65B9\u5206\u5272\u8F93\u5165\u5B57\u7B26\u4E32\uFF0C\u8FD4\u56DE\u5206\u5272\u540E\u7684\u5B50\u5B57\u7B26\u4E32 <code>String</code> \u6570\u7EC4\u3002</p><p>\u901A\u8FC7\u8C03\u7528 <code>Pattern.matcher()</code> \u65B9\u6CD5\uFF0C\u5E76\u4F20\u5165\u4E00\u4E2A\u5B57\u7B26\u4E32\u53C2\u6570\uFF0C\u6211\u4EEC\u5F97\u5230\u4E86\u4E00\u4E2A <code>Matcher</code> \u5BF9\u8C61\u3002\u4F7F\u7528 <code>Matcher</code> \u4E0A\u7684\u65B9\u6CD5\uFF0C\u6211\u4EEC\u5C06\u80FD\u591F\u5224\u65AD\u5404\u79CD\u4E0D\u540C\u7C7B\u578B\u7684\u5339\u914D\u662F\u5426\u6210\u529F\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">boolean</span> <span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token keyword">boolean</span> <span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token keyword">boolean</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token keyword">boolean</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5176\u4E2D\u7684 <code>matches()</code> \u65B9\u6CD5\u7528\u6765\u5224\u65AD\u6574\u4E2A\u8F93\u5165\u5B57\u7B26\u4E32\u662F\u5426\u5339\u914D\u6B63\u5219\u8868\u8FBE\u5F0F\u6A21\u5F0F\uFF0C\u800C <code>lookingAt()</code> \u5219\u7528\u6765\u5224\u65AD\u8BE5\u5B57\u7B26\u4E32\uFF08\u4E0D\u5FC5\u662F\u6574\u4E2A\u5B57\u7B26\u4E32\uFF09\u7684\u8D77\u59CB\u90E8\u5206\u662F\u5426\u80FD\u591F\u5339\u914D\u6A21\u5F0F\u3002</p><h3 id="find" tabindex="-1"><a class="header-anchor" href="#find" aria-hidden="true">#</a> <code>find()</code></h3><p><code>Matcher.find()</code> \u65B9\u6CD5\u53EF\u7528\u6765\u5728 <code>CharSequence</code> \u4E2D\u67E5\u627E\u591A\u4E2A\u5339\u914D\u3002\u4F8B\u5982\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/Finding.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Finding</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;\\\\w+&quot;</span><span class="token punctuation">)</span>       
          <span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>         
            <span class="token string">&quot;Evening is full of the linnet&#39;s wings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            i<span class="token operator">++</span><span class="token punctuation">;</span>     
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
Evening is full of the linnet s wings
Evening vening ening ning ing ng g is is s full full 
ull ll l of of f the the he e linnet linnet innet nnet 
net et t s s wings wings ings ngs gs s 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6A21\u5F0F <code>\\\\w+</code> \u5C06\u5B57\u7B26\u4E32\u5212\u5206\u4E3A\u8BCD\u3002<code>find()</code> \u65B9\u6CD5\u50CF\u8FED\u4EE3\u5668\u90A3\u6837\u5411\u524D\u904D\u5386\u8F93\u5165\u5B57\u7B26\u4E32\u3002\u800C\u7B2C\u4E8C\u4E2A\u91CD\u8F7D\u7684 <code>find()</code> \u63A5\u6536\u4E00\u4E2A\u6574\u578B\u53C2\u6570\uFF0C\u8BE5\u6574\u6570\u8868\u793A\u5B57\u7B26\u4E32\u4E2D\u5B57\u7B26\u7684\u4F4D\u7F6E\uFF0C\u5E76\u4EE5\u5176\u4F5C\u4E3A\u641C\u7D22\u7684\u8D77\u70B9\u3002\u4ECE\u7ED3\u679C\u53EF\u4EE5\u770B\u51FA\uFF0C\u540E\u4E00\u4E2A\u7248\u672C\u7684 <code>find()</code> \u65B9\u6CD5\u80FD\u591F\u6839\u636E\u5176\u53C2\u6570\u7684\u503C\uFF0C\u4E0D\u65AD\u91CD\u65B0\u8BBE\u5B9A\u641C\u7D22\u7684\u8D77\u59CB\u4F4D\u7F6E\u3002</p><h3 id="\u7EC4-groups" tabindex="-1"><a class="header-anchor" href="#\u7EC4-groups" aria-hidden="true">#</a> \u7EC4\uFF08Groups\uFF09</h3><p>\u7EC4\u662F\u7528\u62EC\u53F7\u5212\u5206\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u53EF\u4EE5\u6839\u636E\u7EC4\u7684\u7F16\u53F7\u6765\u5F15\u7528\u67D0\u4E2A\u7EC4\u3002\u7EC4\u53F7\u4E3A 0 \u8868\u793A\u6574\u4E2A\u8868\u8FBE\u5F0F\uFF0C\u7EC4\u53F7 1 \u8868\u793A\u88AB\u7B2C\u4E00\u5BF9\u62EC\u53F7\u62EC\u8D77\u6765\u7684\u7EC4\uFF0C\u4EE5\u6B64\u7C7B\u63A8\u3002\u56E0\u6B64\uFF0C\u4E0B\u9762\u8FD9\u4E2A\u8868\u8FBE\u5F0F\uFF0C</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">A</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">(</span><span class="token class-name">C</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token class-name">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4E2D\u6709\u4E09\u4E2A\u7EC4\uFF1A\u7EC4 0 \u662F <code>ABCD</code>\uFF0C\u7EC4 1 \u662F <code>BC</code>\uFF0C\u7EC4 2 \u662F <code>C</code>\u3002</p><p><code>Matcher</code> \u5BF9\u8C61\u63D0\u4F9B\u4E86\u4E00\u7CFB\u5217\u65B9\u6CD5\uFF0C\u7528\u4EE5\u83B7\u53D6\u4E0E\u7EC4\u76F8\u5173\u7684\u4FE1\u606F\uFF1A</p><ul><li><code>public int groupCount()</code> \u8FD4\u56DE\u8BE5\u5339\u914D\u5668\u7684\u6A21\u5F0F\u4E2D\u7684\u5206\u7EC4\u6570\u76EE\uFF0C\u7EC4 0 \u4E0D\u5305\u62EC\u5728\u5185\u3002</li><li><code>public String group()</code> \u8FD4\u56DE\u524D\u4E00\u6B21\u5339\u914D\u64CD\u4F5C\uFF08\u4F8B\u5982 <code>find()</code>\uFF09\u7684\u7B2C 0 \u7EC4\uFF08\u6574\u4E2A\u5339\u914D\uFF09\u3002</li><li><code>public String group(int i)</code> \u8FD4\u56DE\u524D\u4E00\u6B21\u5339\u914D\u64CD\u4F5C\u671F\u95F4\u6307\u5B9A\u7684\u7EC4\u53F7\uFF0C\u5982\u679C\u5339\u914D\u6210\u529F\uFF0C\u4F46\u662F\u6307\u5B9A\u7684\u7EC4\u6CA1\u6709\u5339\u914D\u8F93\u5165\u5B57\u7B26\u4E32\u7684\u4EFB\u4F55\u90E8\u5206\uFF0C\u5219\u5C06\u8FD4\u56DE <code>null</code>\u3002</li><li><code>public int start(int group)</code> \u8FD4\u56DE\u5728\u524D\u4E00\u6B21\u5339\u914D\u64CD\u4F5C\u4E2D\u5BFB\u627E\u5230\u7684\u7EC4\u7684\u8D77\u59CB\u7D22\u5F15\u3002</li><li><code>public int end(int group)</code> \u8FD4\u56DE\u5728\u524D\u4E00\u6B21\u5339\u914D\u64CD\u4F5C\u4E2D\u5BFB\u627E\u5230\u7684\u7EC4\u7684\u6700\u540E\u4E00\u4E2A\u5B57\u7B26\u7D22\u5F15\u52A0\u4E00\u7684\u503C\u3002</li></ul><p>\u4E0B\u9762\u662F\u6B63\u5219\u8868\u8FBE\u5F0F\u7EC4\u7684\u4F8B\u5B50\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/Groups.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Groups</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> POEM <span class="token operator">=</span>     
      <span class="token string">&quot;Twas brillig, and the slithy toves\\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;Did gyre and gimble in the wabe.\\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;All mimsy were the borogoves,\\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;And the mome raths outgrabe.\\n\\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;Beware the Jabberwock, my son,\\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;The jaws that bite, the claws that catch.\\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;Beware the Jubjub bird, and shun\\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;The frumious Bandersnatch.&quot;</span><span class="token punctuation">;</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>
          <span class="token string">&quot;(?m)(\\\\S+)\\\\s+((\\\\S+)\\\\s+(\\\\S+))$&quot;</span><span class="token punctuation">)</span>       
          <span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>POEM<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">.</span><span class="token function">groupCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>         
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;[&quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
[the slithy toves][the][slithy toves][slithy][toves] 
[in the wabe.][in][the wabe.][the][wabe.] 
[were the borogoves,][were][the 
borogoves,][the][borogoves,] 
[mome raths outgrabe.][mome][raths 
outgrabe.][raths][outgrabe.] 
[Jabberwock, my son,][Jabberwock,][my son,][my][son,] 
[claws that catch.][claws][that catch.][that][catch.] 
[bird, and shun][bird,][and shun][and][shun] 
[The frumious Bandersnatch.][The][frumious 
Bandersnatch.][frumious][Bandersnatch.] 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u9996\u8BD7\u6765\u81EA\u4E8E Lewis Carroll \u6240\u5199\u7684 <em>Through the Looking Glass</em> \u4E2D\u7684 \u201CJabberwocky\u201D\u3002\u53EF\u4EE5\u770B\u5230\u8FD9\u4E2A\u6B63\u5219\u8868\u8FBE\u5F0F\u6A21\u5F0F\u6709\u8BB8\u591A\u5706\u62EC\u53F7\u5206\u7EC4\uFF0C\u7531\u4EFB\u610F\u6570\u76EE\u7684\u975E\u7A7A\u767D\u7B26\uFF08<code>\\\\S+</code>\uFF09\u53CA\u968F\u540E\u7684\u4EFB\u610F\u6570\u76EE\u7684\u7A7A\u767D\u7B26\uFF08<code>\\\\s+</code>\uFF09\u6240\u7EC4\u6210\u3002\u76EE\u7684\u662F\u6355\u83B7\u6BCF\u884C\u7684\u6700\u540E3\u4E2A\u8BCD\uFF0C\u6BCF\u884C\u6700\u540E\u4EE5 <code>\\$</code> \u7ED3\u675F\u3002\u4E0D\u8FC7\uFF0C\u5728\u6B63\u5E38\u60C5\u51B5\u4E0B\u662F\u5C06 <code>\\$</code> \u4E0E\u6574\u4E2A\u8F93\u5165\u5E8F\u5217\u7684\u672B\u7AEF\u76F8\u5339\u914D\u3002\u6240\u4EE5\u6211\u4EEC\u4E00\u5B9A\u8981\u663E\u5F0F\u5730\u544A\u77E5\u6B63\u5219\u8868\u8FBE\u5F0F\u6CE8\u610F\u8F93\u5165\u5E8F\u5217\u4E2D\u7684\u6362\u884C\u7B26\u3002\u8FD9\u53EF\u4EE5\u7531\u5E8F\u5217\u5F00\u5934\u7684\u6A21\u5F0F\u6807\u8BB0 <code>(?m)</code> \u6765\u5B8C\u6210\uFF08\u6A21\u5F0F\u6807\u8BB0\u9A6C\u4E0A\u5C31\u4F1A\u4ECB\u7ECD\uFF09\u3002</p><h3 id="start-\u548C-end" tabindex="-1"><a class="header-anchor" href="#start-\u548C-end" aria-hidden="true">#</a> <code>start()</code> \u548C <code>end()</code></h3><p>\u5728\u5339\u914D\u64CD\u4F5C\u6210\u529F\u4E4B\u540E\uFF0C<code>start()</code> \u8FD4\u56DE\u5148\u524D\u5339\u914D\u7684\u8D77\u59CB\u4F4D\u7F6E\u7684\u7D22\u5F15\uFF0C\u800C <code>end()</code> \u8FD4\u56DE\u6240\u5339\u914D\u7684\u6700\u540E\u5B57\u7B26\u7684\u7D22\u5F15\u52A0\u4E00\u7684\u503C\u3002\u5339\u914D\u64CD\u4F5C\u5931\u8D25\u4E4B\u540E\uFF08\u6216\u5148\u4E8E\u4E00\u4E2A\u6B63\u5728\u8FDB\u884C\u7684\u5339\u914D\u64CD\u4F5C\u53BB\u5C1D\u8BD5\uFF09\u8C03\u7528 <code>start()</code> \u6216 <code>end()</code> \u5C06\u4F1A\u4EA7\u751F <code>IllegalStateException</code>\u3002\u4E0B\u9762\u7684\u793A\u4F8B\u8FD8\u540C\u65F6\u5C55\u793A\u4E86 <code>matches()</code> \u548C <code>lookingAt()</code> \u7684\u7528\u6CD5 [^4]\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/StartEnd.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StartEnd</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> input <span class="token operator">=</span>
      <span class="token string">&quot;As long as there is injustice, whenever a\\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;Targathian baby cries out, wherever a distress\\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;signal sounds among the stars &quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;... We&#39;ll be there.\\n&quot;</span><span class="token operator">+</span>     
      <span class="token string">&quot;This fine ship, and this fine crew ...\\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;Never give up! Never surrender!&quot;</span><span class="token punctuation">;</span>   
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Display</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">boolean</span> regexPrinted <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>     
        <span class="token keyword">private</span> <span class="token class-name">String</span> regex<span class="token punctuation">;</span>
        <span class="token class-name">Display</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>regex <span class="token operator">=</span> regex<span class="token punctuation">;</span> <span class="token punctuation">}</span>     
    
        <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>       
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>regexPrinted<span class="token punctuation">)</span> <span class="token punctuation">{</span>         
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>         
                regexPrinted <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>       
            <span class="token punctuation">}</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span>   
  
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">examine</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">,</span> <span class="token class-name">String</span> regex<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">Display</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Display</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            d<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token string">&quot;find() &#39;&quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>         
              <span class="token string">&quot;&#39; start = &quot;</span><span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; end = &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">if</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// No reset() necessary       </span>
            d<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token string">&quot;lookingAt() start = &quot;</span>         
              <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; end = &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">if</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// No reset() necessary       </span>
            d<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token string">&quot;matches() start = &quot;</span>         
              <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; end = &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> in <span class="token operator">:</span> input<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;input : &quot;</span> <span class="token operator">+</span> in<span class="token punctuation">)</span><span class="token punctuation">;</span>       
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;\\\\w*ere\\\\w*&quot;</span><span class="token punctuation">,</span>         
              <span class="token string">&quot;\\\\w*ever&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;T\\\\w+&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Never.*?!&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>         
                <span class="token function">examine</span><span class="token punctuation">(</span>in<span class="token punctuation">,</span> regex<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
input : As long as there is injustice, whenever a 
\\w*ere\\w* 
find() &#39;there&#39; start = 11 end = 16 
\\w*ever 
find() &#39;whenever&#39; start = 31 end = 39 
input : Targathian baby cries out, wherever a distress 
\\w*ere\\w* 
find() &#39;wherever&#39; start = 27 end = 35 
\\w*ever 
find() &#39;wherever&#39; start = 27 end = 35 
T\\w+ find() &#39;Targathian&#39; start = 0 end = 10 
lookingAt() start = 0 end = 10 
input : signal sounds among the stars ... We&#39;ll be 
there. 
\\w*ere\\w* 
find() &#39;there&#39; start = 43 end = 48 
input : This fine ship, and this fine crew ... 
T\\w+ find() &#39;This&#39; start = 0 end = 4
lookingAt() start = 0 end = 4 
input : Never give up! Never surrender! 
\\w*ever 
find() &#39;Never&#39; start = 0 end = 5 
find() &#39;Never&#39; start = 15 end = 20 
lookingAt() start = 0 end = 5 
Never.*?! 
find() &#39;Never give up!&#39; start = 0 end = 14 
find() &#39;Never surrender!&#39; start = 15 end = 31 
lookingAt() start = 0 end = 14 
matches() start = 0 end = 31 
*/</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\uFF0C<code>find()</code> \u53EF\u4EE5\u5728\u8F93\u5165\u7684\u4EFB\u610F\u4F4D\u7F6E\u5B9A\u4F4D\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u800C <code>lookingAt()</code> \u548C <code>matches()</code> \u53EA\u6709\u5728\u6B63\u5219\u8868\u8FBE\u5F0F\u4E0E\u8F93\u5165\u7684\u6700\u5F00\u59CB\u5904\u5C31\u5F00\u59CB\u5339\u914D\u65F6\u624D\u4F1A\u6210\u529F\u3002<code>matches()</code> \u53EA\u6709\u5728\u6574\u4E2A\u8F93\u5165\u90FD\u5339\u914D\u6B63\u5219\u8868\u8FBE\u5F0F\u65F6\u624D\u4F1A\u6210\u529F\uFF0C\u800C <code>lookingAt()</code> <a href="%E6%88%91%E4%B8%8D%E7%9F%A5%E9%81%93%E4%BB%96%E4%BB%AC%E6%98%AF%E5%A6%82%E4%BD%95%E6%83%B3%E5%87%BA%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E5%90%8D%E7%9A%84%EF%BC%8C%E6%88%96%E8%80%85%E5%AE%83%E5%88%B0%E5%BA%95%E6%8C%87%E7%9A%84%E4%BB%80%E4%B9%88%E3%80%82%E8%BF%99%E5%8F%AA%E6%98%AF%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%E5%BE%88%E9%87%8D%E8%A6%81%E7%9A%84%E5%8E%9F%E5%9B%A0%E4%B9%8B%E4%B8%80%E3%80%82">^5</a> \u53EA\u8981\u8F93\u5165\u7684\u7B2C\u4E00\u90E8\u5206\u5339\u914D\u5C31\u4F1A\u6210\u529F\u3002</p><h3 id="pattern-\u6807\u8BB0" tabindex="-1"><a class="header-anchor" href="#pattern-\u6807\u8BB0" aria-hidden="true">#</a> <code>Pattern</code> \u6807\u8BB0</h3><p><code>Pattern</code> \u7C7B\u7684 <code>compile()</code> \u65B9\u6CD5\u8FD8\u6709\u53E6\u4E00\u4E2A\u7248\u672C\uFF0C\u5B83\u63A5\u53D7\u4E00\u4E2A\u6807\u8BB0\u53C2\u6570\uFF0C\u4EE5\u8C03\u6574\u5339\u914D\u884C\u4E3A\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Pattern</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">,</span> <span class="token keyword">int</span> flag<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5176\u4E2D\u7684 <code>flag</code> \u6765\u81EA\u4EE5\u4E0B <code>Pattern</code> \u7C7B\u4E2D\u7684\u5E38\u91CF</p><table><thead><tr><th>\u7F16\u8BD1\u6807\u8BB0</th><th>\u6548\u679C</th></tr></thead><tbody><tr><td><code>Pattern.CANON_EQ</code></td><td>\u5F53\u4E14\u4EC5\u5F53\u4E24\u4E2A\u5B57\u7B26\u7684\u5B8C\u5168\u89C4\u8303\u5206\u89E3\u76F8\u5339\u914D\u65F6\uFF0C\u624D\u8BA4\u4E3A\u5B83\u4EEC\u662F\u5339\u914D\u7684\u3002\u4F8B\u5982\uFF0C\u5982\u679C\u6211\u4EEC\u6307\u5B9A\u8FD9\u4E2A\u6807\u8BB0\uFF0C\u8868\u8FBE\u5F0F<code>\\u003F</code>\u5C31\u4F1A\u5339\u914D\u5B57\u7B26\u4E32<code>?</code>\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5339\u914D\u4E0D\u8003\u8651\u89C4\u8303\u7684\u7B49\u4EF7\u6027</td></tr><tr><td><code>Pattern.CASE_INSENSITIVE(?i)</code></td><td>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5927\u5C0F\u5199\u4E0D\u654F\u611F\u7684\u5339\u914D\u5047\u5B9A\u53EA\u6709US-ASCII\u5B57\u7B26\u96C6\u4E2D\u7684\u5B57\u7B26\u624D\u80FD\u8FDB\u884C\u3002\u8FD9\u4E2A\u6807\u8BB0\u5141\u8BB8\u6A21\u5F0F\u5339\u914D\u4E0D\u8003\u8651\u5927\u5C0F\u5199\uFF08\u5927\u5199\u6216\u5C0F\u5199\uFF09\u3002\u901A\u8FC7\u6307\u5B9A<code>UNICODE_CASE</code>\u6807\u8BB0\u53CA\u7ED3\u5408\u6B64\u6807\u8BB0\u3002\u57FA\u4E8EUnicode\u7684\u5927\u5C0F\u5199\u4E0D\u654F\u611F\u7684\u5339\u914D\u5C31\u53EF\u4EE5\u5F00\u542F\u4E86</td></tr><tr><td><code>Pattern.COMMENTS(?x)</code></td><td>\u5728\u8FD9\u79CD\u6A21\u5F0F\u4E0B\uFF0C\u7A7A\u683C\u7B26\u5C06\u88AB\u5FFD\u7565\u6389\uFF0C\u5E76\u4E14\u4EE5<code>#</code>\u5F00\u59CB\u76F4\u5230\u884C\u672B\u7684\u6CE8\u91CA\u4E5F\u4F1A\u88AB\u5FFD\u7565\u6389\u3002\u901A\u8FC7\u5D4C\u5165\u7684\u6807\u8BB0\u8868\u8FBE\u5F0F\u4E5F\u53EF\u4EE5\u5F00\u542FUnix\u7684\u884C\u6A21\u5F0F</td></tr><tr><td><code>Pattern.DOTALL(?s)</code></td><td>\u5728dotall\u6A21\u5F0F\u4E0B\uFF0C\u8868\u8FBE\u5F0F<code>.</code>\u5339\u914D\u6240\u6709\u5B57\u7B26\uFF0C\u5305\u62EC\u884C\u7EC8\u6B62\u7B26\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C<code>.</code>\u4E0D\u4F1A\u5339\u914D\u884C\u7EC8\u6B62\u7B26</td></tr><tr><td><code>Pattern.MULTILINE(?m)</code></td><td>\u5728\u591A\u884C\u6A21\u5F0F\u4E0B\uFF0C\u8868\u8FBE\u5F0F<code>^</code>\u548C<code>$</code>\u5206\u522B\u5339\u914D\u4E00\u884C\u7684\u5F00\u59CB\u548C\u7ED3\u675F\u3002<code>^</code>\u8FD8\u5339\u914D\u8F93\u5165\u5B57\u7B26\u4E32\u7684\u5F00\u59CB\uFF0C\u800C<code>$</code>\u8FD8\u5339\u914D\u8F93\u5165\u5B57\u7B26\u4E32\u7684\u7ED3\u5C3E\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u8FD9\u4E9B\u8868\u8FBE\u5F0F\u4EC5\u5339\u914D\u8F93\u5165\u7684\u5B8C\u6574\u5B57\u7B26\u4E32\u7684\u5F00\u59CB\u548C\u7ED3\u675F</td></tr><tr><td><code>Pattern.UNICODE_CASE(?u)</code></td><td>\u5F53\u6307\u5B9A\u8FD9\u4E2A\u6807\u8BB0\uFF0C\u5E76\u4E14\u5F00\u542F<code>CASE_INSENSITIVE</code>\u65F6\uFF0C\u5927\u5C0F\u5199\u4E0D\u654F\u611F\u7684\u5339\u914D\u5C06\u6309\u7167\u4E0EUnicode\u6807\u51C6\u76F8\u4E00\u81F4\u7684\u65B9\u5F0F\u8FDB\u884C\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u5927\u5C0F\u5199\u4E0D\u654F\u611F\u7684\u5339\u914D\u5047\u5B9A\u53EA\u80FD\u5728US-ASCII\u5B57\u7B26\u96C6\u4E2D\u7684\u5B57\u7B26\u624D\u80FD\u8FDB\u884C</td></tr><tr><td><code>Pattern.UNIX_LINES(?d)</code></td><td>\u5728\u8FD9\u79CD\u6A21\u5F0F\u4E0B\uFF0C\u5728<code>.</code>\u3001<code>^</code>\u548C<code>$</code>\u7684\u884C\u4E3A\u4E2D\uFF0C\u53EA\u8BC6\u522B\u884C\u7EC8\u6B62\u7B26<code>\\n</code></td></tr></tbody></table><p>\u5728\u8FD9\u4E9B\u6807\u8BB0\u4E2D\uFF0C<code>Pattern.CASE_INSENSITIVE</code>\u3001<code>Pattern.MULTILINE</code> \u4EE5\u53CA <code>Pattern.COMMENTS</code>\uFF08\u5BF9\u58F0\u660E\u6216\u6587\u6863\u6709\u7528\uFF09\u7279\u522B\u6709\u7528\u3002\u8BF7\u6CE8\u610F\uFF0C\u4F60\u53EF\u4EE5\u76F4\u63A5\u5728\u6B63\u5219\u8868\u8FBE\u5F0F\u4E2D\u4F7F\u7528\u5176\u4E2D\u7684\u5927\u591A\u6570\u6807\u8BB0\uFF0C\u53EA\u9700\u8981\u5C06\u4E0A\u8868\u4E2D\u62EC\u53F7\u62EC\u8D77\u6765\u7684\u5B57\u7B26\u63D2\u5165\u5230\u6B63\u5219\u8868\u8FBE\u5F0F\u4E2D\uFF0C\u4F60\u5E0C\u671B\u5B83\u8D77\u4F5C\u7528\u7684\u4F4D\u7F6E\u5373\u53EF\u3002</p><p>\u4F60\u8FD8\u53EF\u4EE5\u901A\u8FC7\u201C\u6216\u201D(<code>|</code>)\u64CD\u4F5C\u7B26\u7EC4\u5408\u591A\u4E2A\u6807\u8BB0\u7684\u529F\u80FD\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/ReFlags.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReFlags</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">Pattern</span> p <span class="token operator">=</span>  <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;^java&quot;</span><span class="token punctuation">,</span>       
          <span class="token class-name">Pattern</span><span class="token punctuation">.</span>CASE_INSENSITIVE <span class="token operator">|</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span>MULTILINE<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>       
          <span class="token string">&quot;java has regex\\nJava has regex\\n&quot;</span> <span class="token operator">+</span>       
          <span class="token string">&quot;JAVA has pretty good regular expressions\\n&quot;</span> <span class="token operator">+</span>       
          <span class="token string">&quot;Regular expressions are in Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
java 
Java 
JAVA 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u6211\u4EEC\u521B\u5EFA\u4E86\u4E00\u4E2A\u6A21\u5F0F\uFF0C\u5B83\u5C06\u5339\u914D\u6240\u6709\u4EE5\u201Cjava\u201D\u3001\u201CJava\u201D\u548C\u201CJAVA\u201D\u7B49\u5F00\u5934\u7684\u884C\uFF0C\u5E76\u4E14\u662F\u5728\u8BBE\u7F6E\u4E86\u591A\u884C\u6807\u8BB0\u7684\u72B6\u6001\u4E0B\uFF0C\u5BF9\u6BCF\u4E00\u884C\uFF08\u4ECE\u5B57\u7B26\u5E8F\u5217\u7684\u7B2C\u4E00\u4E2A\u5B57\u7B26\u5F00\u59CB\uFF0C\u81F3\u6BCF\u4E00\u4E2A\u884C\u7EC8\u6B62\u7B26\uFF09\u90FD\u8FDB\u884C\u5339\u914D\u3002\u6CE8\u610F\uFF0C<code>group()</code> \u65B9\u6CD5\u53EA\u8FD4\u56DE\u5DF2\u5339\u914D\u7684\u90E8\u5206\u3002</p><h3 id="split" tabindex="-1"><a class="header-anchor" href="#split" aria-hidden="true">#</a> <code>split()</code></h3><p><code>split()</code>\u65B9\u6CD5\u5C06\u8F93\u5165 <code>String</code> \u65AD\u5F00\u6210 <code>String</code> \u5BF9\u8C61\u6570\u7EC4\uFF0C\u65AD\u5F00\u8FB9\u754C\u7531\u6B63\u5219\u8868\u8FBE\u5F0F\u786E\u5B9A\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">split</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> input<span class="token punctuation">)</span> 
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">split</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> input<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u662F\u4E00\u4E2A\u5FEB\u901F\u800C\u65B9\u4FBF\u7684\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u6309\u7167\u901A\u7528\u8FB9\u754C\u65AD\u5F00\u8F93\u5165\u6587\u672C\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/SplitDemo.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SplitDemo</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">String</span> input <span class="token operator">=</span>       
          <span class="token string">&quot;This!!unusual use!!of exclamation!!points&quot;</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>       
        <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// Only do the first three:     </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>       
        <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
[This, unusual use, of exclamation, points] 
[This, unusual use, of exclamation!!points]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B2C\u4E8C\u79CD\u5F62\u5F0F\u7684 <code>split()</code> \u65B9\u6CD5\u53EF\u4EE5\u9650\u5236\u5C06\u8F93\u5165\u5206\u5272\u6210\u5B57\u7B26\u4E32\u7684\u6570\u91CF\u3002</p><h3 id="\u66FF\u6362\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u66FF\u6362\u64CD\u4F5C" aria-hidden="true">#</a> \u66FF\u6362\u64CD\u4F5C</h3><p>\u6B63\u5219\u8868\u8FBE\u5F0F\u5728\u8FDB\u884C\u6587\u672C\u66FF\u6362\u65F6\u7279\u522B\u65B9\u4FBF\uFF0C\u5B83\u63D0\u4F9B\u4E86\u8BB8\u591A\u65B9\u6CD5\uFF1A</p><ul><li><code>replaceFirst(String replacement)</code> \u4EE5\u53C2\u6570\u5B57\u7B26\u4E32 <code>replacement</code> \u66FF\u6362\u6389\u7B2C\u4E00\u4E2A\u5339\u914D\u6210\u529F\u7684\u90E8\u5206\u3002</li><li><code>replaceAll(String replacement)</code> \u4EE5\u53C2\u6570\u5B57\u7B26\u4E32 <code>replacement</code> \u66FF\u6362\u6240\u6709\u5339\u914D\u6210\u529F\u7684\u90E8\u5206\u3002</li><li><code>appendReplacement(StringBuffer sbuf, String replacement)</code> \u6267\u884C\u6E10\u8FDB\u5F0F\u7684\u66FF\u6362\uFF0C\u800C\u4E0D\u662F\u50CF <code>replaceFirst()</code> \u548C <code>replaceAll()</code> \u90A3\u6837\u53EA\u66FF\u6362\u7B2C\u4E00\u4E2A\u5339\u914D\u6216\u5168\u90E8\u5339\u914D\u3002\u8FD9\u662F\u4E00\u4E2A\u975E\u5E38\u91CD\u8981\u7684\u65B9\u6CD5\u3002\u5B83\u5141\u8BB8\u4F60\u8C03\u7528\u5176\u4ED6\u65B9\u6CD5\u6765\u751F\u6210\u6216\u5904\u7406 <code>replacement</code>\uFF08<code>replaceFirst()</code> \u548C <code>replaceAll()</code> \u5219\u53EA\u80FD\u4F7F\u7528\u4E00\u4E2A\u56FA\u5B9A\u7684\u5B57\u7B26\u4E32\uFF09\uFF0C\u4F7F\u4F60\u80FD\u591F\u4EE5\u7F16\u7A0B\u7684\u65B9\u5F0F\u5C06\u76EE\u6807\u5206\u5272\u6210\u7EC4\uFF0C\u4ECE\u800C\u5177\u5907\u66F4\u5F3A\u5927\u7684\u66FF\u6362\u529F\u80FD\u3002</li><li><code>appendTail(StringBuffer sbuf)</code> \u5728\u6267\u884C\u4E86\u4E00\u6B21\u6216\u591A\u6B21 <code>appendReplacement()</code> \u4E4B\u540E\uFF0C\u8C03\u7528\u6B64\u65B9\u6CD5\u53EF\u4EE5\u5C06\u8F93\u5165\u5B57\u7B26\u4E32\u4F59\u4E0B\u7684\u90E8\u5206\u590D\u5236\u5230 <code>sbuf</code> \u4E2D\u3002</li></ul><p>\u4E0B\u9762\u7684\u7A0B\u5E8F\u6F14\u793A\u4E86\u5982\u4F55\u4F7F\u7528\u8FD9\u4E9B\u66FF\u6362\u65B9\u6CD5\u3002\u5F00\u5934\u90E8\u5206\u6CE8\u91CA\u6389\u7684\u6587\u672C\uFF0C\u5C31\u662F\u6B63\u5219\u8868\u8FBE\u5F0F\u8981\u5904\u7406\u7684\u8F93\u5165\u5B57\u7B26\u4E32\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/TheReplacements.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token comment">/*! Here&#39;s a block of text to use as input to 
    the regular expression matcher. Note that we 
    first extract the block of text by looking for 
    the special delimiters, then process the     
    extracted block. !*/</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TheReplacements</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>     
        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">lines</span><span class="token punctuation">(</span>       
          <span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;TheReplacements.java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
          <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// Match specially commented block of text above:     </span>
        <span class="token class-name">Matcher</span> mInput <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>       
          <span class="token string">&quot;/\\\\*!(.*)!\\\\*/&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span>DOTALL<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">if</span><span class="token punctuation">(</span>mInput<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            s <span class="token operator">=</span> mInput<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Captured by parentheses     </span>
        <span class="token comment">// Replace two or more spaces with a single space:     </span>
        s <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot; {2,}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// Replace 1+ spaces at the beginning of each     </span>
        <span class="token comment">// line with no spaces. Must enable MULTILINE mode:     </span>
        s <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;(?m)^ +&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        s <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token string">&quot;[aeiou]&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(VOWEL1)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">StringBuffer</span> sbuf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;[aeiou]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// Process the find information as you     </span>
        <span class="token comment">// perform the replacements:     </span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      
            m<span class="token punctuation">.</span><span class="token function">appendReplacement</span><span class="token punctuation">(</span>sbuf<span class="token punctuation">,</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// Put in the remainder of the text:     </span>
        m<span class="token punctuation">.</span><span class="token function">appendTail</span><span class="token punctuation">(</span>sbuf<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sbuf<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
Here&#39;s a block of text to use as input to 
the regular expression matcher. Note that we 
first extract the block of text by looking for 
the special delimiters, then process the 
extracted block. 
H(VOWEL1)rE&#39;s A blOck Of tExt tO UsE As InpUt tO 
thE rEgUlAr ExprEssIOn mAtchEr. NOtE thAt wE 
fIrst ExtrAct thE blOck Of tExt by lOOkIng fOr 
thE spEcIAl dElImItErs, thEn prOcEss thE 
ExtrActEd blOck. 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,97),Z=n("\u6B64\u5904\u4F7F\u7528\u4E0A\u4E00\u7AE0\u4ECB\u7ECD\u8FC7\u7684 "),nn=s("code",null,"Files",-1),sn=n(" \u7C7B\u6253\u5F00\u5E76\u8BFB\u5165\u6587\u4EF6\u3002"),an=s("code",null,"Files.lines()",-1),tn=n(" \u8FD4\u56DE\u4E00\u4E2A "),en=s("code",null,"Stream",-1),pn=n(" \u5BF9\u8C61\uFF0C\u5305\u542B\u8BFB\u5165\u7684\u6240\u6709\u884C\uFF0C"),on=s("code",null,"Collectors.joining()",-1),cn=n(" \u5728\u6BCF\u4E00\u884C\u7684\u7ED3\u5C3E\u8FFD\u52A0\u53C2\u6570\u5B57\u7B26\u5E8F\u5217\uFF0C\u6700\u7EC8\u62FC\u63A5\u6210\u4E00\u4E2A "),ln=s("code",null,"String",-1),un=n(" \u5BF9\u8C61\u3002"),dn=a(`<p><code>mInput</code> \u5339\u914D <code>/*!</code> \u548C <code>\uFF01*/</code> \u4E4B\u95F4\u7684\u6240\u6709\u6587\u5B57\uFF08\u6CE8\u610F\u5206\u7EC4\u7684\u62EC\u53F7\uFF09\u3002\u63A5\u4E0B\u6765\uFF0C\u5C06\u5B58\u5728\u4E24\u4E2A\u6216\u4E24\u4E2A\u4EE5\u4E0A\u7A7A\u683C\u7684\u5730\u65B9\uFF0C\u7F29\u51CF\u4E3A\u4E00\u4E2A\u7A7A\u683C\uFF0C\u5E76\u4E14\u5220\u9664\u6BCF\u884C\u5F00\u5934\u90E8\u5206\u7684\u6240\u6709\u7A7A\u683C\uFF08\u4E3A\u4E86\u4F7F\u6BCF\u4E00\u884C\u90FD\u8FBE\u5230\u8FD9\u4E2A\u6548\u679C\uFF0C\u800C\u4E0D\u4EC5\u4EC5\u662F\u5220\u9664\u6587\u672C\u5F00\u5934\u90E8\u5206\u7684\u7A7A\u683C\uFF0C\u8FD9\u91CC\u7279\u610F\u5F00\u542F\u4E86\u591A\u884C\u6A21\u5F0F\uFF09\u3002\u8FD9\u4E24\u4E2A\u66FF\u6362\u64CD\u4F5C\u6240\u4F7F\u7528\u7684\u7684 <code>replaceAll()</code> \u662F <code>String</code> \u5BF9\u8C61\u81EA\u5E26\u7684\u65B9\u6CD5\uFF0C\u5728\u8FD9\u91CC\uFF0C\u4F7F\u7528\u6B64\u65B9\u6CD5\u66F4\u65B9\u4FBF\u3002\u6CE8\u610F\uFF0C\u56E0\u4E3A\u8FD9\u4E24\u4E2A\u66FF\u6362\u64CD\u4F5C\u90FD\u53EA\u4F7F\u7528\u4E86\u4E00\u6B21 <code>replaceAll()</code>\uFF0C\u6240\u4EE5\uFF0C\u4E0E\u5176\u7F16\u8BD1\u4E3A <code>Pattern</code>\uFF0C\u4E0D\u5982\u76F4\u63A5\u4F7F\u7528 <code>String</code> \u7684 <code>replaceAll()</code> \u65B9\u6CD5\uFF0C\u800C\u4E14\u5F00\u9500\u4E5F\u66F4\u5C0F\u4E9B\u3002</p><p><code>replaceFirst()</code> \u53EA\u5BF9\u627E\u5230\u7684\u7B2C\u4E00\u4E2A\u5339\u914D\u8FDB\u884C\u66FF\u6362\u3002\u6B64\u5916\uFF0C<code>replaceFirst()</code> \u548C <code>replaceAll()</code> \u65B9\u6CD5\u7528\u6765\u66FF\u6362\u7684\u53EA\u662F\u666E\u901A\u5B57\u7B26\u4E32\uFF0C\u6240\u4EE5\uFF0C\u5982\u679C\u60F3\u5BF9\u8FD9\u4E9B\u66FF\u6362\u5B57\u7B26\u4E32\u8FDB\u884C\u67D0\u4E9B\u7279\u6B8A\u5904\u7406\uFF0C\u8FD9\u4E24\u4E2A\u65B9\u6CD5\u65F6\u65E0\u6CD5\u80DC\u4EFB\u7684\u3002\u5982\u679C\u4F60\u60F3\u8981\u90A3\u4E48\u505A\uFF0C\u5C31\u5E94\u8BE5\u4F7F\u7528 <code>appendReplacement()</code> \u65B9\u6CD5\u3002\u8BE5\u65B9\u6CD5\u5141\u8BB8\u4F60\u5728\u6267\u884C\u66FF\u6362\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u64CD\u4F5C\u7528\u6765\u66FF\u6362\u7684\u5B57\u7B26\u4E32\u3002\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u5148\u6784\u9020\u4E86 <code>sbuf</code> \u7528\u6765\u4FDD\u5B58\u6700\u7EC8\u7ED3\u679C\uFF0C\u7136\u540E\u7528 <code>group()</code> \u9009\u62E9\u4E00\u4E2A\u7EC4\uFF0C\u5E76\u5BF9\u5176\u8FDB\u884C\u5904\u7406\uFF0C\u5C06\u6B63\u5219\u8868\u8FBE\u5F0F\u627E\u5230\u7684\u5143\u97F3\u5B57\u6BCD\u66FF\u6362\u6210\u5927\u4E9B\u5B57\u6BCD\u3002\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u4F60\u5E94\u8BE5\u904D\u5386\u6267\u884C\u6240\u6709\u7684\u66FF\u6362\u64CD\u4F5C\uFF0C\u7136\u540E\u518D\u8C03\u7528 <code>appendTail()</code> \u65B9\u6CD5\uFF0C\u4F46\u662F\uFF0C\u5982\u679C\u4F60\u60F3\u6A21\u62DF <code>replaceFirst()</code>\uFF08\u6216\u66FF\u6362n\u6B21\uFF09\u7684\u884C\u4E3A\uFF0C\u90A3\u5C31\u53EA\u9700\u8981\u6267\u884C\u4E00\u6B21\u66FF\u6362\uFF0C\u7136\u540E\u8C03\u7528 <code>appendTail()</code> \u65B9\u6CD5\uFF0C\u5C06\u5269\u4F59\u672A\u5904\u7406\u7684\u90E8\u5206\u5B58\u5165 <code>sbuf</code> \u5373\u53EF\u3002</p><p>\u540C\u65F6\uFF0C<code>appendReplacement()</code> \u65B9\u6CD5\u8FD8\u5141\u8BB8\u4F60\u901A\u8FC7 <code>\\$g</code> \u76F4\u63A5\u627E\u5230\u5339\u914D\u7684\u67D0\u4E2A\u7EC4\uFF0C\u8FD9\u91CC\u7684 <code>g</code> \u5C31\u662F\u7EC4\u53F7\u3002\u7136\u800C\uFF0C\u5B83\u53EA\u80FD\u5E94\u4ED8\u4E00\u4E9B\u7B80\u5355\u7684\u5904\u7406\uFF0C\u65E0\u6CD5\u5B9E\u73B0\u7C7B\u4F3C\u524D\u9762\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\u7684\u529F\u80FD\u3002</p><h3 id="reset" tabindex="-1"><a class="header-anchor" href="#reset" aria-hidden="true">#</a> <code>reset()</code></h3><p>\u901A\u8FC7 <code>reset()</code> \u65B9\u6CD5\uFF0C\u53EF\u4EE5\u5C06\u73B0\u6709\u7684 <code>Matcher</code> \u5BF9\u8C61\u5E94\u7528\u4E8E\u4E00\u4E2A\u65B0\u7684\u5B57\u7B26\u5E8F\u5217\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/Resetting.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Resetting</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>     
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;[frb][aiu][gx]&quot;</span><span class="token punctuation">)</span>       
          <span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">&quot;fix the rug with bags&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        m<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token string">&quot;fix the rig with rags&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
fix rug bag 
fix rig rag 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528\u4E0D\u5E26\u53C2\u6570\u7684 <code>reset()</code> \u65B9\u6CD5\uFF0C\u53EF\u4EE5\u5C06 <code>Matcher</code> \u5BF9\u8C61\u91CD\u65B0\u8BBE\u7F6E\u5230\u5F53\u524D\u5B57\u7B26\u5E8F\u5217\u7684\u8D77\u59CB\u4F4D\u7F6E\u3002</p><h3 id="\u6B63\u5219\u8868\u8FBE\u5F0F\u4E0E-java-i-o" tabindex="-1"><a class="header-anchor" href="#\u6B63\u5219\u8868\u8FBE\u5F0F\u4E0E-java-i-o" aria-hidden="true">#</a> \u6B63\u5219\u8868\u8FBE\u5F0F\u4E0E Java I/O</h3><p>\u5230\u76EE\u524D\u4E3A\u6B62\uFF0C\u6211\u4EEC\u770B\u5230\u7684\u4F8B\u5B50\u90FD\u662F\u5C06\u6B63\u5219\u8868\u8FBE\u5F0F\u7528\u4E8E\u9759\u6001\u7684\u5B57\u7B26\u4E32\u3002\u4E0B\u9762\u7684\u4F8B\u5B50\u5C06\u5411\u4F60\u6F14\u793A\uFF0C\u5982\u4F55\u5E94\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u5728\u4E00\u4E2A\u6587\u4EF6\u4E2D\u8FDB\u884C\u641C\u7D22\u5339\u914D\u64CD\u4F5C\u3002<code>JGrep.java</code> \u7684\u7075\u611F\u6E90\u81EA\u4E8E Unix \u4E0A\u7684 <em>grep</em>\u3002\u5B83\u6709\u4E24\u4E2A\u53C2\u6570\uFF1A\u6587\u4EF6\u540D\u4EE5\u53CA\u8981\u5339\u914D\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u3002\u8F93\u51FA\u7684\u662F\u6BCF\u884C\u6709\u5339\u914D\u7684\u90E8\u5206\u4EE5\u53CA\u5339\u914D\u90E8\u5206\u5728\u884C\u4E2D\u7684\u4F4D\u7F6E\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/JGrep.java </span>
<span class="token comment">// A very simple version of the &quot;grep&quot; program </span>
<span class="token comment">// {java JGrep </span>
<span class="token comment">// WhitherStringBuilder.java &#39;return|for|String&#39;} </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JGrep</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>    
        <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>        
              <span class="token string">&quot;Usage: java JGrep file regex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token punctuation">}</span>    
        <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token comment">// Iterate through the lines of the input file:    </span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> line<span class="token operator">:</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">readAllLines</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      
            m<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>index<span class="token operator">++</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span>          
                  m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
0: for: 4 
1: for: 4 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Files.readAllLines()</code> \u8FD4\u56DE\u4E00\u4E2A <code>List&lt;String&gt;</code> \u5BF9\u8C61\uFF0C\u8FD9\u610F\u5473\u7740\u53EF\u4EE5\u7528 <em>for-in</em> \u8FDB\u884C\u904D\u5386\u3002\u867D\u7136\u53EF\u4EE5\u5728 <code>for</code> \u5FAA\u73AF\u5185\u90E8\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684 <code>Matcher</code> \u5BF9\u8C61\uFF0C\u4F46\u662F\uFF0C\u5728\u5FAA\u73AF\u4F53\u5916\u521B\u5EFA\u4E00\u4E2A\u7A7A\u7684 <code>Matcher</code> \u5BF9\u8C61\uFF0C\u7136\u540E\u7528 <code>reset()</code> \u65B9\u6CD5\u6BCF\u6B21\u4E3A <code>Matcher</code> \u52A0\u8F7D\u4E00\u884C\u8F93\u5165\uFF0C\u8FD9\u79CD\u5904\u7406\u4F1A\u6709\u4E00\u5B9A\u7684\u6027\u80FD\u4F18\u5316\u3002\u6700\u540E\u7528 <code>find()</code> \u641C\u7D22\u7ED3\u679C\u3002</p><p>\u8FD9\u91CC\u8BFB\u5165\u7684\u6D4B\u8BD5\u53C2\u6570\u662F <code>JGrep.java</code> \u6587\u4EF6\uFF0C\u7136\u540E\u641C\u7D22\u4EE5 <code>[Ssct]</code> \u5F00\u5934\u7684\u5355\u8BCD\u3002</p><p>\u5982\u679C\u60F3\u8981\u66F4\u6DF1\u5165\u5730\u5B66\u4E60\u6B63\u5219\u8868\u8FBE\u5F0F\uFF0C\u4F60\u53EF\u4EE5\u9605\u8BFB Jeffrey E. F. Friedl \u7684\u300A\u7CBE\u901A\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08\u7B2C2\u7248\uFF09\u300B\u3002\u7F51\u7EDC\u4E0A\u4E5F\u6709\u5F88\u591A\u6B63\u5219\u8868\u8FBE\u5F0F\u7684\u4ECB\u7ECD\uFF0C\u4F60\u8FD8\u53EF\u4EE5\u4ECE Perl \u548C Python \u7B49\u5176\u4ED6\u8BED\u8A00\u7684\u6587\u6863\u4E2D\u627E\u5230\u6709\u7528\u7684\u4FE1\u606F\u3002</p><h2 id="\u626B\u63CF\u8F93\u5165" tabindex="-1"><a class="header-anchor" href="#\u626B\u63CF\u8F93\u5165" aria-hidden="true">#</a> \u626B\u63CF\u8F93\u5165</h2><p>\u5230\u76EE\u524D\u4E3A\u6B62\uFF0C\u4ECE\u6587\u4EF6\u6216\u6807\u51C6\u8F93\u5165\u8BFB\u53D6\u6570\u636E\u8FD8\u662F\u4E00\u4EF6\u76F8\u5F53\u75DB\u82E6\u7684\u4E8B\u60C5\u3002\u4E00\u822C\u7684\u89E3\u51B3\u529E\u6CD5\u5C31\u662F\u8BFB\u5165\u4E00\u884C\u6587\u672C\uFF0C\u5BF9\u5176\u8FDB\u884C\u5206\u8BCD\uFF0C\u7136\u540E\u4F7F\u7528 <code>Integer</code>\u3001<code>Double</code> \u7B49\u7C7B\u7684\u5404\u79CD\u89E3\u6790\u65B9\u6CD5\u6765\u89E3\u6790\u6570\u636E\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/SimpleRead.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleRead</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">BufferedReader</span> input <span class="token operator">=</span>    
      <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringReader</span><span class="token punctuation">(</span>    
        <span class="token string">&quot;Sir Robin of Camelot\\n22 1.61803&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token keyword">try</span> <span class="token punctuation">{</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;What is your name?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">String</span> name <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;How old are you? &quot;</span> <span class="token operator">+</span>        
              <span class="token string">&quot;What is your favorite double?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;(input: &lt;age&gt; &lt;double&gt;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">String</span> numbers <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> numArray <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>numArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token keyword">double</span> favorite <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>numArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Hi %s.%n&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;In 5 years you will be %d.%n&quot;</span><span class="token punctuation">,</span> age <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;My favorite double is %f.&quot;</span><span class="token punctuation">,</span> favorite <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;I/O exception&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
What is your name? 
Sir Robin of Camelot 
How old are you? What is your favorite double? 
(input: &lt;age&gt; &lt;double&gt;) 
22 1.61803
Hi Sir Robin of Camelot. 
In 5 years you will be 27. 
My favorite double is 0.809015. 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16),rn=s("code",null,"input",-1),kn=n(" \u5B57\u6BB5\u4F7F\u7528\u7684\u7C7B\u6765\u81EA "),vn=s("code",null,"java.io",-1),mn=n("\uFF0C"),bn=n("\u9644\u5F55:\u6D41\u5F0F I/O"),gn=n(" \u8BE6\u7EC6\u4ECB\u7ECD\u4E86\u76F8\u5173\u5185\u5BB9\u3002"),fn=s("code",null,"StringReader",-1),hn=n(" \u5C06 "),yn=s("code",null,"String",-1),qn=n(" \u8F6C\u5316\u4E3A\u53EF\u8BFB\u7684\u6D41\u5BF9\u8C61\uFF0C\u7136\u540E\u7528\u8FD9\u4E2A\u5BF9\u8C61\u6765\u6784\u9020 "),wn=s("code",null,"BufferedReader",-1),Sn=n(" \u5BF9\u8C61\uFF0C\u56E0\u4E3A\u6211\u4EEC\u8981\u4F7F\u7528 "),xn=s("code",null,"BufferedReader",-1),jn=n(" \u7684 "),En=s("code",null,"readLine()",-1),_n=n(" \u65B9\u6CD5\u3002\u6700\u7EC8\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 "),Bn=s("code",null,"input",-1),An=n(" \u5BF9\u8C61\u4E00\u6B21\u8BFB\u53D6\u4E00\u884C\u6587\u672C\uFF0C\u5C31\u50CF\u4ECE\u63A7\u5236\u53F0\u8BFB\u5165\u6807\u51C6\u8F93\u5165\u4E00\u6837\u3002"),Tn=a(`<p><code>readLine()</code> \u65B9\u6CD5\u5C06\u4E00\u884C\u8F93\u5165\u8F6C\u4E3A <code>String</code> \u5BF9\u8C61\u3002\u5982\u679C\u6BCF\u4E00\u884C\u6570\u636E\u6B63\u597D\u5BF9\u5E94\u4E00\u4E2A\u8F93\u5165\u503C\uFF0C\u90A3\u8FD9\u4E2A\u65B9\u6CD5\u4E5F\u8FD8\u53EF\u884C\u3002\u4F46\u662F\uFF0C\u5982\u679C\u4E24\u4E2A\u8F93\u5165\u503C\u5728\u540C\u4E00\u884C\u4E2D\uFF0C\u4E8B\u60C5\u5C31\u4E0D\u597D\u529E\u4E86\uFF0C\u6211\u4EEC\u5FC5\u987B\u5206\u89E3\u8FD9\u4E2A\u884C\uFF0C\u624D\u80FD\u5206\u522B\u89E3\u6790\u6240\u9700\u7684\u8F93\u5165\u503C\u3002\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u5206\u89E3\u7684\u64CD\u4F5C\u53D1\u751F\u5728\u521B\u5EFA <code>numArray</code>\u65F6\u3002</p><p>\u7EC8\u4E8E\uFF0CJava SE5 \u65B0\u589E\u4E86 <code>Scanner</code> \u7C7B\uFF0C\u5B83\u53EF\u4EE5\u5927\u5927\u51CF\u8F7B\u626B\u63CF\u8F93\u5165\u7684\u5DE5\u4F5C\u8D1F\u62C5\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/BetterRead.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BetterRead</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Scanner</span> stdin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">SimpleRead</span><span class="token punctuation">.</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;What is your name?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> name <span class="token operator">=</span> stdin<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;How old are you? What is your favorite double?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;(input: &lt;age&gt; &lt;double&gt;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> age <span class="token operator">=</span> stdin<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">double</span> favorite <span class="token operator">=</span> stdin<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>favorite<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Hi %s.%n&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;In 5 years you will be %d.%n&quot;</span><span class="token punctuation">,</span>
      age <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;My favorite double is %f.&quot;</span><span class="token punctuation">,</span>
      favorite <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
What is your name? 
Sir Robin of Camelot 
How old are you? What is your favorite double? 
(input: &lt;age&gt; &lt;double&gt;) 
22 
1.61803 
Hi Sir Robin of Camelot. 
In 5 years you will be 27. 
My favorite double is 0.809015. 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Scanner</code> \u7684\u6784\u9020\u5668\u53EF\u4EE5\u63A5\u6536\u4EFB\u610F\u7C7B\u578B\u7684\u8F93\u5165\u5BF9\u8C61\uFF0C\u5305\u62EC <code>File</code>\u3001<code>InputStream</code>\u3001<code>String</code> \u6216\u8005\u50CF\u6B64\u4F8B\u4E2D\u7684<code>Readable</code> \u5B9E\u73B0\u7C7B\u3002<code>Readable</code> \u662F Java SE5 \u4E2D\u65B0\u52A0\u5165\u7684\u4E00\u4E2A\u63A5\u53E3\uFF0C\u8868\u793A\u201C\u5177\u6709 <code>read()</code> \u65B9\u6CD5\u7684\u67D0\u79CD\u4E1C\u897F\u201D\u3002\u4E0A\u4E00\u4E2A\u4F8B\u5B50\u4E2D\u7684 <code>BufferedReader</code> \u4E5F\u5F52\u4E8E\u8FD9\u4E00\u7C7B\u3002</p><p>\u6709\u4E86 <code>Scanner</code>\uFF0C\u6240\u6709\u7684\u8F93\u5165\u3001\u5206\u8BCD\u3001\u4EE5\u53CA\u89E3\u6790\u7684\u64CD\u4F5C\u90FD\u9690\u85CF\u5728\u4E0D\u540C\u7C7B\u578B\u7684 <code>next</code> \u65B9\u6CD5\u4E2D\u3002\u666E\u901A\u7684 <code>next()</code> \u65B9\u6CD5\u8FD4\u56DE\u4E0B\u4E00\u4E2A <code>String</code>\u3002\u6240\u6709\u7684\u57FA\u672C\u7C7B\u578B\uFF08\u9664 <code>char</code> \u4E4B\u5916\uFF09\u90FD\u6709\u5BF9\u5E94\u7684 <code>next</code> \u65B9\u6CD5\uFF0C\u5305\u62EC <code>BigDecimal</code> \u548C <code>BigInteger</code>\u3002\u6240\u6709\u7684 next \u65B9\u6CD5\uFF0C\u53EA\u6709\u5728\u627E\u5230\u4E00\u4E2A\u5B8C\u6574\u7684\u5206\u8BCD\u4E4B\u540E\u624D\u4F1A\u8FD4\u56DE\u3002<code>Scanner</code> \u8FD8\u6709\u76F8\u5E94\u7684 <code>hasNext</code> \u65B9\u6CD5\uFF0C\u7528\u4EE5\u5224\u65AD\u4E0B\u4E00\u4E2A\u8F93\u5165\u5206\u8BCD\u662F\u5426\u662F\u6240\u9700\u7684\u7C7B\u578B\uFF0C\u5982\u679C\u662F\u5219\u8FD4\u56DE <code>true</code>\u3002</p><p>\u5728 <code>BetterRead.java</code> \u4E2D\u6CA1\u6709\u7528 <code>try</code> \u533A\u5757\u6355\u83B7<code>IOException</code>\u3002\u56E0\u4E3A\uFF0C<code>Scanner</code> \u6709\u4E00\u4E2A\u5047\u8BBE\uFF0C\u5728\u8F93\u5165\u7ED3\u675F\u65F6\u4F1A\u629B\u51FA <code>IOException</code>\uFF0C\u6240\u4EE5 <code>Scanner</code> \u4F1A\u628A <code>IOException</code> \u541E\u6389\u3002\u4E0D\u8FC7\uFF0C\u901A\u8FC7 <code>ioException()</code> \u65B9\u6CD5\uFF0C\u4F60\u53EF\u4EE5\u627E\u5230\u6700\u8FD1\u53D1\u751F\u7684\u5F02\u5E38\uFF0C\u56E0\u6B64\uFF0C\u4F60\u53EF\u4EE5\u5728\u5FC5\u8981\u65F6\u68C0\u67E5\u5B83\u3002</p><h3 id="scanner-\u5206\u9694\u7B26" tabindex="-1"><a class="header-anchor" href="#scanner-\u5206\u9694\u7B26" aria-hidden="true">#</a> <code>Scanner</code> \u5206\u9694\u7B26</h3><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C<code>Scanner</code> \u6839\u636E\u7A7A\u767D\u5B57\u7B26\u5BF9\u8F93\u5165\u8FDB\u884C\u5206\u8BCD\uFF0C\u4F46\u662F\u4F60\u53EF\u4EE5\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u6307\u5B9A\u81EA\u5DF1\u6240\u9700\u7684\u5206\u9694\u7B26\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/ScannerDelimiter.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScannerDelimiter</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token string">&quot;12, 42, 78, 99, 42&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        scanner<span class="token punctuation">.</span><span class="token function">useDelimiter</span><span class="token punctuation">(</span><span class="token string">&quot;\\\\s*,\\\\s*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token keyword">while</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">hasNextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
12 
42 
78 
99 
42 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u4E2A\u4F8B\u5B50\u4F7F\u7528\u9017\u53F7\uFF08\u5305\u62EC\u9017\u53F7\u524D\u540E\u4EFB\u610F\u7684\u7A7A\u767D\u5B57\u7B26\uFF09\u4F5C\u4E3A\u5206\u9694\u7B26\uFF0C\u540C\u6837\u7684\u6280\u672F\u4E5F\u53EF\u4EE5\u7528\u6765\u8BFB\u53D6\u9017\u53F7\u5206\u9694\u7684\u6587\u4EF6\u3002\u6211\u4EEC\u53EF\u4EE5\u7528 <code>useDelimiter()</code> \u6765\u8BBE\u7F6E\u5206\u9694\u7B26\uFF0C\u540C\u65F6\uFF0C\u8FD8\u6709\u4E00\u4E2A <code>delimiter()</code> \u65B9\u6CD5\uFF0C\u7528\u6765\u8FD4\u56DE\u5F53\u524D\u6B63\u5728\u4F5C\u4E3A\u5206\u9694\u7B26\u4F7F\u7528\u7684 <code>Pattern</code> \u5BF9\u8C61\u3002</p><h3 id="\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u626B\u63CF" tabindex="-1"><a class="header-anchor" href="#\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u626B\u63CF" aria-hidden="true">#</a> \u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u626B\u63CF</h3><p>\u9664\u4E86\u80FD\u591F\u626B\u63CF\u57FA\u672C\u7C7B\u578B\u4E4B\u5916\uFF0C\u4F60\u8FD8\u53EF\u4EE5\u4F7F\u7528\u81EA\u5B9A\u4E49\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u8FDB\u884C\u626B\u63CF\uFF0C\u8FD9\u5728\u626B\u63CF\u590D\u6742\u6570\u636E\u65F6\u975E\u5E38\u6709\u7528\u3002\u4E0B\u9762\u7684\u4F8B\u5B50\u5C06\u626B\u63CF\u4E00\u4E2A\u9632\u706B\u5899\u65E5\u5FD7\u6587\u4EF6\u4E2D\u7684\u5A01\u80C1\u6570\u636E\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/ThreatAnalyzer.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreatAnalyzer</span> <span class="token punctuation">{</span> 
    <span class="token keyword">static</span> <span class="token class-name">String</span> threatData <span class="token operator">=</span>    
      <span class="token string">&quot;58.27.82.161@08/10/2015\\n&quot;</span> <span class="token operator">+</span>   
      <span class="token string">&quot;204.45.234.40@08/11/2015\\n&quot;</span> <span class="token operator">+</span>    
      <span class="token string">&quot;58.27.82.161@08/11/2015\\n&quot;</span> <span class="token operator">+</span>    
      <span class="token string">&quot;58.27.82.161@08/12/2015\\n&quot;</span> <span class="token operator">+</span>    
      <span class="token string">&quot;58.27.82.161@08/12/2015\\n&quot;</span> <span class="token operator">+</span>
      <span class="token string">&quot;[Next log section with different data format]&quot;</span><span class="token punctuation">;</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>threatData<span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token class-name">String</span> pattern <span class="token operator">=</span> <span class="token string">&quot;(\\\\d+[.]\\\\d+[.]\\\\d+[.]\\\\d+)@&quot;</span> <span class="token operator">+</span>      
            <span class="token string">&quot;(\\\\d{2}/\\\\d{2}/\\\\d{4})&quot;</span><span class="token punctuation">;</span>    
        <span class="token keyword">while</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      
            scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">MatchResult</span> match <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">String</span> ip <span class="token operator">=</span> match<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">String</span> date <span class="token operator">=</span> match<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>        
                <span class="token string">&quot;Threat on %s from %s%n&quot;</span><span class="token punctuation">,</span> date<span class="token punctuation">,</span>ip<span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
Threat on 08/10/2015 from 58.27.82.161 
Threat on 08/11/2015 from 204.45.234.40 
Threat on 08/11/2015 from 58.27.82.161 
Threat on 08/12/2015 from 58.27.82.161 
Threat on 08/12/2015 from 58.27.82.161 
*/</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F53 <code>next()</code> \u65B9\u6CD5\u914D\u5408\u6307\u5B9A\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u4F7F\u7528\u65F6\uFF0C\u5C06\u627E\u5230\u4E0B\u4E00\u4E2A\u5339\u914D\u8BE5\u6A21\u5F0F\u7684\u8F93\u5165\u90E8\u5206\uFF0C\u8C03\u7528 <code>match()</code> \u65B9\u6CD5\u5C31\u53EF\u4EE5\u83B7\u5F97\u5339\u914D\u7684\u7ED3\u679C\u3002\u5982\u4E0A\u6240\u793A\uFF0C\u5B83\u7684\u5DE5\u4F5C\u65B9\u5F0F\u4E0E\u4E4B\u524D\u770B\u5230\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u5339\u914D\u76F8\u4F3C\u3002</p><p>\u5728\u914D\u5408\u6B63\u5219\u8868\u8FBE\u5F0F\u4F7F\u7528\u626B\u63CF\u65F6\uFF0C\u6709\u4E00\u70B9\u9700\u8981\u6CE8\u610F\uFF1A\u5B83\u4EC5\u4EC5\u9488\u5BF9\u4E0B\u4E00\u4E2A\u8F93\u5165\u5206\u8BCD\u8FDB\u884C\u5339\u914D\uFF0C\u5982\u679C\u4F60\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u4E2D\u542B\u6709\u5206\u9694\u7B26\uFF0C\u90A3\u6C38\u8FDC\u4E0D\u53EF\u80FD\u5339\u914D\u6210\u529F\u3002</p><h2 id="stringtokenizer\u7C7B" tabindex="-1"><a class="header-anchor" href="#stringtokenizer\u7C7B" aria-hidden="true">#</a> StringTokenizer\u7C7B</h2><p>\u5728 Java \u5F15\u5165\u6B63\u5219\u8868\u8FBE\u5F0F\uFF08J2SE1.4\uFF09\u548C <code>Scanner</code> \u7C7B\uFF08Java SE5\uFF09\u4E4B\u524D\uFF0C\u5206\u5272\u5B57\u7B26\u4E32\u7684\u552F\u4E00\u65B9\u6CD5\u662F\u4F7F\u7528 <code>StringTokenizer</code> \u6765\u5206\u8BCD\u3002\u4E0D\u8FC7\uFF0C\u73B0\u5728\u6709\u4E86\u6B63\u5219\u8868\u8FBE\u5F0F\u548C <code>Scanner</code>\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u66F4\u52A0\u7B80\u5355\u3001\u66F4\u52A0\u7B80\u6D01\u7684\u65B9\u5F0F\u6765\u5B8C\u6210\u540C\u6837\u7684\u5DE5\u4F5C\u4E86\u3002\u4E0B\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C\u6211\u4EEC\u5C06 <code>StringTokenizer</code> \u4E0E\u53E6\u5916\u4E24\u79CD\u6280\u672F\u7B80\u5355\u5730\u505A\u4E86\u4E00\u4E2A\u6BD4\u8F83\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// strings/ReplacingStringTokenizer.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReplacingStringTokenizer</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">String</span> input <span class="token operator">=</span>       
          <span class="token string">&quot;But I&#39;m not dead yet! I feel happy!&quot;</span><span class="token punctuation">;</span>     
        <span class="token class-name">StringTokenizer</span> stoke <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTokenizer</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>stoke<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>stoke<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
But I&#39;m not dead yet! I feel happy! 
[But, I&#39;m, not, dead, yet!, I, feel, happy!] 
But I&#39;m not dead yet! I feel happy! 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u6216 <code>Scanner</code> \u5BF9\u8C61\uFF0C\u6211\u4EEC\u80FD\u591F\u4EE5\u66F4\u52A0\u590D\u6742\u7684\u6A21\u5F0F\u6765\u5206\u5272\u4E00\u4E2A\u5B57\u7B26\u4E32\uFF0C\u800C\u8FD9\u5BF9\u4E8E <code>StringTokenizer</code> \u6765\u8BF4\u5C31\u5F88\u56F0\u96BE\u4E86\u3002\u57FA\u672C\u4E0A\uFF0C\u6211\u4EEC\u53EF\u4EE5\u653E\u5FC3\u5730\u8BF4\uFF0C<code>StringTokenizer</code> \u5DF2\u7ECF\u53EF\u4EE5\u5E9F\u5F03\u4E0D\u7528\u4E86\u3002</p><h2 id="\u672C\u7AE0\u5C0F\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u672C\u7AE0\u5C0F\u7ED3" aria-hidden="true">#</a> \u672C\u7AE0\u5C0F\u7ED3</h2><p>\u8FC7\u53BB\uFF0CJava \u5BF9\u4E8E\u5B57\u7B26\u4E32\u64CD\u4F5C\u7684\u6280\u672F\u76F8\u5F53\u4E0D\u5B8C\u5584\u3002\u4E0D\u8FC7\u968F\u7740\u8FD1\u51E0\u4E2A\u7248\u672C\u7684\u5347\u7EA7\uFF0C\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\uFF0CJava \u5DF2\u7ECF\u4ECE\u5176\u4ED6\u8BED\u8A00\u4E2D\u5438\u53D6\u4E86\u8BB8\u591A\u6210\u719F\u7684\u7ECF\u9A8C\u3002\u5230\u76EE\u524D\u4E3A\u6B62\uFF0C\u5B83\u5BF9\u5B57\u7B26\u4E32\u64CD\u4F5C\u7684\u652F\u6301\u5DF2\u7ECF\u5F88\u5B8C\u5584\u4E86\u3002\u4E0D\u8FC7\uFF0C\u6709\u65F6\u4F60\u8FD8\u8981\u5728\u7EC6\u8282\u4E0A\u6CE8\u610F\u6548\u7387\u95EE\u9898\uFF0C\u4F8B\u5982\u6070\u5F53\u5730\u4F7F\u7528 <code>StringBuilder</code> \u7B49\u3002</p><p>[^1]: C++\u5141\u8BB8\u7F16\u7A0B\u4EBA\u5458\u4EFB\u610F\u91CD\u8F7D\u64CD\u4F5C\u7B26\u3002\u8FD9\u901A\u5E38\u662F\u5F88\u590D\u6742\u7684\u8FC7\u7A0B\uFF08\u53C2\u89C1Prentice Hall\u4E8E2000\u5E74\u7F16\u5199\u7684\u300AThinking in C++\uFF08\u7B2C2\u7248\uFF09\u300B\u7B2C10\u7AE0\uFF09\uFF0C\u56E0\u6B64Java\u8BBE\u8BA1\u8005\u8BA4\u4E3A\u8FD9\u662F\u5F88\u7CDF\u7CD5\u7684\u529F\u80FD\uFF0C\u4E0D\u5E94\u8BE5\u7EB3\u5165\u5230Java\u4E2D\u3002\u8D77\u59CB\u91CD\u8F7D\u64CD\u4F5C\u7B26\u5E76\u6CA1\u6709\u7CDF\u7CD5\u5230\u53EA\u80FD\u81EA\u5DF1\u53BB\u91CD\u8F7D\u7684\u5730\u6B65\uFF0C\u4F46\u5177\u6709\u8BBD\u523A\u610F\u5473\u7684\u662F\uFF0C\u4E0EC++\u76F8\u6BD4\uFF0C\u5728Java\u4E2D\u4F7F\u7528\u64CD\u4F5C\u7B26\u91CD\u8F7D\u8981\u5BB9\u6613\u5F97\u591A\u3002\u8FD9\u4E00\u70B9\u53EF\u4EE5\u5728Python(\u53C2\u89C1<a href="http://www.python.org" target="_blank" rel="noopener noreferrer">www.Python.org</a>)\u548CC#\u4E2D\u770B\u5230\uFF0C\u5B83\u4EEC\u90FD\u6709\u5783\u573E\u56DE\u6536\u673A\u5236\uFF0C\u64CD\u4F5C\u7B26\u91CD\u8F7D\u4E5F\u7B80\u5355\u6613\u61C2\u3002</p><p>[^4]: input\u6765\u81EA\u4E8E<a href="https://en.wikipedia.org/wiki/Galaxy_Quest" target="_blank" rel="noopener noreferrer">Galaxy Quest</a>\u4E2DTaggart\u53F8\u4EE4\u7684\u4E00\u7BC7\u6F14\u8BB2\u3002</p><div style="page-break-after:always;"></div>`,24);function In(Cn,Pn){const t=c("RouterLink");return i(),l("div",null,[d,s("p",null,[r,k,v,m,e(t,{to:"/docs/reprint/onjava8/book/24-Concurrent-Programming.html"},{default:p(()=>[b]),_:1}),g,f,h]),y,s("p",null,[q,w,S,x,j,E,_,e(t,{to:"/docs/reprint/onjava8/book/Appendix-IO-Streams.html"},{default:p(()=>[B]),_:1}),A,T,I,C,P,R,O,F,J]),D,s("p",null,[M,e(t,{to:"/docs/reprint/onjava8/book/Appendix-IO-Streams.html"},{default:p(()=>[N]),_:1}),L]),X,s("p",null,[z,W,U,e(t,{to:"/docs/reprint/onjava8/book/17-Files.html"},{default:p(()=>[H]),_:1}),V,G,$,K,Q]),Y,s("p",null,[Z,e(t,{to:"/docs/reprint/onjava8/book/17-Files.html"},{default:p(()=>[nn]),_:1}),sn,an,tn,en,pn,on,cn,ln,un]),dn,s("p",null,[rn,kn,vn,mn,e(t,{to:"/docs/reprint/onjava8/book/Appendix-IO-Streams.html"},{default:p(()=>[bn]),_:1}),gn,fn,hn,yn,qn,wn,Sn,xn,jn,En,_n,Bn,An]),Tn])}var On=o(u,[["render",In],["__file","18-Strings.html.vue"]]);export{On as default};
