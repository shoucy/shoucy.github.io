import{_ as n,o as s,c as a,e as p}from"./app.205a3d76.js";const t={},e=p(`<p>[TOC]</p><h1 id="\u7B2C\u4E8C\u5341\u4E8C\u7AE0-\u679A\u4E3E" tabindex="-1"><a class="header-anchor" href="#\u7B2C\u4E8C\u5341\u4E8C\u7AE0-\u679A\u4E3E" aria-hidden="true">#</a> \u7B2C\u4E8C\u5341\u4E8C\u7AE0 \u679A\u4E3E</h1><blockquote><p>\u5173\u952E\u5B57 enum \u53EF\u4EE5\u5C06\u4E00\u7EC4\u5177\u540D\u7684\u503C\u7684\u6709\u9650\u96C6\u5408\u521B\u5EFA\u4E3A\u4E00\u79CD\u65B0\u7684\u7C7B\u578B\uFF0C\u800C\u8FD9\u4E9B\u5177\u540D\u7684\u503C\u53EF\u4EE5\u4F5C\u4E3A\u5E38\u89C4\u7684\u7A0B\u5E8F\u7EC4\u4EF6\u4F7F\u7528\u3002\u8FD9\u662F\u4E00\u79CD\u975E\u5E38\u6709\u7528\u7684\u529F\u80FD</p></blockquote><p>\u5728<a href="">\u521D\u59CB\u5316\u548C\u6E05\u7406 </a> \u8FD9\u7AE0\u7ED3\u675F\u7684\u65F6\u5019\uFF0C\u6211\u4EEC\u5DF2\u7ECF\u7B80\u5355\u5730\u4ECB\u7ECD\u4E86\u679A\u4E3E\u7684\u6982\u5FF5\u3002\u73B0\u5728\uFF0C\u4F60\u5BF9 Java \u5DF2\u7ECF\u6709\u4E86\u66F4\u6DF1\u523B\u7684\u7406\u89E3\uFF0C\u56E0\u6B64\u53EF\u4EE5\u66F4\u6DF1\u5165\u5730\u5B66\u4E60 Java \u4E2D\u7684\u679A\u4E3E\u4E86\u3002\u4F60\u5C06\u5728\u672C\u7AE0\u4E2D\u770B\u5230\uFF0C\u4F7F\u7528 enum \u53EF\u4EE5\u505A\u5F88\u591A\u6709\u8DA3\u7684\u4E8B\u60C5\uFF0C\u540C\u65F6\uFF0C\u6211\u4EEC\u4E5F\u4F1A\u6DF1\u5165\u5176\u4ED6\u7684 Java \u7279\u6027\uFF0C\u4F8B\u5982\u6CDB\u578B\u548C\u53CD\u5C04\u3002\u5728\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\uFF0C\u6211\u4EEC\u8FD8\u5C06\u5B66\u4E60\u4E00\u4E9B\u8BBE\u8BA1\u6A21\u5F0F\u3002</p><h2 id="\u57FA\u672C-enum-\u7279\u6027" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C-enum-\u7279\u6027" aria-hidden="true">#</a> \u57FA\u672C enum \u7279\u6027</h2><p>\u6211\u4EEC\u5DF2\u7ECF\u5728<a href="">\u521D\u59CB\u5316\u548C\u6E05\u7406 </a> \u8FD9\u7AE0\u7AE0\u770B\u5230\uFF0C\u8C03\u7528 enum \u7684 values() \u65B9\u6CD5\uFF0C\u53EF\u4EE5\u904D\u5386 enum \u5B9E\u4F8B .values() \u65B9\u6CD5\u8FD4\u56DE enum \u5B9E\u4F8B\u7684\u6570\u7EC4\uFF0C\u800C\u4E14\u8BE5\u6570\u7EC4\u4E2D\u7684\u5143\u7D20\u4E25\u683C\u4FDD\u6301\u5176\u5728 enum \u4E2D\u58F0\u660E\u65F6\u7684\u987A\u5E8F\uFF0C\u56E0\u6B64\u4F60\u53EF\u4EE5\u5728\u5FAA\u73AF\u4E2D\u4F7F\u7528 values() \u8FD4\u56DE\u7684\u6570\u7EC4\u3002</p><p>\u521B\u5EFA enum \u65F6\uFF0C\u7F16\u8BD1\u5668\u4F1A\u4E3A\u4F60\u751F\u6210\u4E00\u4E2A\u76F8\u5173\u7684\u7C7B\uFF0C\u8FD9\u4E2A\u7C7B\u7EE7\u627F\u81EA Java.lang.Enum\u3002\u4E0B\u9762\u7684\u4F8B\u5B50\u6F14\u793A\u4E86 Enum \u63D0\u4F9B\u7684\u4E00\u4E9B\u529F\u80FD\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/EnumClass.java</span>
<span class="token comment">// Capabilities of the Enum class</span>
<span class="token keyword">enum</span> <span class="token class-name">Shrubbery</span> <span class="token punctuation">{</span> GROUND<span class="token punctuation">,</span> CRAWLING<span class="token punctuation">,</span> HANGING <span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnumClass</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Shrubbery</span> s <span class="token operator">:</span> <span class="token class-name">Shrubbery</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                    s <span class="token operator">+</span> <span class="token string">&quot; ordinal: &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">.</span><span class="token function">ordinal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>
                    s<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Shrubbery</span><span class="token punctuation">.</span>CRAWLING<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>
                    s<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Shrubbery</span><span class="token punctuation">.</span>CRAWLING<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token class-name">Shrubbery</span><span class="token punctuation">.</span>CRAWLING<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">getDeclaringClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;********************&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token comment">// Produce an enum value from a String name:</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span>
                <span class="token string">&quot;HANGING CRAWLING GROUND&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Shrubbery</span> shrub <span class="token operator">=</span>
                    <span class="token class-name">Enum</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token class-name">Shrubbery</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>shrub<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>GROUND ordinal: 0
-1 false false
class Shrubbery
GROUND
********************
CRAWLING ordinal: 1
0 true true
class Shrubbery
CRAWLING
********************
HANGING ordinal: 2
1 false false
class Shrubbery
HANGING
********************
HANGING
CRAWLING
GROUND
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ordinal() \u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A int \u503C\uFF0C\u8FD9\u662F\u6BCF\u4E2A enum \u5B9E\u4F8B\u5728\u58F0\u660E\u65F6\u7684\u6B21\u5E8F\uFF0C\u4ECE 0 \u5F00\u59CB\u3002\u53EF\u4EE5\u4F7F\u7528==\u6765\u6BD4\u8F83 enum \u5B9E\u4F8B\uFF0C\u7F16\u8BD1\u5668\u4F1A\u81EA\u52A8\u4E3A\u4F60\u63D0\u4F9B equals() \u548C hashCode() \u65B9\u6CD5\u3002Enum \u7C7B\u5B9E\u73B0\u4E86 Comparable \u63A5\u53E3\uFF0C\u6240\u4EE5\u5B83\u5177\u6709 compareTo() \u65B9\u6CD5\u3002\u540C\u65F6\uFF0C\u5B83\u8FD8\u5B9E\u73B0\u4E86 Serializable \u63A5\u53E3\u3002</p><p>\u5982\u679C\u5728 enum \u5B9E\u4F8B\u4E0A\u8C03\u7528 getDeclaringClass() \u65B9\u6CD5\uFF0C\u6211\u4EEC\u5C31\u80FD\u77E5\u9053\u5176\u6240\u5C5E\u7684 enum \u7C7B\u3002</p><p>name() \u65B9\u6CD5\u8FD4\u56DE enum \u5B9E\u4F8B\u58F0\u660E\u65F6\u7684\u540D\u5B57\uFF0C\u8FD9\u4E0E\u4F7F\u7528 toString() \u65B9\u6CD5\u6548\u679C\u76F8\u540C\u3002valueOf() \u662F\u5728 Enum \u4E2D\u5B9A\u4E49\u7684 static \u65B9\u6CD5\uFF0C\u5B83\u6839\u636E\u7ED9\u5B9A\u7684\u540D\u5B57\u8FD4\u56DE\u76F8\u5E94\u7684 enum \u5B9E\u4F8B\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\u7ED9\u5B9A\u540D\u5B57\u7684\u5B9E\u4F8B\uFF0C\u5C06\u4F1A\u629B\u51FA\u5F02\u5E38\u3002</p><h3 id="\u5C06\u9759\u6001\u7C7B\u578B\u5BFC\u5165\u7528\u4E8E-enum" tabindex="-1"><a class="header-anchor" href="#\u5C06\u9759\u6001\u7C7B\u578B\u5BFC\u5165\u7528\u4E8E-enum" aria-hidden="true">#</a> \u5C06\u9759\u6001\u7C7B\u578B\u5BFC\u5165\u7528\u4E8E enum</h3><p>\u5148\u770B\u4E00\u770B <a href="">\u521D\u59CB\u5316\u548C\u6E05\u7406 </a> \u8FD9\u7AE0\u4E2D Burrito.java \u7684\u53E6\u4E00\u4E2A\u7248\u672C\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/SpicinessEnum.java</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">SpicinessEnum</span> <span class="token punctuation">{</span>
    NOT<span class="token punctuation">,</span> MILD<span class="token punctuation">,</span> MEDIUM<span class="token punctuation">,</span> HOT<span class="token punctuation">,</span> FLAMING
<span class="token punctuation">}</span>
<span class="token comment">// enums/Burrito2.java</span>
<span class="token comment">// {java enums.Burrito2}</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">enums<span class="token punctuation">.</span></span><span class="token class-name">SpicinessEnum</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Burrito2</span> <span class="token punctuation">{</span>
    <span class="token class-name">SpicinessEnum</span> degree<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Burrito2</span><span class="token punctuation">(</span><span class="token class-name">SpicinessEnum</span> degree<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>degree <span class="token operator">=</span> degree<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Burrito is &quot;</span><span class="token operator">+</span> degree<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Burrito2</span><span class="token punctuation">(</span>NOT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Burrito2</span><span class="token punctuation">(</span>MEDIUM<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Burrito2</span><span class="token punctuation">(</span>HOT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Burrito is NOT
Burrito is MEDIUM
Burrito is HOT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528 static import \u80FD\u591F\u5C06 enum \u5B9E\u4F8B\u7684\u6807\u8BC6\u7B26\u5E26\u5165\u5F53\u524D\u7684\u547D\u540D\u7A7A\u95F4\uFF0C\u6240\u4EE5\u65E0\u9700\u518D\u7528 enum \u7C7B\u578B\u6765\u4FEE\u9970 enum \u5B9E\u4F8B\u3002\u8FD9\u662F\u4E00\u4E2A\u597D\u7684\u60F3\u6CD5\u5417\uFF1F\u6216\u8005\u8FD8\u662F\u663E\u5F0F\u5730\u4FEE\u9970 enum \u5B9E\u4F8B\u66F4\u597D\uFF1F\u8FD9\u8981\u770B\u4EE3\u7801\u7684\u590D\u6742\u7A0B\u5EA6\u4E86\u3002\u7F16\u8BD1\u5668\u53EF\u4EE5\u786E\u4FDD\u4F60\u4F7F\u7528\u7684\u662F\u6B63\u786E\u7684\u7C7B\u578B\uFF0C\u6240\u4EE5\u552F\u4E00\u9700\u8981\u62C5\u5FC3\u7684\u662F\uFF0C\u4F7F\u7528\u9759\u6001\u5BFC\u5165\u4F1A\u4E0D\u4F1A\u5BFC\u81F4\u4F60\u7684\u4EE3\u7801\u4EE4\u4EBA\u96BE\u4EE5\u7406\u89E3\u3002\u591A\u6570\u60C5\u51B5\u4E0B\uFF0C\u4F7F\u7528 static import \u8FD8\u662F\u6709\u597D\u5904\u7684\uFF0C\u4E0D\u8FC7\uFF0C\u7A0B\u5E8F\u5458\u8FD8\u662F\u5E94\u8BE5\u5BF9\u5177\u4F53\u60C5\u51B5\u8FDB\u884C\u5177\u4F53\u5206\u6790\u3002</p><p>\u6CE8\u610F\uFF0C\u5728\u5B9A\u4E49 enum \u7684\u540C\u4E00\u4E2A\u6587\u4EF6\u4E2D\uFF0C\u8FD9\u79CD\u6280\u5DE7\u65E0\u6CD5\u4F7F\u7528\uFF0C\u5982\u679C\u662F\u5728\u9ED8\u8BA4\u5305\u4E2D\u5B9A\u4E49 enum\uFF0C\u8FD9\u79CD\u6280\u5DE7\u4E5F\u65E0\u6CD5\u4F7F\u7528\uFF08\u5728 Sun \u5185\u90E8\u5BF9\u8FD9\u4E00\u70B9\u663E\u7136\u4E5F\u6709\u4E0D\u540C\u610F\u89C1\uFF09\u3002</p><h2 id="\u65B9\u6CD5\u6DFB\u52A0" tabindex="-1"><a class="header-anchor" href="#\u65B9\u6CD5\u6DFB\u52A0" aria-hidden="true">#</a> \u65B9\u6CD5\u6DFB\u52A0</h2><p>\u9664\u4E86\u4E0D\u80FD\u7EE7\u627F\u81EA\u4E00\u4E2A enum \u4E4B\u5916\uFF0C\u6211\u4EEC\u57FA\u672C\u4E0A\u53EF\u4EE5\u5C06 enum \u770B\u4F5C\u4E00\u4E2A\u5E38\u89C4\u7684\u7C7B\u3002\u4E5F\u5C31\u662F\u8BF4\u6211\u4EEC\u53EF\u4EE5\u5411 enum \u4E2D\u6DFB\u52A0\u65B9\u6CD5\u3002enum \u751A\u81F3\u53EF\u4EE5\u6709 main() \u65B9\u6CD5\u3002</p><p>\u4E00\u822C\u6765\u8BF4\uFF0C\u6211\u4EEC\u5E0C\u671B\u6BCF\u4E2A\u679A\u4E3E\u5B9E\u4F8B\u80FD\u591F\u8FD4\u56DE\u5BF9\u81EA\u8EAB\u7684\u63CF\u8FF0\uFF0C\u800C\u4E0D\u4EC5\u4EC5\u53EA\u662F\u9ED8\u8BA4\u7684 toString() \u5B9E\u73B0\uFF0C\u8FD9\u53EA\u80FD\u8FD4\u56DE\u679A\u4E3E\u5B9E\u4F8B\u7684\u540D\u5B57\u3002\u4E3A\u6B64\uFF0C\u4F60\u53EF\u4EE5\u63D0\u4F9B\u4E00\u4E2A\u6784\u9020\u5668\uFF0C\u4E13\u95E8\u8D1F\u8D23\u5904\u7406\u8FD9\u4E2A\u989D\u5916\u7684\u4FE1\u606F\uFF0C\u7136\u540E\u6DFB\u52A0\u4E00\u4E2A\u65B9\u6CD5\uFF0C\u8FD4\u56DE\u8FD9\u4E2A\u63CF\u8FF0\u4FE1\u606F\u3002\u770B\u4E00\u770B\u4E0B\u9762\u7684\u793A\u4F8B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/OzWitch.java</span>
<span class="token comment">// The witches in the land of Oz</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">OzWitch</span> <span class="token punctuation">{</span>
    <span class="token comment">// Instances must be defined first, before methods:</span>
    <span class="token function">WEST</span><span class="token punctuation">(</span><span class="token string">&quot;Miss Gulch, aka the Wicked Witch of the West&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">NORTH</span><span class="token punctuation">(</span><span class="token string">&quot;Glinda, the Good Witch of the North&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">EAST</span><span class="token punctuation">(</span><span class="token string">&quot;Wicked Witch of the East, wearer of the Ruby &quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;Slippers, crushed by Dorothy&#39;s house&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SOUTH</span><span class="token punctuation">(</span><span class="token string">&quot;Good by inference, but missing&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
    <span class="token comment">// Constructor must be package or private access:</span>
    <span class="token keyword">private</span> <span class="token class-name">OzWitch</span><span class="token punctuation">(</span><span class="token class-name">String</span> description<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> description<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">OzWitch</span> witch <span class="token operator">:</span> <span class="token class-name">OzWitch</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                    witch <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> witch<span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>WEST: Miss Gulch, aka the Wicked Witch of the West
NORTH: Glinda, the Good Witch of the North
EAST: Wicked Witch of the East, wearer of the Ruby
Slippers, crushed by Dorothy&#39;s house
SOUTH: Good by inference, but missing
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\uFF0C\u5982\u679C\u4F60\u6253\u7B97\u5B9A\u4E49\u81EA\u5DF1\u7684\u65B9\u6CD5\uFF0C\u90A3\u4E48\u5FC5\u987B\u5728 enum \u5B9E\u4F8B\u5E8F\u5217\u7684\u6700\u540E\u6DFB\u52A0\u4E00\u4E2A\u5206\u53F7\u3002\u540C\u65F6\uFF0CJava \u8981\u6C42\u4F60\u5FC5\u987B\u5148\u5B9A\u4E49 enum \u5B9E\u4F8B\u3002\u5982\u679C\u5728\u5B9A\u4E49 enum \u5B9E\u4F8B\u4E4B\u524D\u5B9A\u4E49\u4E86\u4EFB\u4F55\u65B9\u6CD5\u6216\u5C5E\u6027\uFF0C\u90A3\u4E48\u5728\u7F16\u8BD1\u65F6\u5C31\u4F1A\u5F97\u5230\u9519\u8BEF\u4FE1\u606F\u3002</p><p>enum \u4E2D\u7684\u6784\u9020\u5668\u4E0E\u65B9\u6CD5\u548C\u666E\u901A\u7684\u7C7B\u6CA1\u6709\u533A\u522B\uFF0C\u56E0\u4E3A\u9664\u4E86\u6709\u5C11\u8BB8\u9650\u5236\u4E4B\u5916\uFF0Cenum \u5C31\u662F\u4E00\u4E2A\u666E\u901A\u7684\u7C7B\u3002\u6240\u4EE5\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 enum \u505A\u8BB8\u591A\u4E8B\u60C5\uFF08\u867D\u7136\uFF0C\u6211\u4EEC\u4E00\u822C\u53EA\u4F7F\u7528\u666E\u901A\u7684\u679A\u4E3E\u7C7B\u578B\uFF09</p><p>\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u867D\u7136\u6211\u4EEC\u6709\u610F\u8BC6\u5730\u5C06 enum \u7684\u6784\u9020\u5668\u58F0\u660E\u4E3A private\uFF0C\u4F46\u5BF9\u4E8E\u5B83\u7684\u53EF\u8BBF\u95EE\u6027\u800C\u8A00\uFF0C\u5176\u5B9E\u5E76\u6CA1\u6709\u4EC0\u4E48\u53D8\u5316\uFF0C\u56E0\u4E3A\uFF08\u5373\u4F7F\u4E0D\u58F0\u660E\u4E3A private\uFF09\u6211\u4EEC\u53EA\u80FD\u5728 enum \u5B9A\u4E49\u7684\u5185\u90E8\u4F7F\u7528\u5176\u6784\u9020\u5668\u521B\u5EFA enum \u5B9E\u4F8B\u3002\u4E00\u65E6 enum \u7684\u5B9A\u4E49\u7ED3\u675F\uFF0C\u7F16\u8BD1\u5668\u5C31\u4E0D\u5141\u8BB8\u6211\u4EEC\u518D\u4F7F\u7528\u5176\u6784\u9020\u5668\u6765\u521B\u5EFA\u4EFB\u4F55\u5B9E\u4F8B\u4E86\u3002</p><h3 id="\u8986\u76D6-enum-\u7684\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u8986\u76D6-enum-\u7684\u65B9\u6CD5" aria-hidden="true">#</a> \u8986\u76D6 enum \u7684\u65B9\u6CD5</h3><p>\u8986\u76D6 toSring() \u65B9\u6CD5\uFF0C\u7ED9\u6211\u4EEC\u63D0\u4F9B\u4E86\u53E6\u4E00\u79CD\u65B9\u5F0F\u6765\u4E3A\u679A\u4E3E\u5B9E\u4F8B\u751F\u6210\u4E0D\u540C\u7684\u5B57\u7B26\u4E32\u63CF\u8FF0\u4FE1\u606F\u3002 \u5728\u4E0B\u9762\u7684\u793A\u4F8B\u4E2D\uFF0C\u6211\u4EEC\u4F7F\u7528\u7684\u5C31\u662F\u5B9E\u4F8B\u7684\u540D\u5B57\uFF0C\u4E0D\u8FC7\u6211\u4EEC\u5E0C\u671B\u6539\u53D8\u5176\u683C\u5F0F\u3002\u8986\u76D6 enum \u7684 toSring() \u65B9\u6CD5\u4E0E\u8986\u76D6\u4E00\u822C\u7C7B\u7684\u65B9\u6CD5\u6CA1\u6709\u533A\u522B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/SpaceShip.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">SpaceShip</span> <span class="token punctuation">{</span>
    SCOUT<span class="token punctuation">,</span> CARGO<span class="token punctuation">,</span> TRANSPORT<span class="token punctuation">,</span>
    CRUISER<span class="token punctuation">,</span> BATTLESHIP<span class="token punctuation">,</span> MOTHERSHIP<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> id <span class="token operator">=</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> lower <span class="token operator">=</span> id<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> id<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> lower<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Scout
Cargo
Transport
Cruiser
Battleship
Mothership
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>toString() \u65B9\u6CD5\u901A\u8FC7\u8C03\u7528 name() \u65B9\u6CD5\u53D6\u5F97 SpaceShip \u7684\u540D\u5B57\uFF0C\u7136\u540E\u5C06\u5176\u4FEE\u6539\u4E3A\u53EA\u6709\u9996\u5B57\u6BCD\u5927\u5199\u7684\u683C\u5F0F\u3002</p><h2 id="switch-\u8BED\u53E5\u4E2D\u7684-enum" tabindex="-1"><a class="header-anchor" href="#switch-\u8BED\u53E5\u4E2D\u7684-enum" aria-hidden="true">#</a> switch \u8BED\u53E5\u4E2D\u7684 enum</h2><p>\u5728 switch \u4E2D\u4F7F\u7528 enum\uFF0C\u662F enum \u63D0\u4F9B\u7684\u4E00\u9879\u975E\u5E38\u4FBF\u5229\u7684\u529F\u80FD\u3002\u4E00\u822C\u6765\u8BF4\uFF0C\u5728 switch \u4E2D\u53EA\u80FD\u4F7F\u7528\u6574\u6570\u503C\uFF0C\u800C\u679A\u4E3E\u5B9E\u4F8B\u5929\u751F\u5C31\u5177\u5907\u6574\u6570\u503C\u7684\u6B21\u5E8F\uFF0C\u5E76\u4E14\u53EF\u4EE5\u901A\u8FC7 ordinal() \u65B9\u6CD5\u53D6\u5F97\u5176\u6B21\u5E8F\uFF08\u663E\u7136\u7F16\u8BD1\u5668\u5E2E\u6211\u4EEC\u505A\u4E86\u7C7B\u4F3C\u7684\u5DE5\u4F5C\uFF09\uFF0C\u56E0\u6B64\u6211\u4EEC\u53EF\u4EE5\u5728 switch \u8BED\u53E5\u4E2D\u4F7F\u7528 enum\u3002</p><p>\u867D\u7136\u4E00\u822C\u60C5\u51B5\u4E0B\u6211\u4EEC\u5FC5\u987B\u4F7F\u7528 enum \u7C7B\u578B\u6765\u4FEE\u9970\u4E00\u4E2A enum \u5B9E\u4F8B\uFF0C\u4F46\u662F\u5728 case \u8BED\u53E5\u4E2D\u5374\u4E0D\u5FC5\u5982\u6B64\u3002\u4E0B\u9762\u7684\u4F8B\u5B50\u4F7F\u7528 enum \u6784\u9020\u4E86\u4E00\u4E2A\u5C0F\u578B\u72B6\u6001\u673A\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/TrafficLight.java</span>
<span class="token comment">// Enums in switch statements</span>
<span class="token comment">// Define an enum type:</span>
<span class="token keyword">enum</span> <span class="token class-name">Signal</span> <span class="token punctuation">{</span> GREEN<span class="token punctuation">,</span> YELLOW<span class="token punctuation">,</span> RED<span class="token punctuation">,</span> <span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TrafficLight</span> <span class="token punctuation">{</span>
    <span class="token class-name">Signal</span> color <span class="token operator">=</span> <span class="token class-name">Signal</span><span class="token punctuation">.</span>RED<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token comment">// Note you don&#39;t have to say Signal.RED</span>
            <span class="token comment">// in the case statement:</span>
            <span class="token keyword">case</span> RED<span class="token operator">:</span> color <span class="token operator">=</span> <span class="token class-name">Signal</span><span class="token punctuation">.</span>GREEN<span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> GREEN<span class="token operator">:</span> color <span class="token operator">=</span> <span class="token class-name">Signal</span><span class="token punctuation">.</span>YELLOW<span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> YELLOW<span class="token operator">:</span> color <span class="token operator">=</span> <span class="token class-name">Signal</span><span class="token punctuation">.</span>RED<span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;The traffic light is &quot;</span> <span class="token operator">+</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TrafficLight</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrafficLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">7</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
            t<span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>The traffic light is RED
The traffic light is GREEN
The traffic light is YELLOW
The traffic light is RED
The traffic light is GREEN
The traffic light is YELLOW
The traffic light is RED
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7F16\u8BD1\u5668\u5E76\u6CA1\u6709\u62B1\u6028 switch \u4E2D\u6CA1\u6709 default \u8BED\u53E5\uFF0C\u4F46\u8FD9\u5E76\u4E0D\u662F\u56E0\u4E3A\u6BCF\u4E00\u4E2A Signal \u90FD\u6709\u5BF9\u5E94\u7684 case \u8BED\u53E5\u3002\u5982\u679C\u4F60\u6CE8\u91CA\u6389\u5176\u4E2D\u7684\u67D0\u4E2A case \u8BED\u53E5\uFF0C\u7F16\u8BD1\u5668\u540C\u6837\u4E0D\u4F1A\u62B1\u6028\u4EC0\u4E48\u3002\u8FD9\u610F\u5473\u7740\uFF0C\u4F60\u5FC5\u987B\u786E\u4FDD\u81EA\u5DF1\u8986\u76D6\u4E86\u6240\u6709\u7684\u5206\u652F\u3002\u4F46\u662F\uFF0C\u5982\u679C\u5728 case \u8BED\u53E5\u4E2D\u8C03\u7528 return\uFF0C\u90A3\u4E48\u7F16\u8BD1\u5668\u5C31\u4F1A\u62B1\u6028\u7F3A\u5C11 default \u8BED\u53E5\u4E86\u3002\u8FD9\u4E0E\u662F\u5426\u8986\u76D6\u4E86 enum \u7684\u6240\u6709\u5B9E\u4F8B\u65E0\u5173\u3002</p><h2 id="values-\u65B9\u6CD5\u7684\u795E\u79D8\u4E4B\u5904" tabindex="-1"><a class="header-anchor" href="#values-\u65B9\u6CD5\u7684\u795E\u79D8\u4E4B\u5904" aria-hidden="true">#</a> values \u65B9\u6CD5\u7684\u795E\u79D8\u4E4B\u5904</h2><p>\u524D\u9762\u5DF2\u7ECF\u63D0\u5230\uFF0C\u7F16\u8BD1\u5668\u4E3A\u4F60\u521B\u5EFA\u7684 enum \u7C7B\u90FD\u7EE7\u627F\u81EA Enum \u7C7B\u3002\u7136\u800C\uFF0C\u5982\u679C\u4F60\u7814\u7A76\u4E00\u4E0B Enum \u7C7B\u5C31\u4F1A\u53D1\u73B0\uFF0C\u5B83\u5E76\u6CA1\u6709 values() \u65B9\u6CD5\u3002\u53EF\u6211\u4EEC\u660E\u660E\u5DF2\u7ECF\u7528\u8FC7\u8BE5\u65B9\u6CD5\u4E86\uFF0C\u96BE\u9053\u5B58\u5728\u67D0\u79CD\u201C\u9690\u85CF\u7684\u201D\u65B9\u6CD5\u5417\uFF1F\u6211\u4EEC\u53EF\u4EE5\u5229\u7528\u53CD\u5C04\u673A\u5236\u7F16\u5199\u4E00\u4E2A\u7B80\u5355\u7684\u7A0B\u5E8F\uFF0C\u6765\u67E5\u770B\u5176\u4E2D\u7684\u7A76\u7ADF\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/Reflection.java</span>
<span class="token comment">// Analyzing enums using reflection</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">enum</span> <span class="token class-name">Explore</span> <span class="token punctuation">{</span> HERE<span class="token punctuation">,</span> THERE <span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Reflection</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">analyze</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> enumClass<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                <span class="token string">&quot;_____ Analyzing &quot;</span> <span class="token operator">+</span> enumClass <span class="token operator">+</span> <span class="token string">&quot; _____&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Interfaces:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Type</span> t <span class="token operator">:</span> enumClass<span class="token punctuation">.</span><span class="token function">getGenericInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                <span class="token string">&quot;Base: &quot;</span> <span class="token operator">+</span> enumClass<span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Methods: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> methods <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Method</span> m <span class="token operator">:</span> enumClass<span class="token punctuation">.</span><span class="token function">getMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            methods<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>methods<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> methods<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> exploreMethods <span class="token operator">=</span>
                <span class="token function">analyze</span><span class="token punctuation">(</span><span class="token class-name">Explore</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> enumMethods <span class="token operator">=</span> <span class="token function">analyze</span><span class="token punctuation">(</span><span class="token class-name">Enum</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                <span class="token string">&quot;Explore.containsAll(Enum)? &quot;</span> <span class="token operator">+</span>
                        exploreMethods<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>enumMethods<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Explore.removeAll(Enum): &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        exploreMethods<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>enumMethods<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>exploreMethods<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Decompile the code for the enum:</span>
        <span class="token class-name">OSExecute</span><span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span>
                <span class="token string">&quot;javap -cp build/classes/main Explore&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>_____ <span class="token class-name">Analyzing</span> <span class="token keyword">class</span> <span class="token class-name">Explore</span> _____
<span class="token class-name">Interfaces</span><span class="token operator">:</span>
<span class="token class-name">Base</span><span class="token operator">:</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Enum</span>
<span class="token class-name">Methods</span><span class="token operator">:</span>
<span class="token punctuation">[</span>compareTo<span class="token punctuation">,</span> equals<span class="token punctuation">,</span> getClass<span class="token punctuation">,</span> getDeclaringClass<span class="token punctuation">,</span>
hashCode<span class="token punctuation">,</span> name<span class="token punctuation">,</span> notify<span class="token punctuation">,</span> notifyAll<span class="token punctuation">,</span> ordinal<span class="token punctuation">,</span> toString<span class="token punctuation">,</span>
valueOf<span class="token punctuation">,</span> values<span class="token punctuation">,</span> wait<span class="token punctuation">]</span>
_____ <span class="token class-name">Analyzing</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Enum</span> _____
<span class="token class-name">Interfaces</span><span class="token operator">:</span>
<span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable</span>
<span class="token class-name">Base</span><span class="token operator">:</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Object</span>
<span class="token class-name">Methods</span><span class="token operator">:</span>
<span class="token punctuation">[</span>compareTo<span class="token punctuation">,</span> equals<span class="token punctuation">,</span> getClass<span class="token punctuation">,</span> getDeclaringClass<span class="token punctuation">,</span>
hashCode<span class="token punctuation">,</span> name<span class="token punctuation">,</span> notify<span class="token punctuation">,</span> notifyAll<span class="token punctuation">,</span> ordinal<span class="token punctuation">,</span> toString<span class="token punctuation">,</span>
valueOf<span class="token punctuation">,</span> wait<span class="token punctuation">]</span>
<span class="token class-name">Explore</span><span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span><span class="token class-name">Enum</span><span class="token punctuation">)</span><span class="token operator">?</span> <span class="token boolean">true</span>
<span class="token class-name">Explore</span><span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token class-name">Enum</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span>values<span class="token punctuation">]</span>
<span class="token class-name">Compiled</span> from <span class="token string">&quot;Reflection.java&quot;</span>
<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Explore</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Explore</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Explore</span> HERE<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Explore</span> THERE<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Explore</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Explore</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B54\u6848\u662F\uFF0Cvalues() \u662F\u7531\u7F16\u8BD1\u5668\u6DFB\u52A0\u7684 static \u65B9\u6CD5\u3002\u53EF\u4EE5\u770B\u51FA\uFF0C\u5728\u521B\u5EFA Explore \u7684\u8FC7\u7A0B\u4E2D\uFF0C\u7F16\u8BD1\u5668\u8FD8\u4E3A\u5176\u6DFB\u52A0\u4E86 valueOf() \u65B9\u6CD5\u3002\u8FD9\u53EF\u80FD\u6709\u70B9\u4EE4\u4EBA\u8FF7\u60D1\uFF0CEnum \u7C7B\u4E0D\u662F\u5DF2\u7ECF\u6709 valueOf() \u65B9\u6CD5\u4E86\u5417\u3002</p><p>\u4E0D\u8FC7 Enum \u4E2D\u7684 valueOf() \u65B9\u6CD5\u9700\u8981\u4E24\u4E2A\u53C2\u6570\uFF0C\u800C\u8FD9\u4E2A\u65B0\u589E\u7684\u65B9\u6CD5\u53EA\u9700\u4E00\u4E2A\u53C2\u6570\u3002\u7531\u4E8E\u8FD9\u91CC\u4F7F\u7528\u7684 Set \u53EA\u5B58\u50A8\u65B9\u6CD5\u7684\u540D\u5B57\uFF0C\u800C\u4E0D\u8003\u8651\u65B9\u6CD5\u7684\u7B7E\u540D\uFF0C\u6240\u4EE5\u5728\u8C03\u7528 Explore.removeAll(Enum) \u4E4B\u540E\uFF0C\u5C31\u53EA\u5269\u4E0B[values] \u4E86\u3002</p><p>\u4ECE\u6700\u540E\u7684\u8F93\u51FA\u4E2D\u53EF\u4EE5\u770B\u5230\uFF0C\u7F16\u8BD1\u5668\u5C06 Explore \u6807\u8BB0\u4E3A final \u7C7B\uFF0C\u6240\u4EE5\u65E0\u6CD5\u7EE7\u627F\u81EA enum\uFF0C\u5176\u4E2D\u8FD8\u6709\u4E00\u4E2A static \u7684\u521D\u59CB\u5316\u5B50\u53E5\uFF0C\u7A0D\u540E\u6211\u4EEC\u5C06\u5B66\u4E60\u5982\u4F55\u91CD\u5B9A\u4E49\u8BE5\u53E5\u3002</p><p>\u7531\u4E8E\u64E6\u9664\u6548\u5E94\uFF08\u5728<a href="">\u6CDB\u578B </a> \u7AE0\u8282\u4E2D\u4ECB\u7ECD\u8FC7\uFF09\uFF0C\u53CD\u7F16\u8BD1\u65E0\u6CD5\u5F97\u5230 Enum \u7684\u5B8C\u6574\u4FE1\u606F\uFF0C\u6240\u4EE5\u5B83\u5C55\u793A\u7684 Explore \u7684\u7236\u7C7B\u53EA\u662F\u4E00\u4E2A\u539F\u59CB\u7684 Enum\uFF0C\u800C\u975E\u4E8B\u5B9E\u4E0A\u7684 Enum&lt;Explore&gt;\u3002</p><p>\u7531\u4E8E values() \u65B9\u6CD5\u662F\u7531\u7F16\u8BD1\u5668\u63D2\u5165\u5230 enum \u5B9A\u4E49\u4E2D\u7684 static \u65B9\u6CD5\uFF0C\u6240\u4EE5\uFF0C\u5982\u679C\u4F60\u5C06 enum \u5B9E\u4F8B\u5411\u4E0A\u8F6C\u578B\u4E3A Enum\uFF0C\u90A3\u4E48 values() \u65B9\u6CD5\u5C31\u4E0D\u53EF\u8BBF\u95EE\u4E86\u3002\u4E0D\u8FC7\uFF0C\u5728 Class \u4E2D\u6709\u4E00\u4E2A getEnumConstants() \u65B9\u6CD5\uFF0C\u6240\u4EE5\u5373\u4FBF Enum \u63A5\u53E3\u4E2D\u6CA1\u6709 values() \u65B9\u6CD5\uFF0C\u6211\u4EEC\u4ECD\u7136\u53EF\u4EE5\u901A\u8FC7 Class \u5BF9\u8C61\u53D6\u5F97\u6240\u6709 enum \u5B9E\u4F8B\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/UpcastEnum.java</span>
<span class="token comment">// No values() method if you upcast an enum</span>
<span class="token keyword">enum</span> <span class="token class-name">Search</span> <span class="token punctuation">{</span> HITHER<span class="token punctuation">,</span> YON <span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UpcastEnum</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Search</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vals <span class="token operator">=</span> <span class="token class-name">Search</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Enum</span> e <span class="token operator">=</span> <span class="token class-name">Search</span><span class="token punctuation">.</span>HITHER<span class="token punctuation">;</span> <span class="token comment">// Upcast</span>
<span class="token comment">// e.values(); // No values() in Enum</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Enum</span> en <span class="token operator">:</span> e<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getEnumConstants</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>en<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>HITHER
YON
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u56E0\u4E3A getEnumConstants() \u662F Class \u4E0A\u7684\u65B9\u6CD5\uFF0C\u6240\u4EE5\u4F60\u751A\u81F3\u53EF\u4EE5\u5BF9\u4E0D\u662F\u679A\u4E3E\u7684\u7C7B\u8C03\u7528\u6B64\u65B9\u6CD5\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/NonEnum.java</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NonEnum</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> intClass <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Object</span> en <span class="token operator">:</span> intClass<span class="token punctuation">.</span><span class="token function">getEnumConstants</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>en<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Expected: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Expected</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>NullPointerException</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u53EA\u4E0D\u8FC7\uFF0C\u6B64\u65F6\u8BE5\u65B9\u6CD5\u8FD4\u56DE null\uFF0C\u6240\u4EE5\u5F53\u4F60\u8BD5\u56FE\u4F7F\u7528\u5176\u8FD4\u56DE\u7684\u7ED3\u679C\u65F6\u4F1A\u53D1\u751F\u5F02\u5E38\u3002</p><h2 id="\u5B9E\u73B0\u800C\u975E\u7EE7\u627F" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0\u800C\u975E\u7EE7\u627F" aria-hidden="true">#</a> \u5B9E\u73B0\u800C\u975E\u7EE7\u627F</h2><p>\u6211\u4EEC\u5DF2\u7ECF\u77E5\u9053\uFF0C\u6240\u6709\u7684 enum \u90FD\u7EE7\u627F\u81EA Java.lang.Enum \u7C7B\u3002\u7531\u4E8E Java \u4E0D\u652F\u6301\u591A\u91CD\u7EE7\u627F\uFF0C\u6240\u4EE5\u4F60\u7684 enum \u4E0D\u80FD\u518D\u7EE7\u627F\u5176\u4ED6\u7C7B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">enum</span> <span class="token class-name">NotPossible</span> <span class="token keyword">extends</span> <span class="token class-name">Pet</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">// Won&#39;t work</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u7136\u800C\uFF0C\u5728\u6211\u4EEC\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684 enum \u65F6\uFF0C\u53EF\u4EE5\u540C\u65F6\u5B9E\u73B0\u4E00\u4E2A\u6216\u591A\u4E2A\u63A5\u53E3\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/cartoons/EnumImplementation.java</span>
<span class="token comment">// An enum can implement an interface</span>
<span class="token comment">// {java enums.cartoons.EnumImplementation}</span>
<span class="token keyword">package</span> <span class="token namespace">enums<span class="token punctuation">.</span>cartoons</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">enum</span> <span class="token class-name">CartoonCharacter</span>
        <span class="token keyword">implements</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CartoonCharacter</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    SLAPPY<span class="token punctuation">,</span> SPANKY<span class="token punctuation">,</span> PUNCHY<span class="token punctuation">,</span>
    SILLY<span class="token punctuation">,</span> BOUNCY<span class="token punctuation">,</span> NUTTY<span class="token punctuation">,</span> BOB<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Random</span> rand <span class="token operator">=</span>
            <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">CartoonCharacter</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnumImplementation</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">printNext</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> rg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>rg<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// Choose any instance:</span>
        <span class="token class-name">CartoonCharacter</span> cc <span class="token operator">=</span> <span class="token class-name">CartoonCharacter</span><span class="token punctuation">.</span>BOB<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token function">printNext</span><span class="token punctuation">(</span>cc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>BOB, PUNCHY, BOB, SPANKY, NUTTY, PUNCHY, SLAPPY, NUTTY,
NUTTY, SLAPPY,
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u4E2A\u7ED3\u679C\u6709\u70B9\u5947\u602A\uFF0C\u4E0D\u8FC7\u4F60\u5FC5\u987B\u8981\u6709\u4E00\u4E2A enum \u5B9E\u4F8B\u624D\u80FD\u8C03\u7528\u5176\u4E0A\u7684\u65B9\u6CD5\u3002\u73B0\u5728\uFF0C\u5728\u4EFB\u4F55\u63A5\u53D7 Supplier \u53C2\u6570\u7684\u65B9\u6CD5\u4E2D\uFF0C\u4F8B\u5982 printNext()\uFF0C\u90FD\u53EF\u4EE5\u4F7F\u7528 CartoonCharacter\u3002</p><h2 id="\u968F\u673A\u9009\u62E9" tabindex="-1"><a class="header-anchor" href="#\u968F\u673A\u9009\u62E9" aria-hidden="true">#</a> \u968F\u673A\u9009\u62E9</h2><p>\u5C31\u50CF\u4F60\u5728 CartoonCharacter.get() \u4E2D\u770B\u5230\u7684\u90A3\u6837\uFF0C\u672C\u7AE0\u4E2D\u7684\u5F88\u591A\u793A\u4F8B\u90FD\u9700\u8981\u4ECE enum \u5B9E\u4F8B\u4E2D\u8FDB\u884C\u968F\u673A\u9009\u62E9\u3002\u6211\u4EEC\u53EF\u4EE5\u5229\u7528\u6CDB\u578B\uFF0C\u4ECE\u800C\u4F7F\u5F97\u8FD9\u4E2A\u5DE5\u4F5C\u66F4\u4E00\u822C\u5316\uFF0C\u5E76\u5C06\u5176\u52A0\u5165\u5230\u6211\u4EEC\u7684\u5DE5\u5177\u5E93\u4E2D\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// onjava/Enums.java</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Enums</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Random</span> rand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> ec<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">random</span><span class="token punctuation">(</span>ec<span class="token punctuation">.</span><span class="token function">getEnumConstants</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">random</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> values<span class="token punctuation">[</span>rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>values<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53E4\u602A\u7684\u8BED\u6CD5&lt;T extends Enum&lt;T&gt;&gt; \u8868\u793A T \u662F\u4E00\u4E2A enum \u5B9E\u4F8B\u3002\u800C\u5C06 Class&lt;T&gt; \u4F5C\u4E3A\u53C2\u6570\u7684\u8BDD\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u5229\u7528 Class \u5BF9\u8C61\u5F97\u5230 enum \u5B9E\u4F8B\u7684\u6570\u7EC4\u4E86\u3002\u91CD\u8F7D\u540E\u7684 random() \u65B9\u6CD5\u53EA\u9700\u4F7F\u7528 T[] \u4F5C\u4E3A\u53C2\u6570\uFF0C\u56E0\u4E3A\u5B83\u5E76\u4E0D\u4F1A\u8C03\u7528 Enum \u4E0A\u7684\u4EFB\u4F55\u64CD\u4F5C\uFF0C\u5B83\u53EA\u9700\u4ECE\u6570\u7EC4\u4E2D\u968F\u673A\u9009\u62E9\u4E00\u4E2A\u5143\u7D20\u5373\u53EF\u3002\u8FD9\u6837\uFF0C\u6700\u7EC8\u7684\u8FD4\u56DE\u7C7B\u578B\u6B63\u662F enum \u7684\u7C7B\u578B\u3002</p><p>\u4E0B\u9762\u662F random() \u65B9\u6CD5\u7684\u4E00\u4E2A\u7B80\u5355\u793A\u4F8B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/RandomTest.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">enum</span> <span class="token class-name">Activity</span> <span class="token punctuation">{</span> SITTING<span class="token punctuation">,</span> LYING<span class="token punctuation">,</span> STANDING<span class="token punctuation">,</span> HOPPING<span class="token punctuation">,</span>
    RUNNING<span class="token punctuation">,</span> DODGING<span class="token punctuation">,</span> JUMPING<span class="token punctuation">,</span> FALLING<span class="token punctuation">,</span> FLYING <span class="token punctuation">}</span>
    
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RandomTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>
                    <span class="token class-name">Enums</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token class-name">Activity</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>STANDING FLYING RUNNING STANDING RUNNING STANDING LYING
DODGING SITTING RUNNING HOPPING HOPPING HOPPING RUNNING
STANDING LYING FALLING RUNNING FLYING LYING
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u4F7F\u7528\u63A5\u53E3\u7EC4\u7EC7\u679A\u4E3E" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u63A5\u53E3\u7EC4\u7EC7\u679A\u4E3E" aria-hidden="true">#</a> \u4F7F\u7528\u63A5\u53E3\u7EC4\u7EC7\u679A\u4E3E</h2><p>\u65E0\u6CD5\u4ECE enum \u7EE7\u627F\u5B50\u7C7B\u6709\u65F6\u5F88\u4EE4\u4EBA\u6CAE\u4E27\u3002\u8FD9\u79CD\u9700\u6C42\u6709\u65F6\u6E90\u81EA\u6211\u4EEC\u5E0C\u671B\u6269\u5C55\u539F enum \u4E2D\u7684\u5143\u7D20\uFF0C\u6709\u65F6\u662F\u56E0\u4E3A\u6211\u4EEC\u5E0C\u671B\u4F7F\u7528\u5B50\u7C7B\u5C06\u4E00\u4E2A enum \u4E2D\u7684\u5143\u7D20\u8FDB\u884C\u5206\u7EC4\u3002</p><p>\u5728\u4E00\u4E2A\u63A5\u53E3\u7684\u5185\u90E8\uFF0C\u521B\u5EFA\u5B9E\u73B0\u8BE5\u63A5\u53E3\u7684\u679A\u4E3E\uFF0C\u4EE5\u6B64\u5C06\u5143\u7D20\u8FDB\u884C\u5206\u7EC4\uFF0C\u53EF\u4EE5\u8FBE\u5230\u5C06\u679A\u4E3E\u5143\u7D20\u5206\u7C7B\u7EC4\u7EC7\u7684\u76EE\u7684\u3002\u4E3E\u4F8B\u6765\u8BF4\uFF0C\u5047\u8BBE\u4F60\u60F3\u7528 enum \u6765\u8868\u793A\u4E0D\u540C\u7C7B\u522B\u7684\u98DF\u7269\uFF0C\u540C\u65F6\u8FD8\u5E0C\u671B\u6BCF\u4E2A enum \u5143\u7D20\u4ECD\u7136\u4FDD\u6301 Food \u7C7B\u578B\u3002\u90A3\u53EF\u4EE5\u8FD9\u6837\u5B9E\u73B0\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/menu/Food.java</span>
<span class="token comment">// Subcategorization of enums within interfaces</span>
<span class="token keyword">package</span> <span class="token namespace">enums<span class="token punctuation">.</span>menu</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
    <span class="token keyword">enum</span> <span class="token class-name">Appetizer</span> <span class="token keyword">implements</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
        SALAD<span class="token punctuation">,</span> SOUP<span class="token punctuation">,</span> SPRING_ROLLS<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">enum</span> <span class="token class-name">MainCourse</span> <span class="token keyword">implements</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
        LASAGNE<span class="token punctuation">,</span> BURRITO<span class="token punctuation">,</span> PAD_THAI<span class="token punctuation">,</span>
        LENTILS<span class="token punctuation">,</span> HUMMOUS<span class="token punctuation">,</span> VINDALOO<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">enum</span> <span class="token class-name">Dessert</span> <span class="token keyword">implements</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
        TIRAMISU<span class="token punctuation">,</span> GELATO<span class="token punctuation">,</span> BLACK_FOREST_CAKE<span class="token punctuation">,</span>
        FRUIT<span class="token punctuation">,</span> CREME_CARAMEL<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">enum</span> <span class="token class-name">Coffee</span> <span class="token keyword">implements</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
        BLACK_COFFEE<span class="token punctuation">,</span> DECAF_COFFEE<span class="token punctuation">,</span> ESPRESSO<span class="token punctuation">,</span>
        LATTE<span class="token punctuation">,</span> CAPPUCCINO<span class="token punctuation">,</span> TEA<span class="token punctuation">,</span> HERB_TEA<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5BF9\u4E8E enum \u800C\u8A00\uFF0C\u5B9E\u73B0\u63A5\u53E3\u662F\u4F7F\u5176\u5B50\u7C7B\u5316\u7684\u552F\u4E00\u529E\u6CD5\uFF0C\u6240\u4EE5\u5D4C\u5165\u5728 Food \u4E2D\u7684\u6BCF\u4E2A enum \u90FD\u5B9E\u73B0\u4E86 Food \u63A5\u53E3\u3002\u73B0\u5728\uFF0C\u5728\u4E0B\u9762\u7684\u7A0B\u5E8F\u4E2D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8BF4\u201C\u6240\u6709\u4E1C\u897F\u90FD\u662F\u67D0\u79CD\u7C7B\u578B\u7684 Food&quot;\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/menu/TypeOfFood.java</span>
<span class="token comment">// {java enums.menu.TypeOfFood}</span>
<span class="token keyword">package</span> <span class="token namespace">enums<span class="token punctuation">.</span>menu</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">enums<span class="token punctuation">.</span>menu<span class="token punctuation">.</span></span><span class="token class-name">Food</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TypeOfFood</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Food</span> food <span class="token operator">=</span> <span class="token class-name">Appetizer</span><span class="token punctuation">.</span>SALAD<span class="token punctuation">;</span>
        food <span class="token operator">=</span> <span class="token class-name">MainCourse</span><span class="token punctuation">.</span>LASAGNE<span class="token punctuation">;</span>
        food <span class="token operator">=</span> <span class="token class-name">Dessert</span><span class="token punctuation">.</span>GELATO<span class="token punctuation">;</span>
        food <span class="token operator">=</span> <span class="token class-name">Coffee</span><span class="token punctuation">.</span>CAPPUCCINO<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C enum \u7C7B\u578B\u5B9E\u73B0\u4E86 Food \u63A5\u53E3\uFF0C\u90A3\u4E48\u6211\u4EEC\u5C31\u53EF\u4EE5\u5C06\u5176\u5B9E\u4F8B\u5411\u4E0A\u8F6C\u578B\u4E3A Food\uFF0C\u6240\u4EE5\u4E0A\u4F8B\u4E2D\u7684\u6240\u6709\u4E1C\u897F\u90FD\u662F Food\u3002</p><p>\u7136\u800C\uFF0C\u5F53\u4F60\u9700\u8981\u4E0E\u4E00\u5927\u5806\u7C7B\u578B\u6253\u4EA4\u9053\u65F6\uFF0C\u63A5\u53E3\u5C31\u4E0D\u5982 enum \u597D\u7528\u4E86\u3002\u4F8B\u5982\uFF0C\u5982\u679C\u4F60\u60F3\u521B\u5EFA\u4E00\u4E2A\u201C\u679A\u4E3E\u7684\u679A\u4E3E\u201D\uFF0C\u90A3\u4E48\u53EF\u4EE5\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684 enum\uFF0C\u7136\u540E\u7528\u5176\u5B9E\u4F8B\u5305\u88C5 Food \u4E2D\u7684\u6BCF\u4E00\u4E2A enum \u7C7B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/menu/Course.java</span>
<span class="token keyword">package</span> <span class="token namespace">enums<span class="token punctuation">.</span>menu</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Course</span> <span class="token punctuation">{</span>
    <span class="token function">APPETIZER</span><span class="token punctuation">(</span><span class="token class-name">Food<span class="token punctuation">.</span>Appetizer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">MAINCOURSE</span><span class="token punctuation">(</span><span class="token class-name">Food<span class="token punctuation">.</span>MainCourse</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">DESSERT</span><span class="token punctuation">(</span><span class="token class-name">Food<span class="token punctuation">.</span>Dessert</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">COFFEE</span><span class="token punctuation">(</span><span class="token class-name">Food<span class="token punctuation">.</span>Coffee</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Food</span><span class="token punctuation">[</span><span class="token punctuation">]</span> values<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Course</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Food</span><span class="token punctuation">&gt;</span></span> kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        values <span class="token operator">=</span> kind<span class="token punctuation">.</span><span class="token function">getEnumConstants</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Food</span> <span class="token function">randomSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Enums</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6BCF\u4E00\u4E2A Course \u7684\u5B9E\u4F8B\u90FD\u5C06\u5176\u5BF9\u5E94\u7684 Class \u5BF9\u8C61\u4F5C\u4E3A\u6784\u9020\u5668\u7684\u53C2\u6570\u3002\u901A\u8FC7 getEnumConstants0 \u65B9\u6CD5\uFF0C\u53EF\u4EE5\u4ECE\u8BE5 Class \u5BF9\u8C61\u4E2D\u53D6\u5F97\u67D0\u4E2A Food \u5B50\u7C7B\u7684\u6240\u6709 enum \u5B9E\u4F8B\u3002\u8FD9\u4E9B\u5B9E\u4F8B\u5728 randomSelection() \u4E2D\u88AB\u7528\u5230\u3002\u56E0\u6B64\uFF0C\u901A\u8FC7\u4ECE\u6BCF\u4E00\u4E2A Course \u5B9E\u4F8B\u4E2D\u968F\u673A\u5730\u9009\u62E9\u4E00\u4E2A Food\uFF0C\u6211\u4EEC\u4FBF\u80FD\u591F\u751F\u6210\u4E00\u4EFD\u83DC\u5355\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/menu/Meal.java</span>
<span class="token comment">// {java enums.menu.Meal}</span>
<span class="token keyword">package</span> <span class="token namespace">enums<span class="token punctuation">.</span>menu</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Meal</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Course</span> course <span class="token operator">:</span> <span class="token class-name">Course</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Food</span> food <span class="token operator">=</span> course<span class="token punctuation">.</span><span class="token function">randomSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SPRING_ROLLS
VINDALOO
FRUIT
DECAF_COFFEE
***
SOUP
VINDALOO
FRUIT
TEA
***
SALAD
BURRITO
FRUIT
TEA
***
SALAD
BURRITO
CREME_CARAMEL
LATTE
***
SOUP
BURRITO
TIRAMISU
ESPRESSO
***
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u6211\u4EEC\u901A\u8FC7\u904D\u5386\u6BCF\u4E00\u4E2A Course \u5B9E\u4F8B\u6765\u83B7\u5F97\u201C\u679A\u4E3E\u7684\u679A\u4E3E\u201D\u7684\u503C\u3002\u7A0D\u540E\uFF0C\u5728 VendingMachine.java \u4E2D\uFF0C\u6211\u4EEC\u4F1A\u770B\u5230\u53E6\u4E00\u79CD\u7EC4\u7EC7\u679A\u4E3E\u5B9E\u4F8B\u7684\u65B9\u5F0F\uFF0C\u4F46\u5176\u4E5F\u6709\u4E00\u4E9B\u5176\u4ED6\u7684\u9650\u5236\u3002</p><p>\u6B64\u5916\uFF0C\u8FD8\u6709\u4E00\u79CD\u66F4\u7B80\u6D01\u7684\u7BA1\u7406\u679A\u4E3E\u7684\u529E\u6CD5\uFF0C\u5C31\u662F\u5C06\u4E00\u4E2A enum \u5D4C\u5957\u5728\u53E6\u4E00\u4E2A enum \u5185\u3002\u5C31\u50CF\u8FD9\u6837\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/SecurityCategory.java</span>
<span class="token comment">// More succinct subcategorization of enums</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">enum</span> <span class="token class-name">SecurityCategory</span> <span class="token punctuation">{</span>
    <span class="token function">STOCK</span><span class="token punctuation">(</span><span class="token class-name">Security<span class="token punctuation">.</span>Stock</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">BOND</span><span class="token punctuation">(</span><span class="token class-name">Security<span class="token punctuation">.</span>Bond</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Security</span><span class="token punctuation">[</span><span class="token punctuation">]</span> values<span class="token punctuation">;</span>
    <span class="token class-name">SecurityCategory</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Security</span><span class="token punctuation">&gt;</span></span> kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        values <span class="token operator">=</span> kind<span class="token punctuation">.</span><span class="token function">getEnumConstants</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">interface</span> <span class="token class-name">Security</span> <span class="token punctuation">{</span>
        <span class="token keyword">enum</span> <span class="token class-name">Stock</span> <span class="token keyword">implements</span> <span class="token class-name">Security</span> <span class="token punctuation">{</span>
            SHORT<span class="token punctuation">,</span> LONG<span class="token punctuation">,</span> MARGIN
        <span class="token punctuation">}</span>
        <span class="token keyword">enum</span> <span class="token class-name">Bond</span> <span class="token keyword">implements</span> <span class="token class-name">Security</span> <span class="token punctuation">{</span>
            MUNICIPAL<span class="token punctuation">,</span> JUNK
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Security</span> <span class="token function">randomSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Enums</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">SecurityCategory</span> category <span class="token operator">=</span>
                    <span class="token class-name">Enums</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token class-name">SecurityCategory</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>category <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span>
                    category<span class="token punctuation">.</span><span class="token function">randomSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>BOND: MUNICIPAL
BOND: MUNICIPAL
STOCK: MARGIN
STOCK: MARGIN
BOND: JUNK
STOCK: SHORT
STOCK: LONG
STOCK: LONG
BOND: MUNICIPAL
BOND: JUNK
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Security \u63A5\u53E3\u7684\u4F5C\u7528\u662F\u5C06\u5176\u6240\u5305\u542B\u7684 enum \u7EC4\u5408\u6210\u4E00\u4E2A\u516C\u5171\u7C7B\u578B\uFF0C\u8FD9\u4E00\u70B9\u662F\u6709\u5FC5\u8981\u7684\u3002\u7136\u540E\uFF0CSecurityCategory \u624D\u80FD\u5C06 Security \u4E2D\u7684 enum \u4F5C\u4E3A\u5176\u6784\u9020\u5668\u7684\u53C2\u6570\u4F7F\u7528\uFF0C\u4EE5\u8D77\u5230\u7EC4\u7EC7\u7684\u6548\u679C\u3002</p><p>\u5982\u679C\u6211\u4EEC\u5C06\u8FD9\u79CD\u65B9\u5F0F\u5E94\u7528\u4E8E Food \u7684\u4F8B\u5B50\uFF0C\u7ED3\u679C\u5E94\u8BE5\u8FD9\u6837\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/menu/Meal2.java</span>
<span class="token comment">// {java enums.menu.Meal2}</span>
<span class="token keyword">package</span> <span class="token namespace">enums<span class="token punctuation">.</span>menu</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Meal2</span> <span class="token punctuation">{</span>
    <span class="token function">APPETIZER</span><span class="token punctuation">(</span><span class="token class-name">Food<span class="token punctuation">.</span>Appetizer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">MAINCOURSE</span><span class="token punctuation">(</span><span class="token class-name">Food<span class="token punctuation">.</span>MainCourse</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">DESSERT</span><span class="token punctuation">(</span><span class="token class-name">Food<span class="token punctuation">.</span>Dessert</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">COFFEE</span><span class="token punctuation">(</span><span class="token class-name">Food<span class="token punctuation">.</span>Coffee</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Food</span><span class="token punctuation">[</span><span class="token punctuation">]</span> values<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Meal2</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Food</span><span class="token punctuation">&gt;</span></span> kind<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        values <span class="token operator">=</span> kind<span class="token punctuation">.</span><span class="token function">getEnumConstants</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
        <span class="token keyword">enum</span> <span class="token class-name">Appetizer</span> <span class="token keyword">implements</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
            SALAD<span class="token punctuation">,</span> SOUP<span class="token punctuation">,</span> SPRING_ROLLS<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">enum</span> <span class="token class-name">MainCourse</span> <span class="token keyword">implements</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
            LASAGNE<span class="token punctuation">,</span> BURRITO<span class="token punctuation">,</span> PAD_THAI<span class="token punctuation">,</span>
            LENTILS<span class="token punctuation">,</span> HUMMOUS<span class="token punctuation">,</span> VINDALOO<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">enum</span> <span class="token class-name">Dessert</span> <span class="token keyword">implements</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
            TIRAMISU<span class="token punctuation">,</span> GELATO<span class="token punctuation">,</span> BLACK_FOREST_CAKE<span class="token punctuation">,</span>
            FRUIT<span class="token punctuation">,</span> CREME_CARAMEL<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">enum</span> <span class="token class-name">Coffee</span> <span class="token keyword">implements</span> <span class="token class-name">Food</span> <span class="token punctuation">{</span>
            BLACK_COFFEE<span class="token punctuation">,</span> DECAF_COFFEE<span class="token punctuation">,</span> ESPRESSO<span class="token punctuation">,</span>
            LATTE<span class="token punctuation">,</span> CAPPUCCINO<span class="token punctuation">,</span> TEA<span class="token punctuation">,</span> HERB_TEA<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Food</span> <span class="token function">randomSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Enums</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Meal2</span> meal <span class="token operator">:</span> <span class="token class-name">Meal2</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Food</span> food <span class="token operator">=</span> meal<span class="token punctuation">.</span><span class="token function">randomSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;***&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SPRING_ROLLS
VINDALOO
FRUIT
DECAF_COFFEE
***
SOUP
VINDALOO
FRUIT
TEA
***
SALAD
BURRITO
FRUIT
TEA
***
SALAD
BURRITO
CREME_CARAMEL
LATTE
***
SOUP
BURRITO
TIRAMISU
ESPRESSO
***
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5176\u5B9E\uFF0C\u8FD9\u4EC5\u4EC5\u662F\u91CD\u65B0\u7EC4\u7EC7\u4E86\u4E00\u4E0B\u4EE3\u7801\uFF0C\u4E0D\u8FC7\u591A\u6570\u60C5\u51B5\u4E0B\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u4F7F\u4F60\u7684\u4EE3\u7801\u5177\u6709\u66F4\u6E05\u6670\u7684\u7ED3\u6784\u3002</p><h2 id="\u4F7F\u7528-enumset-\u66FF\u4EE3-flags" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-enumset-\u66FF\u4EE3-flags" aria-hidden="true">#</a> \u4F7F\u7528 EnumSet \u66FF\u4EE3 Flags</h2><p>Set \u662F\u4E00\u79CD\u96C6\u5408\uFF0C\u53EA\u80FD\u5411\u5176\u4E2D\u6DFB\u52A0\u4E0D\u91CD\u590D\u7684\u5BF9\u8C61\u3002\u5F53\u7136\uFF0Cenum \u4E5F\u8981\u6C42\u5176\u6210\u5458\u90FD\u662F\u552F\u4E00\u7684\uFF0C\u6240\u4EE5 enum \u770B\u8D77\u6765\u4E5F\u5177\u6709\u96C6\u5408\u7684\u884C\u4E3A\u3002\u4E0D\u8FC7\uFF0C\u7531\u4E8E\u4E0D\u80FD\u4ECE enum \u4E2D\u5220\u9664\u6216\u6DFB\u52A0\u5143\u7D20\uFF0C\u6240\u4EE5\u5B83\u53EA\u80FD\u7B97\u662F\u4E0D\u592A\u6709\u7528\u7684\u96C6\u5408\u3002Java SE5 \u5F15\u5165 EnumSet\uFF0C\u662F\u4E3A\u4E86\u901A\u8FC7 enum \u521B\u5EFA\u4E00\u79CD\u66FF\u4EE3\u54C1\uFF0C\u4EE5\u66FF\u4EE3\u4F20\u7EDF\u7684\u57FA\u4E8E int \u7684\u201C\u4F4D\u6807\u5FD7\u201D\u3002\u8FD9\u79CD\u6807\u5FD7\u53EF\u4EE5\u7528\u6765\u8868\u793A\u67D0\u79CD\u201C\u5F00/\u5173\u201D\u4FE1\u606F\uFF0C\u4E0D\u8FC7\uFF0C\u4F7F\u7528\u8FD9\u79CD\u6807\u5FD7\uFF0C\u6211\u4EEC\u6700\u7EC8\u64CD\u4F5C\u7684\u53EA\u662F\u4E00\u4E9B bit\uFF0C\u800C\u4E0D\u662F\u8FD9\u4E9B bit \u60F3\u8981\u8868\u8FBE\u7684\u6982\u5FF5\uFF0C\u56E0\u6B64\u5F88\u5BB9\u6613\u5199\u51FA\u4EE4\u4EBA\u96BE\u4EE5\u7406\u89E3\u7684\u4EE3\u7801\u3002</p><p>EnumSet \u7684\u8BBE\u8BA1\u5145\u5206\u8003\u8651\u5230\u4E86\u901F\u5EA6\u56E0\u7D20\uFF0C\u56E0\u4E3A\u5B83\u5FC5\u987B\u4E0E\u975E\u5E38\u9AD8\u6548\u7684 bit \u6807\u5FD7\u76F8\u7ADE\u4E89\uFF08\u5176\u64CD\u4F5C\u4E0E HashSet \u76F8\u6BD4\uFF0C\u975E\u5E38\u5730\u5FEB\uFF09\uFF0C\u5C31\u5176\u5185\u90E8\u800C\u8A00\uFF0C\u5B83\uFF08\u53EF\u80FD\uFF09\u5C31\u662F\u5C06\u4E00\u4E2A long \u503C\u4F5C\u4E3A\u6BD4\u7279\u5411\u91CF\uFF0C\u6240\u4EE5 EnumSet \u975E\u5E38\u5FEB\u901F\u9AD8\u6548\u3002\u4F7F\u7528 EnumSet \u7684\u4F18\u70B9\u662F\uFF0C\u5B83\u5728\u8BF4\u660E\u4E00\u4E2A\u4E8C\u8FDB\u5236\u4F4D\u662F\u5426\u5B58\u5728\u65F6\uFF0C\u5177\u6709\u66F4\u597D\u7684\u8868\u8FBE\u80FD\u529B\uFF0C\u5E76\u4E14\u65E0\u9700\u62C5\u5FC3\u6027\u80FD\u3002</p><p>EnumSet \u4E2D\u7684\u5143\u7D20\u5FC5\u987B\u6765\u81EA\u4E00\u4E2A enum\u3002\u4E0B\u9762\u7684 enum \u8868\u793A\u5728\u4E00\u5EA7\u5927\u697C\u4E2D\uFF0C\u8B66\u62A5\u4F20\u611F\u5668\u7684\u5B89\u653E\u4F4D\u7F6E\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/AlarmPoints.java</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">AlarmPoints</span> <span class="token punctuation">{</span>
    STAIR1<span class="token punctuation">,</span> STAIR2<span class="token punctuation">,</span> LOBBY<span class="token punctuation">,</span> OFFICE1<span class="token punctuation">,</span> OFFICE2<span class="token punctuation">,</span> OFFICE3<span class="token punctuation">,</span>
    OFFICE4<span class="token punctuation">,</span> BATHROOM<span class="token punctuation">,</span> UTILITY<span class="token punctuation">,</span> KITCHEN
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7136\u540E\uFF0C\u6211\u4EEC\u7528 EnumSet \u6765\u8DDF\u8E2A\u62A5\u8B66\u5668\u7684\u72B6\u6001\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/EnumSets.java</span>
<span class="token comment">// Operations on EnumSets</span>
<span class="token comment">// {java enums.EnumSets}</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">enums<span class="token punctuation">.</span></span><span class="token class-name">AlarmPoints</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnumSets</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">EnumSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AlarmPoints</span><span class="token punctuation">&gt;</span></span> points <span class="token operator">=</span>
                <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">noneOf</span><span class="token punctuation">(</span><span class="token class-name">AlarmPoints</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Empty</span>
        points<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>BATHROOM<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>points<span class="token punctuation">)</span><span class="token punctuation">;</span>
        points<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>
                <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>STAIR1<span class="token punctuation">,</span> STAIR2<span class="token punctuation">,</span> KITCHEN<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>points<span class="token punctuation">)</span><span class="token punctuation">;</span>
        points <span class="token operator">=</span> <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">allOf</span><span class="token punctuation">(</span><span class="token class-name">AlarmPoints</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        points<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>
                <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>STAIR1<span class="token punctuation">,</span> STAIR2<span class="token punctuation">,</span> KITCHEN<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>points<span class="token punctuation">)</span><span class="token punctuation">;</span>
        points<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>
                <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>OFFICE1<span class="token punctuation">,</span> OFFICE4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>points<span class="token punctuation">)</span><span class="token punctuation">;</span>
        points <span class="token operator">=</span> <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">complementOf</span><span class="token punctuation">(</span>points<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>points<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">[</span>BATHROOM<span class="token punctuation">]</span>
<span class="token punctuation">[</span>STAIR1<span class="token punctuation">,</span> STAIR2<span class="token punctuation">,</span> BATHROOM<span class="token punctuation">,</span> KITCHEN<span class="token punctuation">]</span>
<span class="token punctuation">[</span>LOBBY<span class="token punctuation">,</span> OFFICE1<span class="token punctuation">,</span> OFFICE2<span class="token punctuation">,</span> OFFICE3<span class="token punctuation">,</span> OFFICE4<span class="token punctuation">,</span> BATHROOM<span class="token punctuation">,</span>
UTILITY<span class="token punctuation">]</span>
<span class="token punctuation">[</span>LOBBY<span class="token punctuation">,</span> BATHROOM<span class="token punctuation">,</span> UTILITY<span class="token punctuation">]</span>
<span class="token punctuation">[</span>STAIR1<span class="token punctuation">,</span> STAIR2<span class="token punctuation">,</span> OFFICE1<span class="token punctuation">,</span> OFFICE2<span class="token punctuation">,</span> OFFICE3<span class="token punctuation">,</span> OFFICE4<span class="token punctuation">,</span>
KITCHEN<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528 static import \u53EF\u4EE5\u7B80\u5316 enum \u5E38\u91CF\u7684\u4F7F\u7528\u3002EnumSet \u7684\u65B9\u6CD5\u7684\u540D\u5B57\u90FD\u76F8\u5F53\u76F4\u89C2\uFF0C\u4F60\u53EF\u4EE5\u67E5\u9605 JDK \u6587\u6863\u627E\u5230\u5176\u5B8C\u6574\u8BE6\u7EC6\u7684\u63CF\u8FF0\u3002\u5982\u679C\u4ED4\u7EC6\u7814\u7A76\u4E86 EnumSet \u7684\u6587\u6863\uFF0C\u4F60\u8FD8\u4F1A\u53D1\u73B0 of() \u65B9\u6CD5\u88AB\u91CD\u8F7D\u4E86\u5F88\u591A\u6B21\uFF0C\u4E0D\u4F46\u4E3A\u53EF\u53D8\u6570\u91CF\u53C2\u6570\u8FDB\u884C\u4E86\u91CD\u8F7D\uFF0C\u800C\u4E14\u4E3A\u63A5\u6536 2 \u81F3 5 \u4E2A\u663E\u5F0F\u7684\u53C2\u6570\u7684\u60C5\u51B5\u90FD\u8FDB\u884C\u4E86\u91CD\u8F7D\u3002\u8FD9\u4E5F\u4ECE\u4FA7\u9762\u8868\u73B0\u4E86 EnumSet \u5BF9\u6027\u80FD\u7684\u5173\u6CE8\u3002\u56E0\u4E3A\uFF0C\u5176\u5B9E\u53EA\u4F7F\u7528\u5355\u72EC\u7684 of() \u65B9\u6CD5\u89E3\u51B3\u53EF\u53D8\u53C2\u6570\u5DF2\u7ECF\u53EF\u4EE5\u89E3\u51B3\u6574\u4E2A\u95EE\u9898\u4E86\uFF0C\u4F46\u662F\u5BF9\u6BD4\u663E\u5F0F\u7684\u53C2\u6570\uFF0C\u4F1A\u6709\u4E00\u70B9\u6027\u80FD\u635F\u5931\u3002\u91C7\u7528\u73B0\u5728\u8FD9\u79CD\u8BBE\u8BA1\uFF0C\u5F53\u4F60\u53EA\u4F7F\u7528 2 \u5230 5 \u4E2A\u53C2\u6570\u8C03\u7528 of() \u65B9\u6CD5\u65F6\uFF0C\u4F60\u53EF\u4EE5\u8C03\u7528\u5BF9\u5E94\u7684\u91CD\u8F7D\u8FC7\u7684\u65B9\u6CD5\uFF08\u901F\u5EA6\u7A0D\u5FEB\u4E00\u70B9\uFF09\uFF0C\u800C\u5F53\u4F60\u4F7F\u7528\u4E00\u4E2A\u53C2\u6570\u6216\u591A\u8FC7 5 \u4E2A\u53C2\u6570\u65F6\uFF0C\u4F60\u8C03\u7528\u7684\u5C06\u662F\u4F7F\u7528\u53EF\u53D8\u53C2\u6570\u7684 of() \u65B9\u6CD5\u3002\u6CE8\u610F\uFF0C\u5982\u679C\u4F60\u53EA\u4F7F\u7528\u4E00\u4E2A\u53C2\u6570\uFF0C\u7F16\u8BD1\u5668\u5E76\u4E0D\u4F1A\u6784\u9020\u53EF\u53D8\u53C2\u6570\u7684\u6570\u7EC4\uFF0C\u6240\u4EE5\u4E0E\u8C03\u7528\u53EA\u6709\u4E00\u4E2A\u53C2\u6570\u7684\u65B9\u6CD5\u76F8\u6BD4\uFF0C\u4E5F\u5C31\u4E0D\u4F1A\u6709\u989D\u5916\u7684\u6027\u80FD\u635F\u8017\u3002</p><p>EnumSet \u7684\u57FA\u7840\u662F long\uFF0C\u4E00\u4E2A long \u503C\u6709 64 \u4F4D\uFF0C\u800C\u4E00\u4E2A enum \u5B9E\u4F8B\u53EA\u9700\u4E00\u4F4D bit \u8868\u793A\u5176\u662F\u5426\u5B58\u5728\u3002 \u4E5F\u5C31\u662F\u8BF4\uFF0C\u5728\u4E0D\u8D85\u8FC7\u4E00\u4E2A long \u7684\u8868\u8FBE\u80FD\u529B\u7684\u60C5\u51B5\u4E0B\uFF0C\u4F60\u7684 EnumSet \u53EF\u4EE5\u5E94\u7528\u4E8E\u6700\u591A\u4E0D\u8D85\u8FC7 64 \u4E2A\u5143\u7D20\u7684 enum\u3002\u5982\u679C enum \u8D85\u8FC7\u4E86 64 \u4E2A\u5143\u7D20\u4F1A\u53D1\u751F\u4EC0\u4E48\u5462\uFF1F</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/BigEnumSet.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BigEnumSet</span> <span class="token punctuation">{</span>
    <span class="token keyword">enum</span> <span class="token class-name">Big</span> <span class="token punctuation">{</span> A0<span class="token punctuation">,</span> A1<span class="token punctuation">,</span> A2<span class="token punctuation">,</span> A3<span class="token punctuation">,</span> A4<span class="token punctuation">,</span> A5<span class="token punctuation">,</span> A6<span class="token punctuation">,</span> A7<span class="token punctuation">,</span> A8<span class="token punctuation">,</span> A9<span class="token punctuation">,</span>
        A10<span class="token punctuation">,</span> A11<span class="token punctuation">,</span> A12<span class="token punctuation">,</span> A13<span class="token punctuation">,</span> A14<span class="token punctuation">,</span> A15<span class="token punctuation">,</span> A16<span class="token punctuation">,</span> A17<span class="token punctuation">,</span> A18<span class="token punctuation">,</span> A19<span class="token punctuation">,</span>
        A20<span class="token punctuation">,</span> A21<span class="token punctuation">,</span> A22<span class="token punctuation">,</span> A23<span class="token punctuation">,</span> A24<span class="token punctuation">,</span> A25<span class="token punctuation">,</span> A26<span class="token punctuation">,</span> A27<span class="token punctuation">,</span> A28<span class="token punctuation">,</span> A29<span class="token punctuation">,</span>
        A30<span class="token punctuation">,</span> A31<span class="token punctuation">,</span> A32<span class="token punctuation">,</span> A33<span class="token punctuation">,</span> A34<span class="token punctuation">,</span> A35<span class="token punctuation">,</span> A36<span class="token punctuation">,</span> A37<span class="token punctuation">,</span> A38<span class="token punctuation">,</span> A39<span class="token punctuation">,</span>
        A40<span class="token punctuation">,</span> A41<span class="token punctuation">,</span> A42<span class="token punctuation">,</span> A43<span class="token punctuation">,</span> A44<span class="token punctuation">,</span> A45<span class="token punctuation">,</span> A46<span class="token punctuation">,</span> A47<span class="token punctuation">,</span> A48<span class="token punctuation">,</span> A49<span class="token punctuation">,</span>
        A50<span class="token punctuation">,</span> A51<span class="token punctuation">,</span> A52<span class="token punctuation">,</span> A53<span class="token punctuation">,</span> A54<span class="token punctuation">,</span> A55<span class="token punctuation">,</span> A56<span class="token punctuation">,</span> A57<span class="token punctuation">,</span> A58<span class="token punctuation">,</span> A59<span class="token punctuation">,</span>
        A60<span class="token punctuation">,</span> A61<span class="token punctuation">,</span> A62<span class="token punctuation">,</span> A63<span class="token punctuation">,</span> A64<span class="token punctuation">,</span> A65<span class="token punctuation">,</span> A66<span class="token punctuation">,</span> A67<span class="token punctuation">,</span> A68<span class="token punctuation">,</span> A69<span class="token punctuation">,</span>
        A70<span class="token punctuation">,</span> A71<span class="token punctuation">,</span> A72<span class="token punctuation">,</span> A73<span class="token punctuation">,</span> A74<span class="token punctuation">,</span> A75 <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">EnumSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Big</span><span class="token punctuation">&gt;</span></span> bigEnumSet <span class="token operator">=</span> <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">allOf</span><span class="token punctuation">(</span><span class="token class-name">Big</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bigEnumSet<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">[</span>A0<span class="token punctuation">,</span> A1<span class="token punctuation">,</span> A2<span class="token punctuation">,</span> A3<span class="token punctuation">,</span> A4<span class="token punctuation">,</span> A5<span class="token punctuation">,</span> A6<span class="token punctuation">,</span> A7<span class="token punctuation">,</span> A8<span class="token punctuation">,</span> A9<span class="token punctuation">,</span> A10<span class="token punctuation">,</span> A11<span class="token punctuation">,</span> A12<span class="token punctuation">,</span>
A13<span class="token punctuation">,</span> A14<span class="token punctuation">,</span> A15<span class="token punctuation">,</span> A16<span class="token punctuation">,</span> A17<span class="token punctuation">,</span> A18<span class="token punctuation">,</span> A19<span class="token punctuation">,</span> A20<span class="token punctuation">,</span> A21<span class="token punctuation">,</span> A22<span class="token punctuation">,</span> A23<span class="token punctuation">,</span>
A24<span class="token punctuation">,</span> A25<span class="token punctuation">,</span> A26<span class="token punctuation">,</span> A27<span class="token punctuation">,</span> A28<span class="token punctuation">,</span> A29<span class="token punctuation">,</span> A30<span class="token punctuation">,</span> A31<span class="token punctuation">,</span> A32<span class="token punctuation">,</span> A33<span class="token punctuation">,</span> A34<span class="token punctuation">,</span>
A35<span class="token punctuation">,</span> A36<span class="token punctuation">,</span> A37<span class="token punctuation">,</span> A38<span class="token punctuation">,</span> A39<span class="token punctuation">,</span> A40<span class="token punctuation">,</span> A41<span class="token punctuation">,</span> A42<span class="token punctuation">,</span> A43<span class="token punctuation">,</span> A44<span class="token punctuation">,</span> A45<span class="token punctuation">,</span>
A46<span class="token punctuation">,</span> A47<span class="token punctuation">,</span> A48<span class="token punctuation">,</span> A49<span class="token punctuation">,</span> A50<span class="token punctuation">,</span> A51<span class="token punctuation">,</span> A52<span class="token punctuation">,</span> A53<span class="token punctuation">,</span> A54<span class="token punctuation">,</span> A55<span class="token punctuation">,</span> A56<span class="token punctuation">,</span>
A57<span class="token punctuation">,</span> A58<span class="token punctuation">,</span> A59<span class="token punctuation">,</span> A60<span class="token punctuation">,</span> A61<span class="token punctuation">,</span> A62<span class="token punctuation">,</span> A63<span class="token punctuation">,</span> A64<span class="token punctuation">,</span> A65<span class="token punctuation">,</span> A66<span class="token punctuation">,</span> A67<span class="token punctuation">,</span>
A68<span class="token punctuation">,</span> A69<span class="token punctuation">,</span> A70<span class="token punctuation">,</span> A71<span class="token punctuation">,</span> A72<span class="token punctuation">,</span> A73<span class="token punctuation">,</span> A74<span class="token punctuation">,</span> A75<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u663E\u7136\uFF0CEnumSet \u53EF\u4EE5\u5E94\u7528\u4E8E\u591A\u8FC7 64 \u4E2A\u5143\u7D20\u7684 enum\uFF0C\u6240\u4EE5\u6211\u731C\u6D4B\uFF0CEnum \u4F1A\u5728\u5FC5\u8981\u7684\u65F6\u5019\u589E\u52A0\u4E00\u4E2A long\u3002</p><h2 id="\u4F7F\u7528-enummap" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-enummap" aria-hidden="true">#</a> \u4F7F\u7528 EnumMap</h2><p>EnumMap \u662F\u4E00\u79CD\u7279\u6B8A\u7684 Map\uFF0C\u5B83\u8981\u6C42\u5176\u4E2D\u7684\u952E\uFF08key\uFF09\u5FC5\u987B\u6765\u81EA\u4E00\u4E2A enum\uFF0C\u7531\u4E8E enum \u672C\u8EAB\u7684\u9650\u5236\uFF0C\u6240\u4EE5 EnumMap \u5728\u5185\u90E8\u53EF\u7531\u6570\u7EC4\u5B9E\u73B0\u3002\u56E0\u6B64 EnumMap \u7684\u901F\u5EA6\u5F88\u5FEB\uFF0C\u6211\u4EEC\u53EF\u4EE5\u653E\u5FC3\u5730\u4F7F\u7528 enum \u5B9E\u4F8B\u5728 EnumMap \u4E2D\u8FDB\u884C\u67E5\u627E\u64CD\u4F5C\u3002\u4E0D\u8FC7\uFF0C\u6211\u4EEC\u53EA\u80FD\u5C06 enum \u7684\u5B9E\u4F8B\u4F5C\u4E3A\u952E\u6765\u8C03\u7528 put() \u53EF\u65B9\u6CD5\uFF0C\u5176\u4ED6\u64CD\u4F5C\u4E0E\u4F7F\u7528\u4E00\u822C\u7684 Map \u5DEE\u4E0D\u591A\u3002</p><p>\u4E0B\u9762\u7684\u4F8B\u5B50\u6F14\u793A\u4E86<em>\u547D\u4EE4\u8BBE\u8BA1\u6A21\u5F0F</em>\u7684\u7528\u6CD5\u3002\u4E00\u822C\u6765\u8BF4\uFF0C\u547D\u4EE4\u6A21\u5F0F\u9996\u5148\u9700\u8981\u4E00\u4E2A\u53EA\u6709\u5355\u4E00\u65B9\u6CD5\u7684\u63A5\u53E3\uFF0C\u7136\u540E\u4ECE\u8BE5\u63A5\u53E3\u5B9E\u73B0\u5177\u6709\u5404\u81EA\u4E0D\u540C\u7684\u884C\u4E3A\u7684\u591A\u4E2A\u5B50\u7C7B\u3002\u63A5\u4E0B\u6765\uFF0C\u7A0B\u5E8F\u5458\u5C31\u53EF\u4EE5\u6784\u9020\u547D\u4EE4\u5BF9\u8C61\uFF0C\u5E76\u5728\u9700\u8981\u7684\u65F6\u5019\u4F7F\u7528\u5B83\u4EEC\u4E86\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/EnumMaps.java</span>
<span class="token comment">// Basics of EnumMaps</span>
<span class="token comment">// {java enums.EnumMaps}</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">enums<span class="token punctuation">.</span></span><span class="token class-name">AlarmPoints</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span> <span class="token keyword">void</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EnumMaps</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">EnumMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AlarmPoints</span><span class="token punctuation">,</span><span class="token class-name">Command</span><span class="token punctuation">&gt;</span></span> em <span class="token operator">=</span>
                <span class="token keyword">new</span> <span class="token class-name">EnumMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">AlarmPoints</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        em<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>KITCHEN<span class="token punctuation">,</span>
                <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Kitchen fire!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        em<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>BATHROOM<span class="token punctuation">,</span>
                <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Bathroom alert!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AlarmPoints</span><span class="token punctuation">,</span><span class="token class-name">Command</span><span class="token punctuation">&gt;</span></span> e<span class="token operator">:</span>
                em<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            e<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span> <span class="token comment">// If there&#39;s no value for a particular key:</span>
            em<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>UTILITY<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Expected: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>BATHROOM: Bathroom alert!
KITCHEN: Kitchen fire!
Expected: java.lang.NullPointerException
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0E EnumSet \u4E00\u6837\uFF0Cenum \u5B9E\u4F8B\u5B9A\u4E49\u65F6\u7684\u6B21\u5E8F\u51B3\u5B9A\u4E86\u5176\u5728 EnumMap \u4E2D\u7684\u987A\u5E8F\u3002</p><p>main() \u65B9\u6CD5\u7684\u6700\u540E\u90E8\u5206\u8BF4\u660E\uFF0Cenum \u7684\u6BCF\u4E2A\u5B9E\u4F8B\u4F5C\u4E3A\u4E00\u4E2A\u952E\uFF0C\u603B\u662F\u5B58\u5728\u7684\u3002\u4F46\u662F\uFF0C\u5982\u679C\u4F60\u6CA1\u6709\u4E3A\u8FD9\u4E2A\u952E\u8C03\u7528 put() \u65B9\u6CD5\u6765\u5B58\u5165\u76F8\u5E94\u7684\u503C\u7684\u8BDD\uFF0C\u5176\u5BF9\u5E94\u7684\u503C\u5C31\u662F null\u3002</p><p>\u4E0E\u5E38\u91CF\u76F8\u5173\u7684\u65B9\u6CD5\uFF08constant-specific methods \u5C06\u5728\u4E0B\u4E00\u8282\u4E2D\u4ECB\u7ECD\uFF09\u76F8\u6BD4\uFF0CEnumMap \u6709\u4E00\u4E2A\u4F18\u70B9\uFF0C\u90A3 EnumMap \u5141\u8BB8\u7A0B\u5E8F\u5458\u6539\u53D8\u503C\u5BF9\u8C61\uFF0C\u800C\u5E38\u91CF\u76F8\u5173\u7684\u65B9\u6CD5\u5728\u7F16\u8BD1\u671F\u5C31\u88AB\u56FA\u5B9A\u4E86\u3002\u7A0D\u540E\u4F60\u4F1A\u770B\u5230\uFF0C\u5728\u4F60\u6709\u591A\u79CD\u7C7B\u578B\u7684 enum\uFF0C\u800C\u4E14\u5B83\u4EEC\u4E4B\u95F4\u5B58\u5728\u4E92\u64CD\u4F5C\u7684\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u53EF\u4EE5\u7528 EnumMap \u5B9E\u73B0\u591A\u8DEF\u5206\u53D1\uFF08multiple dispatching\uFF09\u3002</p><h2 id="\u5E38\u91CF\u7279\u5B9A\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u5E38\u91CF\u7279\u5B9A\u65B9\u6CD5" aria-hidden="true">#</a> \u5E38\u91CF\u7279\u5B9A\u65B9\u6CD5</h2><p>Java \u7684 enum \u6709\u4E00\u4E2A\u975E\u5E38\u6709\u8DA3\u7684\u7279\u6027\uFF0C\u5373\u5B83\u5141\u8BB8\u7A0B\u5E8F\u5458\u4E3A enum \u5B9E\u4F8B\u7F16\u5199\u65B9\u6CD5\uFF0C\u4ECE\u800C\u4E3A\u6BCF\u4E2A enum \u5B9E\u4F8B\u8D4B\u4E88\u5404\u81EA\u4E0D\u540C\u7684\u884C\u4E3A\u3002\u8981\u5B9E\u73B0\u5E38\u91CF\u76F8\u5173\u7684\u65B9\u6CD5\uFF0C\u4F60\u9700\u8981\u4E3A enum \u5B9A\u4E49\u4E00\u4E2A\u6216\u591A\u4E2A abstract \u65B9\u6CD5\uFF0C\u7136\u540E\u4E3A\u6BCF\u4E2A enum \u5B9E\u4F8B\u5B9E\u73B0\u8BE5\u62BD\u8C61\u65B9\u6CD5\u3002\u53C2\u8003\u4E0B\u9762\u7684\u4F8B\u5B50\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/ConstantSpecificMethod.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">ConstantSpecificMethod</span> <span class="token punctuation">{</span>
    DATE_TIME <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span>
                    <span class="token class-name">DateFormat</span><span class="token punctuation">.</span><span class="token function">getDateInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    CLASSPATH <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getenv</span><span class="token punctuation">(</span><span class="token string">&quot;CLASSPATH&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    VERSION <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;java.version&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">ConstantSpecificMethod</span> csm <span class="token operator">:</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>csm<span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">May</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2017</span>
<span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Users</span>\\<span class="token class-name">Bruce</span>\\<span class="token class-name">Documents</span>\\<span class="token class-name">GitHub</span>\\on<span class="token operator">-</span>
java\\<span class="token class-name">ExtractedExamples</span>\\\\gradle\\wrapper\\gradle<span class="token operator">-</span>
wrapper<span class="token punctuation">.</span>jar
<span class="token number">1.8</span><span class="token number">.0_112</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u901A\u8FC7\u76F8\u5E94\u7684 enum \u5B9E\u4F8B\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8C03\u7528\u5176\u4E0A\u7684\u65B9\u6CD5\u3002\u8FD9\u901A\u5E38\u4E5F\u79F0\u4E3A\u8868\u9A71\u52A8\u7684\u4EE3\u7801\uFF08table-driven code\uFF0C\u8BF7\u6CE8\u610F\u5B83\u4E0E\u524D\u9762\u63D0\u5230\u7684\u547D\u4EE4\u6A21\u5F0F\u7684\u76F8\u4F3C\u4E4B\u5904\uFF09\u3002</p><p>\u5728\u9762\u5411\u5BF9\u8C61\u7684\u7A0B\u5E8F\u8BBE\u8BA1\u4E2D\uFF0C\u4E0D\u540C\u7684\u884C\u4E3A\u4E0E\u4E0D\u540C\u7684\u7C7B\u5173\u8054\u3002\u800C\u901A\u8FC7\u5E38\u91CF\u76F8\u5173\u7684\u65B9\u6CD5\uFF0C\u6BCF\u4E2A enum \u5B9E\u4F8B\u53EF\u4EE5\u5177\u5907\u81EA\u5DF1\u72EC\u7279\u7684\u884C\u4E3A\uFF0C\u8FD9\u4F3C\u4E4E\u8BF4\u660E\u6BCF\u4E2A enum \u5B9E\u4F8B\u5C31\u50CF\u4E00\u4E2A\u72EC\u7279\u7684\u7C7B\u3002\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0Cenum \u5B9E\u4F8B\u4F3C\u4E4E\u88AB\u5F53\u4F5C\u5176\u201C\u8D85\u7C7B\u201DConstantSpecificMethod \u6765\u4F7F\u7528\uFF0C\u5728\u8C03\u7528 getInfo() \u65B9\u6CD5\u65F6\uFF0C\u4F53\u73B0\u51FA\u591A\u6001\u7684\u884C\u4E3A\u3002</p><p>\u7136\u800C\uFF0Cenum \u5B9E\u4F8B\u4E0E\u7C7B\u7684\u76F8\u4F3C\u4E4B\u5904\u4E5F\u4EC5\u9650\u4E8E\u6B64\u4E86\u3002\u6211\u4EEC\u5E76\u4E0D\u80FD\u771F\u7684\u5C06 enum \u5B9E\u4F8B\u4F5C\u4E3A\u4E00\u4E2A\u7C7B\u578B\u6765\u4F7F\u7528\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/NotClasses.java</span>
<span class="token comment">// {javap -c LikeClasses}</span>
<span class="token keyword">enum</span> <span class="token class-name">LikeClasses</span> <span class="token punctuation">{</span>
    WINKEN <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">void</span> <span class="token function">behavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Behavior1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    BLINKEN <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">void</span> <span class="token function">behavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Behavior2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    NOD <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">void</span> <span class="token function">behavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Behavior3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">behavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NotClasses</span> <span class="token punctuation">{</span>
    <span class="token comment">// void f1(LikeClasses.WINKEN instance) {} // Nope</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF08\u524D 12 \u884C\uFF09\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Compiled from &quot;NotClasses.java&quot;
abstract class LikeClasses extends
java.lang.Enum&lt;LikeClasses&gt; {
public static final LikeClasses WINKEN;
public static final LikeClasses BLINKEN;
public static final LikeClasses NOD;
public static LikeClasses[] values();
Code:
0: getstatic #2 // Field
$VALUES:[LLikeClasses;
3: invokevirtual #3 // Method
&quot;[LLikeClasses;&quot;.clone:()Ljava/lang/Object;
...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u65B9\u6CD5 f1() \u4E2D\uFF0C\u7F16\u8BD1\u5668\u4E0D\u5141\u8BB8\u6211\u4EEC\u5C06\u4E00\u4E2A enum \u5B9E\u4F8B\u5F53\u4F5C class \u7C7B\u578B\u3002\u5982\u679C\u6211\u4EEC\u5206\u6790\u4E00\u4E0B\u7F16\u8BD1\u5668\u751F\u6210\u7684\u4EE3\u7801\uFF0C\u5C31\u77E5\u9053\u8FD9\u79CD\u884C\u4E3A\u4E5F\u662F\u5F88\u6B63\u5E38\u7684\u3002\u56E0\u4E3A\u6BCF\u4E2A enum \u5143\u7D20\u90FD\u662F\u4E00\u4E2A LikeClasses \u7C7B\u578B\u7684 static final \u5B9E\u4F8B\u3002</p><p>\u540C\u65F6\uFF0C\u7531\u4E8E\u5B83\u4EEC\u662F static \u5B9E\u4F8B\uFF0C\u65E0\u6CD5\u8BBF\u95EE\u5916\u90E8\u7C7B\u7684\u975E static \u5143\u7D20\u6216\u65B9\u6CD5\uFF0C\u6240\u4EE5\u5BF9\u4E8E\u5185\u90E8\u7684 enum \u7684\u5B9E\u4F8B\u800C\u8A00\uFF0C\u5176\u884C\u4E3A\u4E0E\u4E00\u822C\u7684\u5185\u90E8\u7C7B\u5E76\u4E0D\u76F8\u540C\u3002</p><p>\u518D\u770B\u4E00\u4E2A\u66F4\u6709\u8DA3\u7684\u5173\u4E8E\u6D17\u8F66\u7684\u4F8B\u5B50\u3002\u6BCF\u4E2A\u987E\u5BA2\u5728\u6D17\u8F66\u65F6\uFF0C\u90FD\u6709\u4E00\u4E2A\u9009\u62E9\u83DC\u5355\uFF0C\u6BCF\u4E2A\u9009\u62E9\u5BF9\u5E94\u4E00\u4E2A\u4E0D\u540C\u7684\u52A8\u4F5C\u3002\u53EF\u4EE5\u5C06\u4E00\u4E2A\u5E38\u91CF\u76F8\u5173\u7684\u65B9\u6CD5\u5173\u8054\u5230\u4E00\u4E2A\u9009\u62E9\u4E0A\uFF0C\u518D\u4F7F\u7528\u4E00\u4E2A EnumSet \u6765\u4FDD\u5B58\u5BA2\u6237\u7684\u9009\u62E9\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/CarWash.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CarWash</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Cycle</span> <span class="token punctuation">{</span>
        UNDERBODY <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">void</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Spraying the underbody&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        WHEELWASH <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">void</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Washing the wheels&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        PREWASH <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">void</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Loosening the dirt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        BASIC <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">void</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;The basic wash&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        HOTWAX <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">void</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Applying hot wax&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        RINSE <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">void</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Rinsing&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        BLOWDRY <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">void</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Blowing dry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">EnumSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Cycle</span><span class="token punctuation">&gt;</span></span> cycles <span class="token operator">=</span>
            <span class="token class-name">EnumSet</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">Cycle</span><span class="token punctuation">.</span>BASIC<span class="token punctuation">,</span> <span class="token class-name">Cycle</span><span class="token punctuation">.</span>RINSE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Cycle</span> cycle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cycles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cycle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">washCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Cycle</span> c <span class="token operator">:</span> cycles<span class="token punctuation">)</span>
            c<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> cycles<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">CarWash</span> wash <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CarWash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>wash<span class="token punctuation">)</span><span class="token punctuation">;</span>
        wash<span class="token punctuation">.</span><span class="token function">washCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Order of addition is unimportant:</span>
        wash<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Cycle</span><span class="token punctuation">.</span>BLOWDRY<span class="token punctuation">)</span><span class="token punctuation">;</span>
        wash<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Cycle</span><span class="token punctuation">.</span>BLOWDRY<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Duplicates ignored</span>
        wash<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Cycle</span><span class="token punctuation">.</span>RINSE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        wash<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Cycle</span><span class="token punctuation">.</span>HOTWAX<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>wash<span class="token punctuation">)</span><span class="token punctuation">;</span>
        wash<span class="token punctuation">.</span><span class="token function">washCar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[BASIC, RINSE]
The basic wash
Rinsing
[BASIC, HOTWAX, RINSE, BLOWDRY]
The basic wash
Applying hot wax
Rinsing
Blowing dry
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0E\u4F7F\u7528\u533F\u540D\u5185\u90E8\u7C7B\u76F8\u6BD4\u8F83\uFF0C\u5B9A\u4E49\u5E38\u91CF\u76F8\u5173\u65B9\u6CD5\u7684\u8BED\u6CD5\u66F4\u9AD8\u6548\u3001\u7B80\u6D01\u3002</p><p>\u8FD9\u4E2A\u4F8B\u5B50\u4E5F\u5C55\u793A\u4E86 EnumSet \u4E86\u4E00\u4E9B\u7279\u6027\u3002\u56E0\u4E3A\u5B83\u662F\u4E00\u4E2A\u96C6\u5408\uFF0C\u6240\u4EE5\u5BF9\u4E8E\u540C\u4E00\u4E2A\u5143\u7D20\u800C\u8A00\uFF0C\u53EA\u80FD\u51FA\u73B0\u4E00\u6B21\uFF0C\u56E0\u6B64\u5BF9\u540C\u4E00\u4E2A\u53C2\u6570\u91CD\u590D\u5730\u8C03\u7528 add0 \u65B9\u6CD5\u4F1A\u88AB\u5FFD\u7565\u6389\uFF08\u8FD9\u662F\u6B63\u786E\u7684\u884C\u4E3A\uFF0C\u56E0\u4E3A\u4E00\u4E2A bit \u4F4D\u5F00\u5173\u53EA\u80FD\u201C\u6253\u5F00\u201D\u4E00\u6B21\uFF09\uFF0C\u540C\u6837\u5730\uFF0C\u5411 EnumSet \u6DFB\u52A0 enum \u5B9E\u4F8B\u7684\u987A\u5E8F\u5E76\u4E0D\u91CD\u8981\uFF0C\u56E0\u4E3A\u5176\u8F93\u51FA\u7684\u6B21\u5E8F\u51B3\u5B9A\u4E8E enum \u5B9E\u4F8B\u5B9A\u4E49\u65F6\u7684\u6B21\u5E8F\u3002</p><p>\u9664\u4E86\u5B9E\u73B0 abstract \u65B9\u6CD5\u4EE5\u5916\uFF0C\u7A0B\u5E8F\u5458\u662F\u5426\u53EF\u4EE5\u8986\u76D6\u5E38\u91CF\u76F8\u5173\u7684\u65B9\u6CD5\u5462\uFF1F\u7B54\u6848\u662F\u80AF\u5B9A\u7684\uFF0C\u53C2\u8003\u4E0B\u9762\u7684\u7A0B\u5E8F\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/OverrideConstantSpecific.java</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">OverrideConstantSpecific</span> <span class="token punctuation">{</span>
    NUT<span class="token punctuation">,</span> BOLT<span class="token punctuation">,</span>
    WASHER <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Overridden method&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;default behavior&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">OverrideConstantSpecific</span> ocs <span class="token operator">:</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>ocs <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            ocs<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>NUT: default behavior
BOLT: default behavior
WASHER: Overridden method
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u867D\u7136 enum \u6709\u67D0\u4E9B\u9650\u5236\uFF0C\u4F46\u662F\u4E00\u822C\u800C\u8A00\uFF0C\u6211\u4EEC\u8FD8\u662F\u53EF\u4EE5\u5C06\u5176\u770B\u4F5C\u662F\u7C7B\u3002</p><h3 id="\u4F7F\u7528-enum-\u7684\u804C\u8D23\u94FE" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-enum-\u7684\u804C\u8D23\u94FE" aria-hidden="true">#</a> \u4F7F\u7528 enum \u7684\u804C\u8D23\u94FE</h3><p>\u5728\u804C\u8D23\u94FE\uFF08Chain of Responsibility\uFF09\u8BBE\u8BA1\u6A21\u5F0F\u4E2D\uFF0C\u7A0B\u5E8F\u5458\u4EE5\u591A\u79CD\u4E0D\u540C\u7684\u65B9\u5F0F\u6765\u89E3\u51B3\u4E00\u4E2A\u95EE\u9898\uFF0C\u7136\u540E\u5C06\u5B83\u4EEC\u94FE\u63A5\u5728\u4E00\u8D77\u3002\u5F53\u4E00\u4E2A\u8BF7\u6C42\u5230\u6765\u65F6\uFF0C\u5B83\u904D\u5386\u8FD9\u4E2A\u94FE\uFF0C\u76F4\u5230\u94FE\u4E2D\u7684\u67D0\u4E2A\u89E3\u51B3\u65B9\u6848\u80FD\u591F\u5904\u7406\u8BE5\u8BF7\u6C42\u3002</p><p>\u901A\u8FC7\u5E38\u91CF\u76F8\u5173\u7684\u65B9\u6CD5\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5F88\u5BB9\u6613\u5730\u5B9E\u73B0\u4E00\u4E2A\u7B80\u5355\u7684\u804C\u8D23\u94FE\u3002\u6211\u4EEC\u4EE5\u4E00\u4E2A\u90AE\u5C40\u7684\u6A21\u578B\u4E3A\u4F8B\u3002\u90AE\u5C40\u9700\u8981\u4EE5\u5C3D\u53EF\u80FD\u901A\u7528\u7684\u65B9\u5F0F\u6765\u5904\u7406\u6BCF\u4E00\u5C01\u90AE\u4EF6\uFF0C\u5E76\u4E14\u8981\u4E0D\u65AD\u5C1D\u8BD5\u5904\u7406\u90AE\u4EF6\uFF0C\u76F4\u5230\u8BE5\u90AE\u4EF6\u6700\u7EC8\u88AB\u786E\u5B9A\u4E3A\u4E00\u5C01\u6B7B\u4FE1\u3002\u5176\u4E2D\u7684\u6BCF\u4E00\u6B21\u5C1D\u8BD5\u53EF\u4EE5\u770B\u4F5C\u4E3A\u4E00\u4E2A\u7B56\u7565\uFF08\u4E5F\u662F\u4E00\u4E2A\u8BBE\u8BA1\u6A21\u5F0F\uFF09\uFF0C\u800C\u5B8C\u6574\u7684\u5904\u7406\u65B9\u5F0F\u5217\u8868\u5C31\u662F\u4E00\u4E2A\u804C\u8D23\u94FE\u3002</p><p>\u6211\u4EEC\u5148\u6765\u63CF\u8FF0\u4E00\u4E0B\u90AE\u4EF6\u3002\u90AE\u4EF6\u7684\u6BCF\u4E2A\u5173\u952E\u7279\u5F81\u90FD\u53EF\u4EE5\u7528 enum \u6765\u8868\u793A\u3002\u7A0B\u5E8F\u5C06\u968F\u673A\u5730\u751F\u6210 Mail \u5BF9\u8C61\uFF0C\u5982\u679C\u8981\u51CF\u5C0F\u4E00\u5C01\u90AE\u4EF6\u7684 GeneralDelivery \u4E3A YES \u7684\u6982\u7387\uFF0C\u90A3\u6700\u7B80\u5355\u7684\u65B9\u6CD5\u5C31\u662F\u591A\u521B\u5EFA\u51E0\u4E2A\u4E0D\u662F YES \u7684 enum \u5B9E\u4F8B\uFF0C\u6240\u4EE5 enum \u7684\u5B9A\u4E49\u770B\u8D77\u6765\u6709\u70B9\u53E4\u602A\u3002</p><p>\u6211\u4EEC\u770B\u5230 Mail \u4E2D\u6709\u4E00\u4E2A randomMail() \u65B9\u6CD5\uFF0C\u5B83\u8D1F\u8D23\u968F\u673A\u5730\u521B\u5EFA\u7528\u4E8E\u6D4B\u8BD5\u7684\u90AE\u4EF6\u3002\u800C generator() \u65B9\u6CD5\u751F\u6210\u4E00\u4E2A Iterable \u5BF9\u8C61\uFF0C\u8BE5\u5BF9\u8C61\u5728\u4F60\u8C03\u7528 next() \u65B9\u6CD5\u65F6\uFF0C\u5728\u5176\u5185\u90E8\u4F7F\u7528 randomMail() \u6765\u521B\u5EFA Mail \u5BF9\u8C61\u3002\u8FD9\u6837\u7684\u7ED3\u6784\u4F7F\u7A0B\u5E8F\u5458\u53EF\u4EE5\u901A\u8FC7\u8C03\u7528 Mail.generator() \u65B9\u6CD5\uFF0C\u5F88\u5BB9\u6613\u5730\u6784\u9020\u51FA\u4E00\u4E2A foreach \u5FAA\u73AF\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/PostOffice.java</span>
<span class="token comment">// Modeling a post office</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Mail</span> <span class="token punctuation">{</span>
    <span class="token comment">// The NO&#39;s reduce probability of random selection:</span>
    <span class="token keyword">enum</span> <span class="token class-name">GeneralDelivery</span> <span class="token punctuation">{</span>YES<span class="token punctuation">,</span>NO1<span class="token punctuation">,</span>NO2<span class="token punctuation">,</span>NO3<span class="token punctuation">,</span>NO4<span class="token punctuation">,</span>NO5<span class="token punctuation">}</span>
    <span class="token keyword">enum</span> <span class="token class-name">Scannability</span> <span class="token punctuation">{</span>UNSCANNABLE<span class="token punctuation">,</span>YES1<span class="token punctuation">,</span>YES2<span class="token punctuation">,</span>YES3<span class="token punctuation">,</span>YES4<span class="token punctuation">}</span>
    <span class="token keyword">enum</span> <span class="token class-name">Readability</span> <span class="token punctuation">{</span>ILLEGIBLE<span class="token punctuation">,</span>YES1<span class="token punctuation">,</span>YES2<span class="token punctuation">,</span>YES3<span class="token punctuation">,</span>YES4<span class="token punctuation">}</span>
    <span class="token keyword">enum</span> <span class="token class-name">Address</span> <span class="token punctuation">{</span>INCORRECT<span class="token punctuation">,</span>OK1<span class="token punctuation">,</span>OK2<span class="token punctuation">,</span>OK3<span class="token punctuation">,</span>OK4<span class="token punctuation">,</span>OK5<span class="token punctuation">,</span>OK6<span class="token punctuation">}</span>
    <span class="token keyword">enum</span> <span class="token class-name">ReturnAddress</span> <span class="token punctuation">{</span>MISSING<span class="token punctuation">,</span>OK1<span class="token punctuation">,</span>OK2<span class="token punctuation">,</span>OK3<span class="token punctuation">,</span>OK4<span class="token punctuation">,</span>OK5<span class="token punctuation">}</span>
    <span class="token class-name">GeneralDelivery</span> generalDelivery<span class="token punctuation">;</span>
    <span class="token class-name">Scannability</span> scannability<span class="token punctuation">;</span>
    <span class="token class-name">Readability</span> readability<span class="token punctuation">;</span>
    <span class="token class-name">Address</span> address<span class="token punctuation">;</span>
    <span class="token class-name">ReturnAddress</span> returnAddress<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token keyword">long</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> id <span class="token operator">=</span> counter<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;Mail &quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">details</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                <span class="token string">&quot;, General Delivery: &quot;</span> <span class="token operator">+</span> generalDelivery <span class="token operator">+</span>
                <span class="token string">&quot;, Address Scanability: &quot;</span> <span class="token operator">+</span> scannability <span class="token operator">+</span>
                <span class="token string">&quot;, Address Readability: &quot;</span> <span class="token operator">+</span> readability <span class="token operator">+</span>
                <span class="token string">&quot;, Address Address: &quot;</span> <span class="token operator">+</span> address <span class="token operator">+</span>
                <span class="token string">&quot;, Return address: &quot;</span> <span class="token operator">+</span> returnAddress<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Generate test Mail:</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Mail</span> <span class="token function">randomMail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Mail</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m<span class="token punctuation">.</span>generalDelivery <span class="token operator">=</span>
                <span class="token class-name">Enums</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token class-name">GeneralDelivery</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m<span class="token punctuation">.</span>scannability <span class="token operator">=</span>
                <span class="token class-name">Enums</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token class-name">Scannability</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m<span class="token punctuation">.</span>readability <span class="token operator">=</span>
                <span class="token class-name">Enums</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token class-name">Readability</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m<span class="token punctuation">.</span>address <span class="token operator">=</span> <span class="token class-name">Enums</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token class-name">Address</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        m<span class="token punctuation">.</span>returnAddress <span class="token operator">=</span>
                <span class="token class-name">Enums</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token class-name">ReturnAddress</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> m<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span>
    <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Mail</span><span class="token punctuation">&gt;</span></span> <span class="token function">generator</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Mail</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> n <span class="token operator">=</span> count<span class="token punctuation">;</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Mail</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Mail</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> n<span class="token operator">--</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token class-name">Mail</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> <span class="token function">randomMail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token annotation punctuation">@Override</span>
                    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Not implemented</span>
                        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PostOffice</span> <span class="token punctuation">{</span>
    <span class="token keyword">enum</span> <span class="token class-name">MailHandler</span> <span class="token punctuation">{</span>
        GENERAL_DELIVERY <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">boolean</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Mail</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">switch</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>generalDelivery<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">case</span> YES<span class="token operator">:</span>
                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                                <span class="token string">&quot;Using general delivery for &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        MACHINE_SCAN <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">boolean</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Mail</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">switch</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>scannability<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">case</span> UNSCANNABLE<span class="token operator">:</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                    <span class="token keyword">default</span><span class="token operator">:</span>
                        <span class="token keyword">switch</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>address<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">case</span> INCORRECT<span class="token operator">:</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                            <span class="token keyword">default</span><span class="token operator">:</span>
                                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                                        <span class="token string">&quot;Delivering &quot;</span><span class="token operator">+</span> m <span class="token operator">+</span> <span class="token string">&quot; automatically&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        VISUAL_INSPECTION <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">boolean</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Mail</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">switch</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>readability<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">case</span> ILLEGIBLE<span class="token operator">:</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                    <span class="token keyword">default</span><span class="token operator">:</span>
                        <span class="token keyword">switch</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>address<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            <span class="token keyword">case</span> INCORRECT<span class="token operator">:</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                            <span class="token keyword">default</span><span class="token operator">:</span>
                                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                                        <span class="token string">&quot;Delivering &quot;</span> <span class="token operator">+</span> m <span class="token operator">+</span> <span class="token string">&quot; normally&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        RETURN_TO_SENDER <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">boolean</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Mail</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">switch</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>returnAddress<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">case</span> MISSING<span class="token operator">:</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                    <span class="token keyword">default</span><span class="token operator">:</span>
                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                                <span class="token string">&quot;Returning &quot;</span> <span class="token operator">+</span> m <span class="token operator">+</span> <span class="token string">&quot; to sender&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">abstract</span> <span class="token keyword">boolean</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Mail</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">Mail</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">MailHandler</span> handler <span class="token operator">:</span> <span class="token class-name">MailHandler</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>handler<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m <span class="token operator">+</span> <span class="token string">&quot; is a dead letter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Mail</span> mail <span class="token operator">:</span> <span class="token class-name">Mail</span><span class="token punctuation">.</span><span class="token function">generator</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mail<span class="token punctuation">.</span><span class="token function">details</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">handle</span><span class="token punctuation">(</span>mail<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*****&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Mail 0, General Delivery: NO2, Address Scanability:
UNSCANNABLE, Address Readability: YES3, Address
Address: OK1, Return address: OK1
Delivering Mail 0 normally
*****
Mail 1, General Delivery: NO5, Address Scanability:
YES3, Address Readability: ILLEGIBLE, Address Address:
OK5, Return address: OK1
Delivering Mail 1 automatically
*****
Mail 2, General Delivery: YES, Address Scanability:
YES3, Address Readability: YES1, Address Address: OK1,
Return address: OK5
Using general delivery for Mail 2
*****
Mail 3, General Delivery: NO4, Address Scanability:
YES3, Address Readability: YES1, Address Address:
INCORRECT, Return address: OK4
Returning Mail 3 to sender
*****
Mail 4, General Delivery: NO4, Address Scanability:
UNSCANNABLE, Address Readability: YES1, Address
Address: INCORRECT, Return address: OK2
Returning Mail 4 to sender
*****
Mail 5, General Delivery: NO3, Address Scanability:
YES1, Address Readability: ILLEGIBLE, Address Address:
OK4, Return address: OK2
Delivering Mail 5 automatically
*****
Mail 6, General Delivery: YES, Address Scanability:
YES4, Address Readability: ILLEGIBLE, Address Address:
OK4, Return address: OK4
Using general delivery for Mail 6
*****
Mail 7, General Delivery: YES, Address Scanability:
YES3, Address Readability: YES4, Address Address: OK2,
Return address: MISSING
Using general delivery for Mail 7
*****
Mail 8, General Delivery: NO3, Address Scanability:
YES1, Address Readability: YES3, Address Address:
INCORRECT, Return address: MISSING
Mail 8 is a dead letter
*****
Mail 9, General Delivery: NO1, Address Scanability:
UNSCANNABLE, Address Readability: YES2, Address
Address: OK1, Return address: OK4
Delivering Mail 9 normally
*****
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u804C\u8D23\u94FE\u7531 enum MailHandler \u5B9E\u73B0\uFF0C\u800C enum \u5B9A\u4E49\u7684\u6B21\u5E8F\u51B3\u5B9A\u4E86\u5404\u4E2A\u89E3\u51B3\u7B56\u7565\u5728\u5E94\u7528\u65F6\u7684\u6B21\u5E8F\u3002\u5BF9\u6BCF\u4E00\u5C01\u90AE\u4EF6\uFF0C\u90FD\u8981\u6309\u6B64\u987A\u5E8F\u5C1D\u8BD5\u6BCF\u4E2A\u89E3\u51B3\u7B56\u7565\uFF0C\u76F4\u5230\u5176\u4E2D\u4E00\u4E2A\u80FD\u591F\u6210\u529F\u5730\u5904\u7406\u8BE5\u90AE\u4EF6\uFF0C\u5982\u679C\u6240\u6709\u7684\u7B56\u7565\u90FD\u5931\u8D25\u4E86\uFF0C\u90A3\u4E48\u8BE5\u90AE\u4EF6\u5C06\u88AB\u5224\u5B9A\u4E3A\u4E00\u5C01\u6B7B\u4FE1\u3002</p><h3 id="\u4F7F\u7528-enum-\u7684\u72B6\u6001\u673A" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-enum-\u7684\u72B6\u6001\u673A" aria-hidden="true">#</a> \u4F7F\u7528 enum \u7684\u72B6\u6001\u673A</h3><p>\u679A\u4E3E\u7C7B\u578B\u975E\u5E38\u9002\u5408\u7528\u6765\u521B\u5EFA\u72B6\u6001\u673A\u3002\u4E00\u4E2A\u72B6\u6001\u673A\u53EF\u4EE5\u5177\u6709\u6709\u9650\u4E2A\u7279\u5B9A\u7684\u72B6\u6001\uFF0C\u5B83\u901A\u5E38\u6839\u636E\u8F93\u5165\uFF0C\u4ECE\u4E00\u4E2A\u72B6\u6001\u8F6C\u79FB\u5230\u4E0B\u4E00\u4E2A\u72B6\u6001\uFF0C\u4E0D\u8FC7\u4E5F\u53EF\u80FD\u5B58\u5728\u77AC\u65F6\u72B6\u6001\uFF08transient states\uFF09\uFF0C\u800C\u4E00\u65E6\u4EFB\u52A1\u6267\u884C\u7ED3\u675F\uFF0C\u72B6\u6001\u673A\u5C31\u4F1A\u7ACB\u523B\u79BB\u5F00\u77AC\u65F6\u72B6\u6001\u3002</p><p>\u6BCF\u4E2A\u72B6\u6001\u90FD\u5177\u6709\u67D0\u4E9B\u53EF\u63A5\u53D7\u7684\u8F93\u5165\uFF0C\u4E0D\u540C\u7684\u8F93\u5165\u4F1A\u4F7F\u72B6\u6001\u673A\u4ECE\u5F53\u524D\u72B6\u6001\u8F6C\u79FB\u5230\u4E0D\u540C\u7684\u65B0\u72B6\u6001\u3002\u7531\u4E8E enum \u5BF9\u5176\u5B9E\u4F8B\u6709\u4E25\u683C\u9650\u5236\uFF0C\u975E\u5E38\u9002\u5408\u7528\u6765\u8868\u73B0\u4E0D\u540C\u7684\u72B6\u6001\u548C\u8F93\u5165\u3002\u4E00\u822C\u800C\u8A00\uFF0C\u6BCF\u4E2A\u72B6\u6001\u90FD\u5177\u6709\u4E00\u4E9B\u76F8\u5173\u7684\u8F93\u51FA\u3002</p><p>\u81EA\u52A8\u552E\u8D37\u673A\u662F\u4E00\u4E2A\u5F88\u597D\u7684\u72B6\u6001\u673A\u7684\u4F8B\u5B50\u3002\u9996\u5148\uFF0C\u6211\u4EEC\u7528\u4E00\u4E2A enum \u5B9A\u4E49\u5404\u79CD\u8F93\u5165\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/Input.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Input</span> <span class="token punctuation">{</span>
    <span class="token function">NICKEL</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">DIME</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">QUARTER</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">DOLLAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">TOOTHPASTE</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">CHIPS</span><span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">SODA</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">SOAP</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    ABORT_TRANSACTION <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">amount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Disallow</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;ABORT.amount()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    STOP <span class="token punctuation">{</span> <span class="token comment">// This must be the last instance.</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">amount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Disallow</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;SHUT_DOWN.amount()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> value<span class="token punctuation">;</span> <span class="token comment">// In cents</span>
    <span class="token class-name">Input</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token class-name">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">int</span> <span class="token function">amount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// In cents</span>
    <span class="token keyword">static</span> <span class="token class-name">Random</span> rand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Input</span> <span class="token function">randomSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Don&#39;t include STOP:</span>
        <span class="token keyword">return</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span>rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\uFF0C\u9664\u4E86\u4E24\u4E2A\u7279\u6B8A\u7684 Input \u5B9E\u4F8B\u4E4B\u5916\uFF0C\u5176\u4ED6\u7684 Input \u90FD\u6709\u76F8\u5E94\u7684\u4EF7\u683C\uFF0C\u56E0\u6B64\u5728\u63A5\u53E3\u4E2D\u5B9A\u4E49\u4E86 amount\uFF08\u65B9\u6CD5\u3002\u7136\u800C\uFF0C\u5BF9\u90A3\u4E24\u4E2A\u7279\u6B8A Input \u5B9E\u4F8B\u800C\u8A00\uFF0C\u8C03\u7528 amount\uFF08\u65B9\u6CD5\u5E76\u4E0D\u5408\u9002\uFF0C\u6240\u4EE5\u5982\u679C\u7A0B\u5E8F\u5458\u8C03\u7528\u5B83\u4EEC\u7684 amount\uFF09\u65B9\u6CD5\u5C31\u4F1A\u6709\u5F02\u5E38\u629B\u51FA\uFF08\u5728\u63A5\u53E3\u5185\u5B9A\u4E49\u4E86\u4E00\u4E2A\u65B9\u6CD5\uFF0C\u7136\u540E\u5728\u4F60\u8C03\u7528\u8BE5\u65B9\u6CD5\u7684\u67D0\u4E2A\u5B9E\u73B0\u65F6\u5C31\u4F1A\u629B\u51FA\u5F02\u5E38\uFF09\uFF0C\u8FD9\u4F3C\u4E4E\u6709\u70B9\u5947\u602A\uFF0C\u4F46\u7531\u4E8E enum \u7684\u9650\u5236\uFF0C\u6211\u4EEC\u4E0D\u5F97\u4E0D\u91C7\u7528\u8FD9\u79CD\u65B9\u5F0F\u3002</p><p>VendingMachine \u5BF9\u8F93\u5165\u7684\u7B2C\u4E00\u4E2A\u53CD\u5E94\u662F\u5C06\u5176\u5F52\u7C7B\u4E3A Category enum \u4E2D\u7684\u67D0\u4E00\u4E2A enum \u5B9E\u4F8B\uFF0C\u8FD9\u53EF\u4EE5\u901A\u8FC7 switch \u5B9E\u73B0\u3002\u4E0B\u9762\u7684\u4F8B\u5B50\u6F14\u793A\u4E86 enum \u662F\u5982\u4F55\u4F7F\u4EE3\u7801\u53D8\u5F97\u66F4\u52A0\u6E05\u6670\u4E14\u6613\u4E8E\u7BA1\u7406\u7684\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/VendingMachine.java</span>
<span class="token comment">// {java VendingMachine VendingMachineInput.txt}</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">enum</span> <span class="token class-name">Category</span> <span class="token punctuation">{</span>
    <span class="token function">MONEY</span><span class="token punctuation">(</span><span class="token class-name">Input</span><span class="token punctuation">.</span>NICKEL<span class="token punctuation">,</span> <span class="token class-name">Input</span><span class="token punctuation">.</span>DIME<span class="token punctuation">,</span>
            <span class="token class-name">Input</span><span class="token punctuation">.</span>QUARTER<span class="token punctuation">,</span> <span class="token class-name">Input</span><span class="token punctuation">.</span>DOLLAR<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ITEM_SELECTION</span><span class="token punctuation">(</span><span class="token class-name">Input</span><span class="token punctuation">.</span>TOOTHPASTE<span class="token punctuation">,</span> <span class="token class-name">Input</span><span class="token punctuation">.</span>CHIPS<span class="token punctuation">,</span>
            <span class="token class-name">Input</span><span class="token punctuation">.</span>SODA<span class="token punctuation">,</span> <span class="token class-name">Input</span><span class="token punctuation">.</span>SOAP<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">QUIT_TRANSACTION</span><span class="token punctuation">(</span><span class="token class-name">Input</span><span class="token punctuation">.</span>ABORT_TRANSACTION<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SHUT_DOWN</span><span class="token punctuation">(</span><span class="token class-name">Input</span><span class="token punctuation">.</span>STOP<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Input</span><span class="token punctuation">[</span><span class="token punctuation">]</span> values<span class="token punctuation">;</span>
    <span class="token class-name">Category</span><span class="token punctuation">(</span><span class="token class-name">Input</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> types<span class="token punctuation">)</span> <span class="token punctuation">{</span> values <span class="token operator">=</span> types<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">EnumMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span><span class="token punctuation">,</span><span class="token class-name">Category</span><span class="token punctuation">&gt;</span></span> categories <span class="token operator">=</span>
            <span class="token keyword">new</span> <span class="token class-name">EnumMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Input</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Category</span> c <span class="token operator">:</span> <span class="token class-name">Category</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getEnumConstants</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Input</span> type <span class="token operator">:</span> c<span class="token punctuation">.</span>values<span class="token punctuation">)</span>
                categories<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Category</span> <span class="token function">categorize</span><span class="token punctuation">(</span><span class="token class-name">Input</span> input<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> categories<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VendingMachine</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">State</span> state <span class="token operator">=</span> <span class="token class-name">State</span><span class="token punctuation">.</span>RESTING<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> amount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Input</span> selection <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">enum</span> <span class="token class-name">StateDuration</span> <span class="token punctuation">{</span> TRANSIENT <span class="token punctuation">}</span> <span class="token comment">// Tagging enum</span>
    <span class="token keyword">enum</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>
        RESTING <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">void</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token class-name">Input</span> input<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">switch</span><span class="token punctuation">(</span><span class="token class-name">Category</span><span class="token punctuation">.</span><span class="token function">categorize</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">case</span> MONEY<span class="token operator">:</span>
                        amount <span class="token operator">+=</span> input<span class="token punctuation">.</span><span class="token function">amount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        state <span class="token operator">=</span> ADDING_MONEY<span class="token punctuation">;</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> SHUT_DOWN<span class="token operator">:</span>
                        state <span class="token operator">=</span> TERMINAL<span class="token punctuation">;</span>
                    <span class="token keyword">default</span><span class="token operator">:</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        ADDING_MONEY <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">void</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token class-name">Input</span> input<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">switch</span><span class="token punctuation">(</span><span class="token class-name">Category</span><span class="token punctuation">.</span><span class="token function">categorize</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">case</span> MONEY<span class="token operator">:</span>
                        amount <span class="token operator">+=</span> input<span class="token punctuation">.</span><span class="token function">amount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> ITEM_SELECTION<span class="token operator">:</span>
                        selection <span class="token operator">=</span> input<span class="token punctuation">;</span>
                        <span class="token keyword">if</span><span class="token punctuation">(</span>amount <span class="token operator">&lt;</span> selection<span class="token punctuation">.</span><span class="token function">amount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                                    <span class="token string">&quot;Insufficient money for &quot;</span> <span class="token operator">+</span> selection<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token keyword">else</span> state <span class="token operator">=</span> DISPENSING<span class="token punctuation">;</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> QUIT_TRANSACTION<span class="token operator">:</span>
                        state <span class="token operator">=</span> GIVING_CHANGE<span class="token punctuation">;</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> SHUT_DOWN<span class="token operator">:</span>
                        state <span class="token operator">=</span> TERMINAL<span class="token punctuation">;</span>
                    <span class="token keyword">default</span><span class="token operator">:</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">DISPENSING</span><span class="token punctuation">(</span><span class="token class-name">StateDuration</span><span class="token punctuation">.</span>TRANSIENT<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">void</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;here is your &quot;</span> <span class="token operator">+</span> selection<span class="token punctuation">)</span><span class="token punctuation">;</span>
                amount <span class="token operator">-=</span> selection<span class="token punctuation">.</span><span class="token function">amount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                state <span class="token operator">=</span> GIVING_CHANGE<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">GIVING_CHANGE</span><span class="token punctuation">(</span><span class="token class-name">StateDuration</span><span class="token punctuation">.</span>TRANSIENT<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">void</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>amount <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Your change: &quot;</span> <span class="token operator">+</span> amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    amount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                state <span class="token operator">=</span> RESTING<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        TERMINAL <span class="token punctuation">{</span><span class="token annotation punctuation">@Override</span>
        <span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Halted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">boolean</span> isTransient <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token class-name">State</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token class-name">State</span><span class="token punctuation">(</span><span class="token class-name">StateDuration</span> trans<span class="token punctuation">)</span> <span class="token punctuation">{</span> isTransient <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token keyword">void</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token class-name">Input</span> input<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;Only call &quot;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;next(Input input) for non-transient states&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">void</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>
                    <span class="token string">&quot;Only call next() for &quot;</span> <span class="token operator">+</span>
                            <span class="token string">&quot;StateDuration.TRANSIENT states&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span><span class="token punctuation">&gt;</span></span> gen<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>state <span class="token operator">!=</span> <span class="token class-name">State</span><span class="token punctuation">.</span>TERMINAL<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>gen<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>isTransient<span class="token punctuation">)</span>
                state<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            state<span class="token punctuation">.</span><span class="token function">output</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span><span class="token punctuation">&gt;</span></span> gen <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RandomInputSupplier</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
            gen <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputSupplier</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">run</span><span class="token punctuation">(</span>gen<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// For a basic sanity check:</span>
<span class="token keyword">class</span> <span class="token class-name">RandomInputSupplier</span> <span class="token keyword">implements</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Input</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Input</span><span class="token punctuation">.</span><span class="token function">randomSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Create Inputs from a file of &#39;;&#39;-separated strings:</span>
<span class="token keyword">class</span> <span class="token class-name">FileInputSupplier</span> <span class="token keyword">implements</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> input<span class="token punctuation">;</span>
    <span class="token class-name">FileInputSupplier</span><span class="token punctuation">(</span><span class="token class-name">String</span> fileName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            input <span class="token operator">=</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">lines</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// Skip the comment line</span>
                    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">trim</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Input</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>input<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Enum</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token class-name">Input</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> input<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>25
50
75
here is your CHIPS
0
100
200
here is your TOOTHPASTE
0
25
35
Your change: 35
0
25
35
Insufficient money for SODA
35
60
70
75
Insufficient money for SODA
75
Your change: 75
0
Halted
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7531\u4E8E\u7528 switch \u8BED\u53E5\u4ECE enum \u5B9E\u4F8B\u4E2D\u8FDB\u884C\u9009\u62E9\u662F\u6700\u5E38\u89C1\u7684\u4E00\u79CD\u65B9\u5F0F\uFF08\u8BF7\u6CE8\u610F\uFF0C\u4E3A\u4E86\u4F7F enum \u5728 switch \u8BED\u53E5\u4E2D\u7684\u4F7F\u7528\u53D8\u5F97\u7B80\u5355\uFF0C\u6211\u4EEC\u662F\u9700\u8981\u4ED8\u51FA\u5176\u4ED6\u4EE3\u4EF7\u7684\uFF09\uFF0C\u6240\u4EE5\uFF0C\u6211\u4EEC\u7ECF\u5E38\u9047\u5230\u8FD9\u6837\u7684\u95EE\u9898\uFF1A\u5C06\u591A\u4E2A enum \u8FDB\u884C\u5206\u7C7B\u65F6\uFF0C\u201C\u6211\u4EEC\u5E0C\u671B\u5728\u4EC0\u4E48 enum \u4E2D\u4F7F\u7528 switch \u8BED\u53E5\uFF1F\u201D\u6211\u4EEC\u901A\u8FC7 VendingMachine \u7684\u4F8B\u5B50\u6765\u7814\u7A76\u4E00\u4E0B\u8FD9\u4E2A\u95EE\u9898\u3002\u5BF9\u4E8E\u6BCF\u4E00\u4E2A State\uFF0C\u6211\u4EEC\u90FD\u9700\u8981\u5728\u8F93\u5165\u52A8\u4F5C\u7684\u57FA\u672C\u5206\u7C7B\u4E2D\u8FDB\u884C\u67E5\u627E\uFF1A\u7528\u6237\u585E\u5165\u949E\u7968\uFF0C\u9009\u62E9\u4E86\u67D0\u4E2A\u8D27\u7269\uFF0C\u64CD\u4F5C\u88AB\u53D6\u6D88\uFF0C\u4EE5\u53CA\u673A\u5668\u505C\u6B62\u3002\u7136\u800C\uFF0C\u5728\u8FD9\u4E9B\u57FA\u672C\u5206\u7C7B\u4E4B\u4E0B\uFF0C\u6211\u4EEC\u53C8\u53EF\u4EE5\u585E\u4EBA\u4E0D\u540C\u7C7B\u578B\u7684\u949E\u7968\uFF0C\u53EF\u4EE5\u9009\u62E9\u4E0D\u540C\u7684\u8D27\u7269\u3002Category enum \u5C06\u4E0D\u540C\u7C7B\u578B\u7684 Input \u8FDB\u884C\u5206\u7EC4\uFF0C\u56E0\u800C\uFF0C\u53EF\u4EE5\u4F7F\u7528 categorize0 \u65B9\u6CD5\u4E3A switch \u8BED\u53E5\u751F\u6210\u6070\u5F53\u7684 Cateroy \u5B9E\u4F8B\u3002\u5E76\u4E14\uFF0C\u8BE5\u65B9\u6CD5\u4F7F\u7528\u7684 EnumMap \u786E\u4FDD\u4E86\u5728\u5176\u4E2D\u8FDB\u884C\u67E5\u8BE2\u65F6\u7684\u6548\u7387\u4E0E\u5B89\u5168\u3002</p><p>\u5982\u679C\u8BFB\u8005\u4ED4\u7EC6\u7814\u7A76 VendingMachine \u7C7B\uFF0C\u5C31\u4F1A\u53D1\u73B0\u6BCF\u79CD\u72B6\u6001\u7684\u4E0D\u540C\u4E4B\u5904\uFF0C\u4EE5\u53CA\u5BF9\u4E8E\u8F93\u5165\u7684\u4E0D\u540C\u54CD\u5E94\uFF0C\u5176\u4E2D\u8FD8\u6709\u4E24\u4E2A\u77AC\u65F6\u72B6\u6001\u3002\u5728 run() \u65B9\u6CD5\u4E2D\uFF0C\u72B6\u6001\u673A\u7B49\u5F85\u7740\u4E0B\u4E00\u4E2A Input\uFF0C\u5E76\u4E00\u76F4\u5728\u5404\u4E2A\u72B6\u6001\u4E2D\u79FB\u52A8\uFF0C\u76F4\u5230\u5B83\u4E0D\u518D\u5904\u4E8E\u77AC\u65F6\u72B6\u6001\u3002</p><p>\u901A\u8FC7\u4E24\u79CD\u4E0D\u540C\u7684 Generator \u5BF9\u8C61\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u4E0D\u540C\u7684 Supplier \u5BF9\u8C61\u6765\u6D4B\u8BD5 VendingMachine\uFF0C\u9996\u5148\u662F RandomInputSupplier\uFF0C\u5B83\u4F1A\u4E0D\u505C\u5730\u751F\u6210\u9664\u4E86 SHUT-DOWN \u4E4B\u5916\u7684\u5404\u79CD\u8F93\u5165\u3002\u901A\u8FC7\u957F\u65F6\u95F4\u5730\u8FD0\u884C RandomInputSupplier\uFF0C\u53EF\u4EE5\u8D77\u5230\u5065\u5168\u6D4B\u8BD5\uFF08sanity test\uFF09\u7684\u4F5C\u7528\uFF0C\u80FD\u591F\u786E\u4FDD\u8BE5\u72B6\u6001\u673A\u4E0D\u4F1A\u8FDB\u5165\u4E00\u4E2A\u9519\u8BEF\u72B6\u6001\u3002\u53E6\u4E00\u4E2A\u662F FileInputSupplier\uFF0C\u4F7F\u7528\u6587\u4EF6\u4EE5\u6587\u672C\u7684\u65B9\u5F0F\u6765\u63CF\u8FF0\u8F93\u5165\uFF0C\u7136\u540E\u5C06\u5B83\u4EEC\u8F6C\u6362\u6210 enum \u5B9E\u4F8B\uFF0C\u5E76\u521B\u5EFA\u5BF9\u5E94\u7684 Input \u5BF9\u8C61\u3002\u4E0A\u9762\u7684\u7A0B\u5E8F\u4F7F\u7528\u7684\u6B63\u662F\u5982\u4E0B\u7684\u6587\u672C\u6587\u4EF6\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// enums/VendingMachineInput.txt
QUARTER; QUARTER; QUARTER; CHIPS;
DOLLAR; DOLLAR; TOOTHPASTE;
QUARTER; DIME; ABORT_TRANSACTION;
QUARTER; DIME; SODA;
QUARTER; DIME; NICKEL; SODA;
ABORT_TRANSACTION;
STOP;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>FileInputSupplier \u6784\u9020\u51FD\u6570\u5C06\u6B64\u6587\u4EF6\u8F6C\u6362\u4E3A\u6D41\uFF0C\u5E76\u8DF3\u8FC7\u6CE8\u91CA\u884C\u3002\u7136\u540E\u5B83\u4F7F\u7528 String.split() \u4EE5\u5206\u53F7\u8FDB\u884C\u5206\u5272\u3002\u8FD9\u4F1A\u751F\u6210\u4E00\u4E2A String \u6570\u7EC4\uFF0C\u5E76\u53EF\u4EE5\u901A\u8FC7\u5C06\u5176\u8F6C\u6362\u4E3A Stream\uFF0C\u7136\u540E\u5E94\u7528 flatMap() \u6765\u5C06\u5176\u8F93\u5165\u5230\u6D41\u4E2D\u3002\u5176\u8F93\u51FA\u7ED3\u679C\u5C06\u53BB\u9664\u6240\u6709\u7A7A\u683C\u7A7A\u683C\uFF0C\u5E76\u8F6C\u6362\u4E3A List&lt;String&gt;\uFF0C\u4E14\u4ECE\u4E2D\u83B7\u53D6 Iterator&lt;String&gt;\u3002</p><p>\u8FD9\u79CD\u8BBE\u8BA1\u6709\u4E00\u4E2A\u7F3A\u9677\uFF0C\u5B83\u8981\u6C42 enum State \u5B9E\u4F8B\u8BBF\u95EE\u7684 VendingMachine \u5C5E\u6027\u5FC5\u987B\u58F0\u660E\u4E3A static\uFF0C\u8FD9\u610F\u5473\u7740\uFF0C\u4F60\u53EA\u80FD\u6709\u4E00\u4E2A VendingMachine \u5B9E\u4F8B\u3002\u4E0D\u8FC7\u5982\u679C\u6211\u4EEC\u601D\u8003\u4E00\u4E0B\u5B9E\u9645\u7684\uFF08\u5D4C\u5165\u5F0F Java\uFF09\u5E94\u7528\uFF0C\u8FD9\u4E5F\u8BB8\u5E76\u4E0D\u662F\u4E00\u4E2A\u5927\u95EE\u9898\uFF0C\u56E0\u4E3A\u5728\u4E00\u53F0\u673A\u5668\u4E0A\uFF0C\u6211\u4EEC\u53EF\u80FD\u53EA\u6709\u4E00\u4E2A\u5E94\u7528\u7A0B\u5E8F\u3002</p><h2 id="\u591A\u8DEF\u5206\u53D1" tabindex="-1"><a class="header-anchor" href="#\u591A\u8DEF\u5206\u53D1" aria-hidden="true">#</a> \u591A\u8DEF\u5206\u53D1</h2><p>\u5F53\u4F60\u8981\u5904\u7406\u591A\u79CD\u4EA4\u4E92\u7C7B\u578B\u65F6\uFF0C\u7A0B\u5E8F\u53EF\u80FD\u4F1A\u53D8\u5F97\u76F8\u5F53\u6742\u4E71\u3002\u4E3E\u4F8B\u6765\u8BF4\uFF0C\u5982\u679C\u4E00\u4E2A\u7CFB\u7EDF\u8981\u5206\u6790\u548C\u6267\u884C\u6570\u5B66\u8868\u8FBE\u5F0F\u3002\u6211\u4EEC\u53EF\u80FD\u4F1A\u58F0\u660E Number.plus(Number)\uFF0CNumber.multiple(Number) \u7B49\u7B49\uFF0C\u5176\u4E2D Number \u662F\u5404\u79CD\u6570\u5B57\u5BF9\u8C61\u7684\u8D85\u7C7B\u3002\u7136\u800C\uFF0C\u5F53\u4F60\u58F0\u660E a.plus(b) \u65F6\uFF0C\u4F60\u5E76\u4E0D\u77E5\u9053 a \u6216 b \u7684\u786E\u5207\u7C7B\u578B\uFF0C\u90A3\u4F60\u5982\u4F55\u80FD\u8BA9\u5B83\u4EEC\u6B63\u786E\u5730\u4EA4\u4E92\u5462\uFF1F</p><p>\u4F60\u53EF\u80FD\u4ECE\u672A\u601D\u8003\u8FC7\u8FD9\u4E2A\u95EE\u9898\u7684\u7B54\u6848.Java \u53EA\u652F\u6301\u5355\u8DEF\u5206\u53D1\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5982\u679C\u8981\u6267\u884C\u7684\u64CD\u4F5C\u5305\u542B\u4E86\u4E0D\u6B62\u4E00\u4E2A\u7C7B\u578B\u672A\u77E5\u7684\u5BF9\u8C61\u65F6\uFF0C\u90A3\u4E48 Java \u7684\u52A8\u6001\u7ED1\u5B9A\u673A\u5236\u53EA\u80FD\u5904\u7406\u5176\u4E2D\u4E00\u4E2A\u7684\u7C7B\u578B\u3002\u8FD9\u5C31\u65E0\u6CD5\u89E3\u51B3\u6211\u4EEC\u4E0A\u9762\u63D0\u5230\u7684\u95EE\u9898\u3002\u6240\u4EE5\uFF0C\u4F60\u5FC5\u987B\u81EA\u5DF1\u6765\u5224\u5B9A\u5176\u4ED6\u7684\u7C7B\u578B\uFF0C\u4ECE\u800C\u5B9E\u73B0\u81EA\u5DF1\u7684\u52A8\u6001\u7EBF\u5B9A\u884C\u4E3A\u3002</p><p>\u89E3\u51B3\u4E0A\u9762\u95EE\u9898\u7684\u529E\u6CD5\u5C31\u662F\u591A\u8DEF\u5206\u53D1\uFF08\u5728\u90A3\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u53EA\u6709\u4E24\u4E2A\u5206\u53D1\uFF0C\u4E00\u822C\u79F0\u4E4B\u4E3A\u4E24\u8DEF\u5206\u53D1\uFF09.\u591A\u6001\u53EA\u80FD\u53D1\u751F\u5728\u65B9\u6CD5\u8C03\u7528\u65F6\uFF0C\u6240\u4EE5\uFF0C\u5982\u679C\u4F60\u60F3\u4F7F\u7528\u4E24\u8DEF\u5206\u53D1\uFF0C\u90A3\u4E48\u5C31\u5FC5\u987B\u6709\u4E24\u4E2A\u65B9\u6CD5\u8C03\u7528\uFF1A\u7B2C\u4E00\u4E2A\u65B9\u6CD5\u8C03\u7528\u51B3\u5B9A\u7B2C\u4E00\u4E2A\u672A\u77E5\u7C7B\u578B\uFF0C\u7B2C\u4E8C\u4E2A\u65B9\u6CD5\u8C03\u7528\u51B3\u5B9A\u7B2C\u4E8C\u4E2A\u672A\u77E5\u7684\u7C7B\u578B\u3002\u8981\u5229\u7528\u591A\u8DEF\u5206\u53D1\uFF0C\u7A0B\u5E8F\u5458\u5FC5\u987B\u4E3A\u6BCF\u4E00\u4E2A\u7C7B\u578B\u63D0\u4F9B\u4E00\u4E2A\u5B9E\u9645\u7684\u65B9\u6CD5\u8C03\u7528\uFF0C\u5982\u679C\u4F60\u8981\u5904\u7406\u4E24\u4E2A\u4E0D\u540C\u7684\u7C7B\u578B\u4F53\u7CFB\uFF0C\u5C31\u9700\u8981\u4E3A\u6BCF\u4E2A\u7C7B\u578B\u4F53\u7CFB\u6267\u884C\u4E00\u4E2A\u65B9\u6CD5\u8C03\u7528\u3002\u4E00\u822C\u800C\u8A00\uFF0C\u7A0B\u5E8F\u5458\u9700\u8981\u6709\u8BBE\u5B9A\u597D\u7684\u67D0\u79CD\u914D\u7F6E\uFF0C\u4EE5\u4FBF\u4E00\u4E2A\u65B9\u6CD5\u8C03\u7528\u80FD\u591F\u5F15\u51FA\u66F4\u591A\u7684\u65B9\u6CD5\u8C03\u7528\uFF0C\u4ECE\u800C\u80FD\u591F\u5728\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\u5904\u7406\u591A\u79CD\u7C7B\u578B\u3002\u4E3A\u4E86\u8FBE\u5230\u8FD9\u79CD\u6548\u679C\uFF0C\u6211\u4EEC\u9700\u8981\u4E0E\u591A\u4E2A\u65B9\u6CD5\u4E00\u540C\u5DE5\u4F5C\uFF1A\u56E0\u4E3A\u6BCF\u4E2A\u5206\u53D1\u90FD\u9700\u8981\u4E00\u4E2A\u65B9\u6CD5\u8C03\u7528\u3002\u5728\u4E0B\u9762\u7684\u4F8B\u5B50\u4E2D\uFF08\u5B9E\u73B0\u4E86 \u201C\u77F3\u5934\u3001\u526A\u5200\u3001\u5E03\u201D\u6E38\u620F\uFF0C\u4E5F\u79F0\u4E3A RoShamBo\uFF09\u5BF9\u5E94\u7684\u65B9\u6CD5\u662F compete() \u548C eval()\uFF0C\u4E8C\u8005\u90FD\u662F\u540C\u4E00\u4E2A\u7C7B\u578B\u7684\u6210\u5458\uFF0C\u5B83\u4EEC\u53EF\u4EE5\u4EA7\u751F\u4E09\u79CD Outcome \u5B9E\u4F8B\u4E2D\u7684\u4E00\u4E2A\u4F5C\u4E3A\u7ED3\u679C\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/Outcome.java</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Outcome</span> <span class="token punctuation">{</span> WIN<span class="token punctuation">,</span> LOSE<span class="token punctuation">,</span> DRAW <span class="token punctuation">}</span>
<span class="token comment">// enums/RoShamBo1.java</span>
<span class="token comment">// Demonstration of multiple dispatching</span>
<span class="token comment">// {java enums.RoShamBo1}</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
        <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
        <span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">enums<span class="token punctuation">.</span></span><span class="token class-name">Outcome</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">Item</span> <span class="token punctuation">{</span>
    <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">Item</span> it<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Outcome</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token class-name">Paper</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Outcome</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token class-name">Scissors</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Outcome</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token class-name">Rock</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Paper</span> <span class="token keyword">implements</span> <span class="token class-name">Item</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">Item</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> it<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token class-name">Paper</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> DRAW<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token class-name">Scissors</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> WIN<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token class-name">Rock</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> LOSE<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;Paper&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Scissors</span> <span class="token keyword">implements</span> <span class="token class-name">Item</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">Item</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> it<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token class-name">Paper</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> LOSE<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token class-name">Scissors</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> DRAW<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token class-name">Rock</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> WIN<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;Scissors&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Rock</span> <span class="token keyword">implements</span> <span class="token class-name">Item</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">Item</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> it<span class="token punctuation">.</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token class-name">Paper</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> WIN<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token class-name">Scissors</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> LOSE<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token class-name">Rock</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> DRAW<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">&quot;Rock&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RoShamBo1</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SIZE <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Random</span> rand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Item</span> <span class="token function">newItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Scissors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Paper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Rock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">match</span><span class="token punctuation">(</span><span class="token class-name">Item</span> a<span class="token punctuation">,</span> <span class="token class-name">Item</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                a <span class="token operator">+</span> <span class="token string">&quot; vs. &quot;</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> a<span class="token punctuation">.</span><span class="token function">compete</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> SIZE<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token function">match</span><span class="token punctuation">(</span><span class="token function">newItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">newItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Rock vs. Rock: DRAW
Paper vs. Rock: WIN
Paper vs. Rock: WIN
Paper vs. Rock: WIN
Scissors vs. Paper: WIN
Scissors vs. Scissors: DRAW
Scissors vs. Paper: WIN
Rock vs. Paper: LOSE
Paper vs. Paper: DRAW
Rock vs. Paper: LOSE
Paper vs. Scissors: LOSE
Paper vs. Scissors: LOSE
Rock vs. Scissors: WIN
Rock vs. Paper: LOSE
Paper vs. Rock: WIN
Scissors vs. Paper: WIN
Paper vs. Scissors: LOSE
Paper vs. Scissors: LOSE
Paper vs. Scissors: LOSE
Paper vs. Scissors: LOSE
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Item \u662F\u8FD9\u51E0\u79CD\u7C7B\u578B\u7684\u63A5\u53E3\uFF0C\u5C06\u4F1A\u88AB\u7528\u4F5C\u591A\u8DEF\u5206\u53D1\u3002RoShamBo1.match() \u6709\u4E24\u4E2A Item \u53C2\u6570\uFF0C\u901A\u8FC7\u8C03\u7528 Item.compete90) \u65B9\u6CD5\u5F00\u59CB\u4E24\u8DEF\u5206\u53D1\u3002\u8981\u5224\u5B9A a \u7684\u7C7B\u578B\uFF0C\u5206\u53D1\u673A\u5236\u4F1A\u5728 a \u7684\u5B9E\u9645\u7C7B\u578B\u7684 compete\uFF08\u5185\u90E8\u8D77\u5230\u5206\u53D1\u7684\u4F5C\u7528\u3002compete() \u65B9\u6CD5\u901A\u8FC7\u8C03\u7528 eval() \u6765\u4E3A\u53E6\u4E00\u4E2A\u7C7B\u578B\u5B9E\u73B0\u7B2C\u4E8C\u6B21\u5206\u6CD5\u3002</p><p>\u5C06\u81EA\u8EAB\uFF08this\uFF09\u4F5C\u4E3A\u53C2\u6570\u8C03\u7528 evalo\uFF0C\u80FD\u591F\u8C03\u7528\u91CD\u8F7D\u8FC7\u7684 eval() \u65B9\u6CD5\uFF0C\u8FD9\u80FD\u591F\u4FDD\u7559\u7B2C\u4E00\u6B21\u5206\u53D1\u7684\u7C7B\u578B\u4FE1\u606F\u3002\u5F53\u7B2C\u4E8C\u6B21\u5206\u53D1\u5B8C\u6210\u65F6\uFF0C\u4F60\u5C31\u80FD\u591F\u77E5\u9053\u4E24\u4E2A Item \u5BF9\u8C61\u7684\u5177\u4F53\u7C7B\u578B\u4E86\u3002</p><p>\u8981\u914D\u7F6E\u597D\u591A\u8DEF\u5206\u53D1\u9700\u8981\u5F88\u591A\u7684\u5DE5\u5E8F\uFF0C\u4E0D\u8FC7\u8981\u8BB0\u4F4F\uFF0C\u5B83\u7684\u597D\u5904\u5728\u4E8E\u65B9\u6CD5\u8C03\u7528\u65F6\u7684\u4F18\u96C5\u7684\u8BDD\u6CD5\uFF0C\u8FD9\u907F\u514D\u4E86\u5728\u4E00\u4E2A\u65B9\u6CD5\u4E2D\u5224\u5B9A\u591A\u4E2A\u5BF9\u8C61\u7684\u7C7B\u578B\u7684\u4E11\u964B\u4EE3\u7801\uFF0C\u4F60\u53EA\u9700\u8BF4\uFF0C\u201C\u563F\uFF0C\u4F60\u4EEC\u4E24\u4E2A\uFF0C\u6211\u4E0D\u5728\u4E4E\u4F60\u4EEC\u662F\u4EC0\u4E48\u7C7B\u578B\uFF0C\u8BF7\u4F60\u4EEC\u81EA\u5DF1\u4EA4\u6D41\uFF01\u201D\u4E0D\u8FC7\uFF0C\u5728\u4F7F\u7528\u591A\u8DEF\u5206\u53D1\u524D\uFF0C\u8BF7\u5148\u660E\u786E\uFF0C\u8FD9\u79CD\u4F18\u96C5\u7684\u4EE3\u7801\u5BF9\u4F60\u786E\u5B9E\u6709\u91CD\u8981\u7684\u610F\u4E49\u3002</p><h3 id="\u4F7F\u7528-enum-\u5206\u53D1" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-enum-\u5206\u53D1" aria-hidden="true">#</a> \u4F7F\u7528 enum \u5206\u53D1</h3><p>\u76F4\u63A5\u5C06 RoShamBol.java \u7FFB\u8BD1\u4E3A\u57FA\u4E8E enum \u7684\u7248\u672C\u662F\u6709\u95EE\u9898\u7684\uFF0C\u56E0\u4E3A enum \u5B9E\u4F8B\u4E0D\u662F\u7C7B\u578B\uFF0C\u4E0D\u80FD\u5C06 enum \u5B9E\u4F8B\u4F5C\u4E3A\u53C2\u6570\u7684\u7C7B\u578B\uFF0C\u6240\u4EE5\u65E0\u6CD5\u91CD\u8F7D eval() \u65B9\u6CD5\u3002\u4E0D\u8FC7\uFF0C\u8FD8\u6709\u5F88\u591A\u65B9\u5F0F\u53EF\u4EE5\u5B9E\u73B0\u591A\u8DEF\u5206\u53D1\uFF0C\u5E76\u4ECE enum \u4E2D\u83B7\u76CA\u3002</p><p>\u4E00\u79CD\u65B9\u5F0F\u662F\u4F7F\u7528\u6784\u9020\u5668\u6765\u521D\u59CB\u5316\u6BCF\u4E2A enum \u5B9E\u4F8B\uFF0C\u5E76\u4EE5\u201C\u4E00\u7EC4\u201D\u7ED3\u679C\u4F5C\u4E3A\u53C2\u6570\u3002\u8FD9\u4E8C\u8005\u653E\u5728\u4E00\u5757\uFF0C\u5F62\u6210\u4E86\u7C7B\u4F3C\u67E5\u8BE2\u8868\u7684\u7ED3\u6784\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/RoShamBo2.java</span>
<span class="token comment">// Switching one enum on another</span>
<span class="token comment">// {java enums.RoShamBo2}</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">enums<span class="token punctuation">.</span></span><span class="token class-name">Outcome</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">RoShamBo2</span> <span class="token keyword">implements</span> <span class="token class-name">Competitor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RoShamBo2</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token function">PAPER</span><span class="token punctuation">(</span>DRAW<span class="token punctuation">,</span> LOSE<span class="token punctuation">,</span> WIN<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SCISSORS</span><span class="token punctuation">(</span>WIN<span class="token punctuation">,</span> DRAW<span class="token punctuation">,</span> LOSE<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ROCK</span><span class="token punctuation">(</span>LOSE<span class="token punctuation">,</span> WIN<span class="token punctuation">,</span> DRAW<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Outcome</span> vPAPER<span class="token punctuation">,</span> vSCISSORS<span class="token punctuation">,</span> vROCK<span class="token punctuation">;</span>
    <span class="token class-name">RoShamBo2</span><span class="token punctuation">(</span><span class="token class-name">Outcome</span> paper<span class="token punctuation">,</span>
              <span class="token class-name">Outcome</span> scissors<span class="token punctuation">,</span> <span class="token class-name">Outcome</span> rock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vPAPER <span class="token operator">=</span> paper<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vSCISSORS <span class="token operator">=</span> scissors<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vROCK <span class="token operator">=</span> rock<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo2</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">case</span> PAPER<span class="token operator">:</span> <span class="token keyword">return</span> vPAPER<span class="token punctuation">;</span>
            <span class="token keyword">case</span> SCISSORS<span class="token operator">:</span> <span class="token keyword">return</span> vSCISSORS<span class="token punctuation">;</span>
            <span class="token keyword">case</span> ROCK<span class="token operator">:</span> <span class="token keyword">return</span> vROCK<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RoShamBo</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ROCK vs. ROCK: DRAW
SCISSORS vs. ROCK: LOSE
SCISSORS vs. ROCK: LOSE
SCISSORS vs. ROCK: LOSE
PAPER vs. SCISSORS: LOSE
PAPER vs. PAPER: DRAW
PAPER vs. SCISSORS: LOSE
ROCK vs. SCISSORS: WIN
SCISSORS vs. SCISSORS: DRAW
ROCK vs. SCISSORS: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
ROCK vs. PAPER: LOSE
ROCK vs. SCISSORS: WIN
SCISSORS vs. ROCK: LOSE
PAPER vs. SCISSORS: LOSE
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728 compete() \u65B9\u6CD5\u4E2D\uFF0C\u4E00\u65E6\u4E24\u79CD\u7C7B\u578B\u90FD\u88AB\u786E\u5B9A\u4E86\uFF0C\u90A3\u4E48\u552F\u4E00\u7684\u64CD\u4F5C\u5C31\u662F\u8FD4\u56DE\u7ED3\u679C Outcome \u7136\u800C\uFF0C\u4F60\u53EF\u80FD\u8FD8\u9700\u8981\u8C03\u7528\u5176\u4ED6\u7684\u65B9\u6CD5\uFF0C\uFF08\u4F8B\u5982\uFF09\u751A\u81F3\u662F\u8C03\u7528\u5728\u6784\u9020\u5668\u4E2D\u6307\u5B9A\u7684\u67D0\u4E2A\u547D\u4EE4\u5BF9\u8C61\u4E0A\u7684\u65B9\u6CD5\u3002</p><p>RoShamBo2.javal \u4E4B\u524D\u7684\u4F8B\u5B50\u77ED\u5C0F\u5F97\u591A\uFF0C\u800C\u4E14\u66F4\u76F4\u63A5\uFF0C\u66F4\u6613\u4E8E\u7406\u89E3\u3002\u6CE8\u610F\uFF0C\u6211\u4EEC\u4ECD\u7136\u662F\u4F7F\u7528\u4E24\u8DEF\u5206\u53D1\u6765\u5224\u5B9A\u4E24\u4E2A\u5BF9\u8C61\u7684\u7C7B\u578B\u3002\u5728 RoShamBol.java \u4E2D\uFF0C\u4E24\u6B21\u5206\u53D1\u90FD\u662F\u901A\u8FC7\u5B9E\u9645\u7684\u65B9\u6CD5\u8C03\u7528\u5B9E\u73B0\uFF0C\u800C\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u53EA\u6709\u7B2C\u4E00\u6B21\u5206\u53D1\u662F\u5B9E\u9645\u7684\u65B9\u6CD5\u8C03\u7528\u3002\u7B2C\u4E8C\u4E2A\u5206\u53D1\u4F7F\u7528\u7684\u662F switch\uFF0C\u4E0D\u8FC7\u8FD9\u6837\u505A\u662F\u5B89\u5168\u7684\uFF0C\u56E0\u4E3A enum \u9650\u5236\u4E86 switch \u8BED\u53E5\u7684\u9009\u62E9\u5206\u652F\u3002</p><p>\u5728\u4EE3\u7801\u4E2D\uFF0Cenum \u88AB\u5355\u72EC\u62BD\u53D6\u51FA\u6765\uFF0C\u56E0\u6B64\u5B83\u53EF\u4EE5\u5E94\u7528\u5728\u5176\u4ED6\u4F8B\u5B50\u4E2D\u3002\u9996\u5148\uFF0CCompetitor \u63A5\u53E3\u5B9A\u4E49\u4E86\u4E00\u79CD\u7C7B\u578B\uFF0C\u8BE5\u7C7B\u578B\u7684\u5BF9\u8C61\u53EF\u4EE5\u4E0E\u53E6\u4E00\u4E2A Competitor \u76F8\u7ADE\u4E89\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/Competitor.java</span>
<span class="token comment">// Switching one enum on another</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Competitor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Competitor</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">T</span> competitor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7136\u540E\uFF0C\u6211\u4EEC\u5B9A\u4E49\u4E24\u4E2A static \u65B9\u6CD5\uFF08static \u53EF\u4EE5\u907F\u514D\u663E\u5F0F\u5730\u6307\u660E\u53C2\u6570\u7C7B\u578B\uFF09\uFF0C\u7B2C\u4E00\u4E2A\u662F match() \u65B9\u6CD5\uFF0C\u5B83\u4F1A\u4E3A\u4E00\u4E2A Competitor \u5BF9\u8C61\u8C03\u7528 compete() \u65B9\u6CD5\uFF0C\u5E76\u4E0E\u53E6\u4E00\u4E2A Competitor \u5BF9\u8C61\u4F5C\u6BD4\u8F83\u3002\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u6211\u4EEC\u770B\u5230\uFF0Cmatch()\u65B9\u6CD5\u7684\u53C2\u6570\u9700\u8981\u662F Competitor&lt;T&gt; \u7C7B\u578B\u3002\u4F46\u662F\u5728 play() \u65B9\u6CD5\u4E2D\uFF0C\u7C7B\u578B\u53C2\u6570\u5FC5\u987B\u540C\u65F6\u662F Enum&lt;T&gt; \u7C7B\u578B\uFF08\u56E0\u4E3A\u5B83\u5C06\u5728 Enums.random() \u4E2D\u4F7F\u7528\uFF09\u548C Competitor&lt;T&gt; \u7C7B\u578B\uFF08\u56E0\u4E3A\u5B83\u5C06\u88AB\u4F20\u9012\u7ED9 match() \u65B9\u6CD5\uFF09\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/RoShamBo.java</span>
<span class="token comment">// Common tools for RoShamBo examples</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RoShamBo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Competitor</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span>
    <span class="token keyword">void</span> <span class="token function">match</span><span class="token punctuation">(</span><span class="token class-name">T</span> a<span class="token punctuation">,</span> <span class="token class-name">T</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                a <span class="token operator">+</span> <span class="token string">&quot; vs. &quot;</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> a<span class="token punctuation">.</span><span class="token function">compete</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span> <span class="token operator">&amp;</span> <span class="token class-name">Competitor</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span>
    <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> rsbClass<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token function">match</span><span class="token punctuation">(</span><span class="token class-name">Enums</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>rsbClass<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">Enums</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span>rsbClass<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>play() \u65B9\u6CD5\u6CA1\u6709\u5C06\u7C7B\u578B\u53C2\u6570 T \u4F5C\u4E3A\u8FD4\u56DE\u503C\u7C7B\u578B\uFF0C\u56E0\u6B64\uFF0C\u4F3C\u4E4E\u6211\u4EEC\u5E94\u8BE5\u5728 Class&lt;T&gt; \u4E2D\u4F7F\u7528\u901A\u914D\u7B26\u6765\u4EE3\u66FF\u4E0A\u9762\u7684\u53C2\u6570\u58F0\u660E\u3002\u7136\u800C\uFF0C\u901A\u914D\u7B26\u4E0D\u80FD\u6269\u5C55\u591A\u4E2A\u57FA\u7C7B\uFF0C\u6240\u4EE5\u6211\u4EEC\u5FC5\u987B\u91C7\u7528\u4EE5\u4E0A\u7684\u8868\u8FBE\u5F0F\u3002</p><h3 id="\u4F7F\u7528\u5E38\u91CF\u76F8\u5173\u7684\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u5E38\u91CF\u76F8\u5173\u7684\u65B9\u6CD5" aria-hidden="true">#</a> \u4F7F\u7528\u5E38\u91CF\u76F8\u5173\u7684\u65B9\u6CD5</h3><p>\u5E38\u91CF\u76F8\u5173\u7684\u65B9\u6CD5\u5141\u8BB8\u6211\u4EEC\u4E3A\u6BCF\u4E2A enum \u5B9E\u4F8B\u63D0\u4F9B\u65B9\u6CD5\u7684\u4E0D\u540C\u5B9E\u73B0\uFF0C\u8FD9\u4F7F\u5F97\u5E38\u91CF\u76F8\u5173\u7684\u65B9\u6CD5\u4F3C\u4E4E\u662F\u5B9E\u73B0\u591A\u8DEF\u5206\u53D1\u7684\u5B8C\u7F8E\u89E3\u51B3\u65B9\u6848\u3002\u4E0D\u8FC7\uFF0C\u901A\u8FC7\u8FD9\u79CD\u65B9\u5F0F\uFF0Cenum \u5B9E\u4F8B\u867D\u7136\u53EF\u4EE5\u5177\u6709\u4E0D\u540C\u7684\u884C\u4E3A\uFF0C\u4F46\u5B83\u4EEC\u4ECD\u7136\u4E0D\u662F\u7C7B\u578B\uFF0C\u4E0D\u80FD\u5C06\u5176\u4F5C\u4E3A\u65B9\u6CD5\u7B7E\u540D\u4E2D\u7684\u53C2\u6570\u7C7B\u578B\u6765\u4F7F\u7528\u3002\u6700\u597D\u7684\u529E\u6CD5\u662F\u5C06 enum \u7528\u5728 switch \u8BED\u53E5\u4E2D\uFF0C\u89C1\u4E0B\u4F8B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/RoShamBo3.java</span>
<span class="token comment">// Using constant-specific methods</span>
<span class="token comment">// {java enums.RoShamBo3}</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">enums<span class="token punctuation">.</span></span><span class="token class-name">Outcome</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">RoShamBo3</span> <span class="token keyword">implements</span> <span class="token class-name">Competitor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RoShamBo3</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    PAPER <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo3</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">switch</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">default</span><span class="token operator">:</span> <span class="token comment">// To placate the compiler</span>
                <span class="token keyword">case</span> PAPER<span class="token operator">:</span> <span class="token keyword">return</span> DRAW<span class="token punctuation">;</span>
                <span class="token keyword">case</span> SCISSORS<span class="token operator">:</span> <span class="token keyword">return</span> LOSE<span class="token punctuation">;</span>
                <span class="token keyword">case</span> ROCK<span class="token operator">:</span> <span class="token keyword">return</span> WIN<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    SCISSORS <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo3</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">switch</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">default</span><span class="token operator">:</span>
                <span class="token keyword">case</span> PAPER<span class="token operator">:</span> <span class="token keyword">return</span> WIN<span class="token punctuation">;</span>
                <span class="token keyword">case</span> SCISSORS<span class="token operator">:</span> <span class="token keyword">return</span> DRAW<span class="token punctuation">;</span>
                <span class="token keyword">case</span> ROCK<span class="token operator">:</span> <span class="token keyword">return</span> LOSE<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    ROCK <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo3</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">switch</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">default</span><span class="token operator">:</span>
                <span class="token keyword">case</span> PAPER<span class="token operator">:</span> <span class="token keyword">return</span> LOSE<span class="token punctuation">;</span>
                <span class="token keyword">case</span> SCISSORS<span class="token operator">:</span> <span class="token keyword">return</span> WIN<span class="token punctuation">;</span>
                <span class="token keyword">case</span> ROCK<span class="token operator">:</span> <span class="token keyword">return</span> DRAW<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo3</span> it<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RoShamBo</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo3</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ROCK vs. ROCK: DRAW
SCISSORS vs. ROCK: LOSE
SCISSORS vs. ROCK: LOSE
SCISSORS vs. ROCK: LOSE
PAPER vs. SCISSORS: LOSE
PAPER vs. PAPER: DRAW
PAPER vs. SCISSORS: LOSE
ROCK vs. SCISSORS: WIN
SCISSORS vs. SCISSORS: DRAW
ROCK vs. SCISSORS: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
ROCK vs. PAPER: LOSE
ROCK vs. SCISSORS: WIN
SCISSORS vs. ROCK: LOSE
PAPER vs. SCISSORS: LOSE
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u867D\u7136\u8FD9\u79CD\u65B9\u5F0F\u53EF\u4EE5\u5DE5\u4F5C\uFF0C\u4F46\u662F\u5374\u4E0D\u751A\u5408\u7406\uFF0C\u5982\u679C\u91C7\u7528 RoShamB02.java \u7684\u89E3\u51B3\u65B9\u6848\uFF0C\u90A3\u4E48\u5728\u6DFB\u52A0\u4E00\u4E2A\u65B0\u7684\u7C7B\u578B\u65F6\uFF0C\u53EA\u9700\u66F4\u5C11\u7684\u4EE3\u7801\uFF0C\u800C\u4E14\u4E5F\u66F4\u76F4\u63A5\u3002</p><p>:\u7136\u800C\uFF0CRoShamBo3.java \u8FD8\u53EF\u4EE5\u538B\u7F29\u7B80\u5316\u4E00\u4E0B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/RoShamBo4.java</span>
<span class="token comment">// {java enums.RoShamBo4}</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">RoShamBo4</span> <span class="token keyword">implements</span> <span class="token class-name">Competitor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RoShamBo4</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    ROCK <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo4</span> opponent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">compete</span><span class="token punctuation">(</span>SCISSORS<span class="token punctuation">,</span> opponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    SCISSORS <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo4</span> opponent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">compete</span><span class="token punctuation">(</span>PAPER<span class="token punctuation">,</span> opponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    PAPER <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo4</span> opponent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">compete</span><span class="token punctuation">(</span>ROCK<span class="token punctuation">,</span> opponent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo4</span> loser<span class="token punctuation">,</span> <span class="token class-name">RoShamBo4</span> opponent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>opponent <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token class-name">Outcome</span><span class="token punctuation">.</span>DRAW
                <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>opponent <span class="token operator">==</span> loser<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token class-name">Outcome</span><span class="token punctuation">.</span>WIN
                <span class="token operator">:</span> <span class="token class-name">Outcome</span><span class="token punctuation">.</span>LOSE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RoShamBo</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo4</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>PAPER vs. PAPER: DRAW
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
ROCK vs. SCISSORS: WIN
ROCK vs. ROCK: DRAW
ROCK vs. SCISSORS: WIN
PAPER vs. SCISSORS: LOSE
SCISSORS vs. SCISSORS: DRAW
PAPER vs. SCISSORS: LOSE
SCISSORS vs. ROCK: LOSE
SCISSORS vs. ROCK: LOSE
PAPER vs. ROCK: WIN
PAPER vs. SCISSORS: LOSE
SCISSORS vs. PAPER: WIN
ROCK vs. SCISSORS: WIN
SCISSORS vs. ROCK: LOSE
SCISSORS vs. ROCK: LOSE
SCISSORS vs. ROCK: LOSE
SCISSORS vs. ROCK: LOSE
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5176\u4E2D\uFF0C\u5177\u6709\u4E24\u4E2A\u53C2\u6570\u7684 compete() \u65B9\u6CD5\u6267\u884C\u7B2C\u4E8C\u4E2A\u5206\u53D1\uFF0C\u8BE5\u65B9\u6CD5\u6267\u884C\u4E00\u7CFB\u5217\u7684\u6BD4\u8F83\uFF0C\u5176\u884C\u4E3A\u7C7B\u4F3C switch \u8BED\u53E5\u3002\u8FD9\u4E2A\u7248\u672C\u7684\u7A0B\u5E8F\u66F4\u7B80\u77ED\uFF0C\u4E0D\u8FC7\u5374\u6BD4\u8F83\u96BE\u7406\u89E3\uFF0C\u5BF9\u4E8E\u4E00\u4E2A\u5927\u578B\u7CFB\u7EDF\u800C\u8A00\uFF0C\u96BE\u4EE5\u7406\u89E3\u7684\u4EE3\u7801\u5C06\u5BFC\u81F4\u6574\u4E2A\u7CFB\u7EDF\u4E0D\u591F\u5065\u58EE\u3002</p><h3 id="\u4F7F\u7528-enummap-\u8FDB\u884C\u5206\u53D1" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528-enummap-\u8FDB\u884C\u5206\u53D1" aria-hidden="true">#</a> \u4F7F\u7528 EnumMap \u8FDB\u884C\u5206\u53D1</h3><p>\u4F7F\u7528 EnumMap \u80FD\u591F\u5B9E\u73B0\u201C\u771F\u6B63\u7684\u201D\u4E24\u8DEF\u5206\u53D1\u3002EnumMap \u662F\u4E3A enum \u4E13\u95E8\u8BBE\u8BA1\u7684\u4E00\u79CD\u6027\u80FD\u975E\u5E38\u597D\u7684\u7279\u6B8A Map\u3002\u7531\u4E8E\u6211\u4EEC\u7684\u76EE\u7684\u662F\u6478\u7D22\u51FA\u4E24\u79CD\u672A\u77E5\u7684\u7C7B\u578B\uFF0C\u6240\u4EE5\u53EF\u4EE5\u7528\u4E00\u4E2A EnumMap \u7684 EnumMap \u6765\u5B9E\u73B0\u4E24\u8DEF\u5206\u53D1\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// enums/RoShamBo5.java</span>
<span class="token comment">// Multiple dispatching using an EnumMap of EnumMaps</span>
<span class="token comment">// {java enums.RoShamBo5}</span>
<span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">enums<span class="token punctuation">.</span></span><span class="token class-name">Outcome</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">enum</span> <span class="token class-name">RoShamBo5</span> <span class="token keyword">implements</span> <span class="token class-name">Competitor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RoShamBo5</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    PAPER<span class="token punctuation">,</span> SCISSORS<span class="token punctuation">,</span> ROCK<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token class-name">EnumMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RoShamBo5</span><span class="token punctuation">,</span><span class="token class-name">EnumMap</span><span class="token punctuation">&lt;</span><span class="token class-name">RoShamBo5</span><span class="token punctuation">,</span><span class="token class-name">Outcome</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span>
            table <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EnumMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">RoShamBo5</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo5</span> it <span class="token operator">:</span> <span class="token class-name">RoShamBo5</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            table<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">EnumMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">RoShamBo5</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initRow</span><span class="token punctuation">(</span>PAPER<span class="token punctuation">,</span> DRAW<span class="token punctuation">,</span> LOSE<span class="token punctuation">,</span> WIN<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initRow</span><span class="token punctuation">(</span>SCISSORS<span class="token punctuation">,</span> WIN<span class="token punctuation">,</span> DRAW<span class="token punctuation">,</span> LOSE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initRow</span><span class="token punctuation">(</span>ROCK<span class="token punctuation">,</span> LOSE<span class="token punctuation">,</span> WIN<span class="token punctuation">,</span> DRAW<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">initRow</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo5</span> it<span class="token punctuation">,</span>
                        <span class="token class-name">Outcome</span> vPAPER<span class="token punctuation">,</span> <span class="token class-name">Outcome</span> vSCISSORS<span class="token punctuation">,</span> <span class="token class-name">Outcome</span> vROCK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">EnumMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RoShamBo5</span><span class="token punctuation">,</span><span class="token class-name">Outcome</span><span class="token punctuation">&gt;</span></span> row <span class="token operator">=</span>
                <span class="token class-name">RoShamBo5</span><span class="token punctuation">.</span>table<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>
        row<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo5</span><span class="token punctuation">.</span>PAPER<span class="token punctuation">,</span> vPAPER<span class="token punctuation">)</span><span class="token punctuation">;</span>
        row<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo5</span><span class="token punctuation">.</span>SCISSORS<span class="token punctuation">,</span> vSCISSORS<span class="token punctuation">)</span><span class="token punctuation">;</span>
        row<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo5</span><span class="token punctuation">.</span>ROCK<span class="token punctuation">,</span> vROCK<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo5</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> table<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RoShamBo</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo5</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ROCK vs. ROCK: DRAW
SCISSORS vs. ROCK: LOSE
SCISSORS vs. ROCK: LOSE
SCISSORS vs. ROCK: LOSE
PAPER vs. SCISSORS: LOSE
PAPER vs. PAPER: DRAW
PAPER vs. SCISSORS: LOSE
ROCK vs. SCISSORS: WIN
SCISSORS vs. SCISSORS: DRAW
ROCK vs. SCISSORS: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
ROCK vs. PAPER: LOSE
ROCK vs. SCISSORS: WIN
SCISSORS vs. ROCK: LOSE
PAPER vs. SCISSORS: LOSE
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BE5\u7A0B\u5E8F\u5728\u4E00\u4E2A static \u5B50\u53E5\u4E2D\u521D\u59CB\u5316 EnumMap \u5BF9\u8C61\uFF0C\u5177\u4F53\u89C1\u8868\u683C\u4F3C\u7684 initRow() \u65B9\u6CD5\u8C03\u7528\u3002\u8BF7\u6CE8\u610F compete() \u65B9\u6CD5\uFF0C\u60A8\u53EF\u4EE5\u770B\u5230\uFF0C\u5728\u4E00\u884C\u8BED\u53E5\u4E2D\u53D1\u751F\u4E86\u4E24\u6B21\u5206\u53D1\u3002</p><h3 id="\u4F7F\u7528\u4E8C\u7EF4\u6570\u7EC4" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u4E8C\u7EF4\u6570\u7EC4" aria-hidden="true">#</a> \u4F7F\u7528\u4E8C\u7EF4\u6570\u7EC4</h3><p>\u6211\u4EEC\u8FD8\u53EF\u4EE5\u8FDB\u4E00\u6B65\u7B80\u5316\u5B9E\u73B0\u4E24\u8DEF\u5206\u53D1\u7684\u89E3\u51B3\u65B9\u6848\u3002\u6211\u4EEC\u6CE8\u610F\u5230\uFF0C\u6BCF\u4E2A enum \u5B9E\u4F8B\u90FD\u6709\u4E00\u4E2A\u56FA\u5B9A\u7684\u503C\uFF08\u57FA\u4E8E\u5176\u58F0\u660E\u7684\u6B21\u5E8F\uFF09\uFF0C\u5E76\u4E14\u53EF\u4EE5\u901A\u8FC7 ordinal() \u65B9\u6CD5\u53D6\u5F97\u8BE5\u503C\u3002\u56E0\u6B64\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u4E8C\u7EF4\u6570\u7EC4\uFF0C\u5C06\u7ADE\u4E89\u8005\u6620\u5C04\u5230\u7ADE\u4E89\u7ED3\u679C\u3002\u91C7\u7528\u8FD9\u79CD\u65B9\u5F0F\u80FD\u591F\u83B7\u5F97\u6700\u7B80\u6D01\u3001\u6700\u76F4\u63A5\u7684\u89E3\u51B3\u65B9\u6848\uFF08\u5F88\u53EF\u80FD\u4E5F\u662F\u6700\u5FEB\u901F\u7684\uFF0C\u867D\u7136\u6211\u4EEC\u77E5\u9053 EnumMap \u5185\u90E8\u5176\u5B9E\u4E5F\u662F\u4F7F\u7528\u6570\u7EC4\u5B9E\u73B0\u7684\uFF09\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">We</span> can simplify the solution even more by noting that each  <span class="token keyword">enum</span> instance has a fixed
        value <span class="token punctuation">(</span>based on its declaration order<span class="token punctuation">)</span> and that  <span class="token function">ordinal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> produces <span class="token keyword">this</span> <span class="token class-name"><span class="token namespace">value<span class="token punctuation">.</span></span> A</span> two<span class="token operator">-</span>
        dimensional array mapping the competitors onto the outcomes produces the smallest
        and most straightforward solution <span class="token punctuation">(</span>and possibly the fastest<span class="token punctuation">,</span> although remember that
        <span class="token class-name">EnumMap</span> <span class="token keyword">uses</span> <span class="token namespace">an</span> internal array<span class="token punctuation">)</span><span class="token operator">:</span>
<span class="token comment">// enums/RoShamBo6.java</span>
<span class="token comment">// Enums using &quot;tables&quot; instead of multiple dispatch</span>
<span class="token comment">// {java enums.RoShamBo6}</span>
        <span class="token keyword">package</span> <span class="token namespace">enums</span><span class="token punctuation">;</span>
        <span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">enums<span class="token punctuation">.</span></span><span class="token class-name">Outcome</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">enum</span> <span class="token class-name">RoShamBo6</span> <span class="token keyword">implements</span> <span class="token class-name">Competitor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RoShamBo6</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    PAPER<span class="token punctuation">,</span> SCISSORS<span class="token punctuation">,</span> ROCK<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Outcome</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> table <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token punctuation">{</span> DRAW<span class="token punctuation">,</span> LOSE<span class="token punctuation">,</span> WIN <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// PAPER</span>
            <span class="token punctuation">{</span> WIN<span class="token punctuation">,</span> DRAW<span class="token punctuation">,</span> LOSE <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// SCISSORS</span>
            <span class="token punctuation">{</span> LOSE<span class="token punctuation">,</span> WIN<span class="token punctuation">,</span> DRAW <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// ROCK</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Outcome</span> <span class="token function">compete</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo6</span> other<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> table<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ordinal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span>other<span class="token punctuation">.</span><span class="token function">ordinal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RoShamBo</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token class-name">RoShamBo6</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\u4E3A\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ROCK vs. ROCK: DRAW
SCISSORS vs. ROCK: LOSE
SCISSORS vs. ROCK: LOSE
SCISSORS vs. ROCK: LOSE
PAPER vs. SCISSORS: LOSE
PAPER vs. PAPER: DRAW
PAPER vs. SCISSORS: LOSE
ROCK vs. SCISSORS: WIN
SCISSORS vs. SCISSORS: DRAW
ROCK vs. SCISSORS: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
ROCK vs. PAPER: LOSE
ROCK vs. SCISSORS: WIN
SCISSORS vs. ROCK: LOSE
PAPER vs. SCISSORS: LOSE
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
SCISSORS vs. PAPER: WIN
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>table \u4E0E\u524D\u4E00\u4E2A\u4F8B\u5B50\u4E2D initRow() \u65B9\u6CD5\u7684\u8C03\u7528\u6B21\u5E8F\u5B8C\u5168\u76F8\u540C\u3002</p><p>\u4E0E\u524D\u9762\u4E00\u4E2A\u4F8B\u5B50\u76F8\u6BD4\uFF0C\u8FD9\u4E2A\u7A0B\u5E8F\u4EE3\u7801\u867D\u7136\u7B80\u77ED\uFF0C\u4F46\u8868\u8FBE\u80FD\u529B\u5374\u66F4\u5F3A\uFF0C\u90E8\u5206\u539F\u56E0\u662F\u5176\u4EE3\u7801\u66F4\u6613\u4E8E\u7406\u89E3\u4E0E\u4FEE\u6539\uFF0C\u800C\u4E14\u4E5F\u66F4\u76F4\u63A5\u3002\u4E0D\u8FC7\uFF0C\u7531\u4E8E\u5B83\u4F7F\u7528\u7684\u662F\u6570\u7EC4\uFF0C\u6240\u4EE5\u8FD9\u79CD\u65B9\u5F0F\u4E0D\u592A\u201C\u5B89\u5168\u201D\u3002\u5982\u679C\u4F7F\u7528\u4E00\u4E2A\u5927\u578B\u6570\u7EC4\uFF0C\u53EF\u80FD\u4F1A\u4E0D\u5C0F\u5FC3\u4F7F\u7528\u4E86\u9519\u8BEF\u7684\u5C3A\u5BF8\uFF0C\u800C\u4E14\uFF0C\u5982\u679C\u4F60\u7684\u6D4B\u8BD5\u4E0D\u80FD\u8986\u76D6\u6240\u6709\u7684\u53EF\u80FD\u6027\uFF0C\u6709\u4E9B\u9519\u8BEF\u53EF\u80FD\u4F1A\u4ECE\u4F60\u773C\u524D\u6E9C\u8FC7\u3002</p><p>\u4E8B\u5B9E\u4E0A\uFF0C\u4EE5\u4E0A\u6240\u6709\u7684\u89E3\u51B3\u65B9\u6848\u53EA\u662F\u5404\u79CD\u4E0D\u540C\u7C7B\u578B\u7684\u8868\u7F62\u4E86\u3002\u4E0D\u8FC7\uFF0C\u5206\u6790\u5404\u79CD\u8868\u7684\u8868\u73B0\u5F62\u5F0F\uFF0C\u627E\u51FA\u6700\u9002\u5408\u7684\u90A3\u4E00\u79CD\uFF0C\u8FD8\u662F\u5F88\u6709\u4EF7\u503C\u7684\u3002\u6CE8\u610F\uFF0C\u867D\u7136\u4E0A\u4F8B\u662F\u6700\u7B80\u6D01\u7684\u4E00\u79CD\u89E3\u51B3\u65B9\u6848\uFF0C\u4F46\u5B83\u4E5F\u662F\u76F8\u5F53\u50F5\u786C\u7684\u65B9\u6848\uFF0C\u56E0\u4E3A\u5B83\u53EA\u80FD\u9488\u5BF9\u7ED9\u5B9A\u7684\u5E38\u91CF\u8F93\u5165\u4EA7\u751F\u5E38\u91CF\u8F93\u51FA\u3002\u7136\u800C\uFF0C\u4E5F\u6CA1\u6709\u4EC0\u4E48\u7279\u522B\u7684\u7406\u7531\u963B\u6B62\u4F60\u7528 table \u6765\u751F\u6210\u529F\u80FD\u5BF9\u8C61\u3002\u5BF9\u4E8E\u67D0\u7C7B\u95EE\u9898\u800C\u8A00\uFF0C\u201C\u8868\u9A71\u52A8\u5F0F\u7F16\u7801\u201D\u7684\u6982\u5FF5\u5177\u6709\u975E\u5E38\u5F3A\u5927\u7684\u529F\u80FD\u3002</p><h2 id="\u672C\u7AE0\u5C0F\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u672C\u7AE0\u5C0F\u7ED3" aria-hidden="true">#</a> \u672C\u7AE0\u5C0F\u7ED3</h2><p>\u867D\u7136\u679A\u4E3E\u7C7B\u578B\u672C\u8EAB\u5E76\u4E0D\u662F\u7279\u522B\u590D\u6742\uFF0C\u4F46\u6211\u8FD8\u662F\u5C06\u672C\u7AE0\u5B89\u6392\u5728\u5168\u4E66\u6BD4\u8F83\u9760\u540E\u7684\u4F4D\u7F6E\uFF0C\u8FD9\u662F\u56E0\u4E3A\uFF0C\u7A0B\u5E8F\u5458\u53EF\u4EE5\u5C06 enum \u4E0E Java \u8BED\u8A00\u7684\u5176\u4ED6\u529F\u80FD\u7ED3\u5408\u4F7F\u7528\uFF0C\u4F8B\u5982\u591A\u6001\u3001\u6CDB\u578B\u548C\u53CD\u5C04\u3002</p><p>\u867D\u7136 Java \u4E2D\u7684\u679A\u4E3E\u6BD4 C \u6216 C++\u4E2D\u7684 enum \u66F4\u6210\u719F\uFF0C\u4F46\u5B83\u4ECD\u7136\u662F\u4E00\u4E2A\u201C\u5C0F\u201D\u529F\u80FD\uFF0CJava \u6CA1\u6709\u5B83\u4E5F\u5DF2\u7ECF\uFF08\u867D\u7136\u6709\u70B9\u7B28\u62D9\uFF09\u5B58\u5728\u5F88\u591A\u5E74\u4E86\u3002\u800C\u672C\u7AE0\u6B63\u597D\u8BF4\u660E\u4E86\u4E00\u4E2A\u201C\u5C0F\u201D\u529F\u80FD\u6240\u80FD\u5E26\u6765\u7684\u4EF7\u503C\u3002\u6709\u65F6\u6070\u6070\u56E0\u4E3A\u5B83\uFF0C\u4F60\u624D\u80FD\u591F\u4F18\u96C5\u800C\u5E72\u51C0\u5730\u89E3\u51B3\u95EE\u9898\u3002\u6B63\u5982\u6211\u5728\u672C\u4E66\u4E2D\u4E00\u518D\u5F3A\u8C03\u7684\u90A3\u6837\uFF0C\u4F18\u96C5\u4E0E\u6E05\u6670\u5F88\u91CD\u8981\uFF0C\u6B63\u662F\u5B83\u4EEC\u533A\u522B\u4E86\u6210\u529F\u7684\u89E3\u51B3\u65B9\u6848\u4E0E\u5931\u8D25\u7684\u89E3\u51B3\u65B9\u6848\u3002\u800C\u5931\u8D25\u7684\u89E3\u51B3\u65B9\u6848\u5C31\u662F\u56E0\u4E3A\u5176\u4ED6\u4EBA\u65E0\u6CD5\u7406\u89E3\u5B83\u3002</p><p>\u5173\u4E8E\u6E05\u6670\u7684\u8BDD\u9898\uFF0CJava 1.0 \u5BF9\u672F\u8BED enumeration \u7684\u9009\u62E9\u6B63\u662F\u4E00\u4E2A\u4E0D\u5E78\u7684\u53CD\u4F8B\u3002\u5BF9\u4E8E\u4E00\u4E2A\u4E13\u95E8\u7528\u4E8E\u4ECE\u5E8F\u5217\u4E2D\u9009\u62E9\u6BCF\u4E00\u4E2A\u5143\u7D20\u7684\u5BF9\u8C61\u800C\u8A00\uFF0CJava \u7ADF\u7136\u6CA1\u6709\u4F7F\u7528\u66F4\u901A\u7528\u3001\u66F4\u666E\u904D\u63A5\u53D7\u7684\u672F\u8BED iterator \u6765\u8868\u793A\u5B83\uFF08\u53C2\u89C1<a href="">\u96C6\u5408 </a> \u7AE0\u8282\uFF09\uFF0C\u6709\u4E9B\u8BED\u8A00\u751A\u81F3\u5C06\u679A\u4E3E\u7684\u6570\u636E\u7C7B\u578B\u79F0\u4E3A \u201Cenumerators\u201D\uFF01Java \u4FEE\u6B63\u4E86\u8FD9\u4E2A\u9519\u8BEF\uFF0C\u4F46\u662F Enumeration \u63A5\u53E3\u5DF2\u7ECF\u65E0\u6CD5\u8F7B\u6613\u5730\u62B9\u53BB\u4E86\uFF0C\u56E0\u6B64\u5B83\u5C06\u4E00\u76F4\u5B58\u5728\u4E8E\u65E7\u7684\uFF08\u751A\u81F3\u6709\u4E9B\u65B0\u7684\uFF09\u4EE3\u7801\u3001\u7C7B\u5E93\u4EE5\u53CA\u6587\u6863\u4E2D\u3002</p><div style="page-break-after:always;"></div>`,226),c=[e];function o(l,i){return s(),a("div",null,c)}var k=n(t,[["render",o],["__file","22-Enumerations.html.vue"]]);export{k as default};
